{"ast":null,"code":"import _defineProperty from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-plotlycharts/src/Blocks/EmbedEEAVisualization/Edit.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { SidebarPortal } from '@plone/volto/components';\nimport BlockDataForm from '@plone/volto/components/manage/Form/BlockDataForm';\nimport ConnectedChart2 from '@eeacms/volto-plotlycharts/ConnectedChart2';\nimport '@eeacms/volto-plotlycharts/less/visualization.less';\nimport Schema from './schema';\nvar Edit = function Edit(props) {\n  _s();\n  var data = props.data,\n    block = props.block,\n    onChangeBlock = props.onChangeBlock;\n  var schema = React.useMemo(function () {\n    return Schema(props);\n  }, [props]);\n  React.useEffect(function () {\n    if (!Object.hasOwn(data, 'download_button')) {\n      onChangeBlock(block, _objectSpread(_objectSpread({}, data), {}, {\n        download_button: true\n      }));\n    }\n    if (!Object.hasOwn(data, 'show_sources')) {\n      onChangeBlock(block, _objectSpread(_objectSpread({}, data), {}, {\n        show_sources: true\n      }));\n    }\n  }, [block, data, onChangeBlock]);\n  return __jsx(React.Fragment, null, __jsx(ConnectedChart2, {\n    id: props.id,\n    data: {\n      chartSources: data.chartSources,\n      data_query: data.data_query,\n      download_button: data.download_button,\n      has_data_query_by_context: data.has_data_query_by_context,\n      has_data_query_by_provider: data.has_data_query_by_provider,\n      use_live_data: true,\n      vis_url: data.vis_url,\n      with_sources: data.show_sources,\n      include_core_metadata_download: data.include_core_metadata_download\n    },\n    hoverFormatXY: data.hover_format_xy,\n    withSources: data.show_sources,\n    width: data.width,\n    height: data.height,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }), __jsx(SidebarPortal, {\n    selected: props.selected,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, __jsx(BlockDataForm, {\n    block: block,\n    title: schema.title,\n    schema: schema,\n    onChangeField: function onChangeField(id, value) {\n      props.onChangeBlock(block, _objectSpread(_objectSpread({}, data), {}, _defineProperty({}, id, value)));\n    },\n    formData: data,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  })));\n};\n_s(Edit, \"P723ZJ13UmXjUFKy4Hdsz+tAWKY=\");\n_c = Edit;\nexport default Edit;\nvar _c;\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"names":["React","SidebarPortal","BlockDataForm","ConnectedChart2","Schema","Edit","props","data","block","onChangeBlock","schema","useMemo","useEffect","Object","hasOwn","download_button","show_sources","id","chartSources","data_query","has_data_query_by_context","has_data_query_by_provider","use_live_data","vis_url","with_sources","include_core_metadata_download","hover_format_xy","width","height","selected","title","value"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-plotlycharts/src/Blocks/EmbedEEAVisualization/Edit.jsx"],"sourcesContent":["import React from 'react';\nimport { SidebarPortal } from '@plone/volto/components';\nimport BlockDataForm from '@plone/volto/components/manage/Form/BlockDataForm';\nimport ConnectedChart2 from '@eeacms/volto-plotlycharts/ConnectedChart2';\n\nimport '@eeacms/volto-plotlycharts/less/visualization.less';\nimport Schema from './schema';\n\nconst Edit = (props) => {\n  const { data, block, onChangeBlock } = props;\n  const schema = React.useMemo(() => Schema(props), [props]);\n\n  React.useEffect(() => {\n    if (!Object.hasOwn(data, 'download_button')) {\n      onChangeBlock(block, {\n        ...data,\n        download_button: true,\n      });\n    }\n    if (!Object.hasOwn(data, 'show_sources')) {\n      onChangeBlock(block, {\n        ...data,\n        show_sources: true,\n      });\n    }\n  }, [block, data, onChangeBlock]);\n\n  return (\n    <>\n      <ConnectedChart2\n        id={props.id}\n        data={{\n          chartSources: data.chartSources,\n          data_query: data.data_query,\n          download_button: data.download_button,\n          has_data_query_by_context: data.has_data_query_by_context,\n          has_data_query_by_provider: data.has_data_query_by_provider,\n          use_live_data: true,\n          vis_url: data.vis_url,\n          with_sources: data.show_sources,\n          include_core_metadata_download: data.include_core_metadata_download,\n        }}\n        hoverFormatXY={data.hover_format_xy}\n        withSources={data.show_sources}\n        width={data.width}\n        height={data.height}\n      />\n\n      <SidebarPortal selected={props.selected}>\n        <BlockDataForm\n          block={block}\n          title={schema.title}\n          schema={schema}\n          onChangeField={(id, value) => {\n            props.onChangeBlock(block, {\n              ...data,\n              [id]: value,\n            });\n          }}\n          formData={data}\n        />\n      </SidebarPortal>\n    </>\n  );\n};\n\nexport default Edit;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,yBAAyB;AACvD,OAAOC,aAAa,MAAM,mDAAmD;AAC7E,OAAOC,eAAe,MAAM,4CAA4C;AAExE,OAAO,oDAAoD;AAC3D,OAAOC,MAAM,MAAM,UAAU;AAE7B,IAAMC,IAAI,GAAG,SAAPA,IAAI,CAAIC,KAAK,EAAK;EAAA;EACtB,IAAQC,IAAI,GAA2BD,KAAK,CAApCC,IAAI;IAAEC,KAAK,GAAoBF,KAAK,CAA9BE,KAAK;IAAEC,aAAa,GAAKH,KAAK,CAAvBG,aAAa;EAClC,IAAMC,MAAM,GAAGV,KAAK,CAACW,OAAO,CAAC;IAAA,OAAMP,MAAM,CAACE,KAAK,CAAC;EAAA,GAAE,CAACA,KAAK,CAAC,CAAC;EAE1DN,KAAK,CAACY,SAAS,CAAC,YAAM;IACpB,IAAI,CAACC,MAAM,CAACC,MAAM,CAACP,IAAI,EAAE,iBAAiB,CAAC,EAAE;MAC3CE,aAAa,CAACD,KAAK,kCACdD,IAAI;QACPQ,eAAe,EAAE;MAAI,GACrB;IACJ;IACA,IAAI,CAACF,MAAM,CAACC,MAAM,CAACP,IAAI,EAAE,cAAc,CAAC,EAAE;MACxCE,aAAa,CAACD,KAAK,kCACdD,IAAI;QACPS,YAAY,EAAE;MAAI,GAClB;IACJ;EACF,CAAC,EAAE,CAACR,KAAK,EAAED,IAAI,EAAEE,aAAa,CAAC,CAAC;EAEhC,OACE,4BACE,MAAC,eAAe;IACd,EAAE,EAAEH,KAAK,CAACW,EAAG;IACb,IAAI,EAAE;MACJC,YAAY,EAAEX,IAAI,CAACW,YAAY;MAC/BC,UAAU,EAAEZ,IAAI,CAACY,UAAU;MAC3BJ,eAAe,EAAER,IAAI,CAACQ,eAAe;MACrCK,yBAAyB,EAAEb,IAAI,CAACa,yBAAyB;MACzDC,0BAA0B,EAAEd,IAAI,CAACc,0BAA0B;MAC3DC,aAAa,EAAE,IAAI;MACnBC,OAAO,EAAEhB,IAAI,CAACgB,OAAO;MACrBC,YAAY,EAAEjB,IAAI,CAACS,YAAY;MAC/BS,8BAA8B,EAAElB,IAAI,CAACkB;IACvC,CAAE;IACF,aAAa,EAAElB,IAAI,CAACmB,eAAgB;IACpC,WAAW,EAAEnB,IAAI,CAACS,YAAa;IAC/B,KAAK,EAAET,IAAI,CAACoB,KAAM;IAClB,MAAM,EAAEpB,IAAI,CAACqB,MAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACpB,EAEF,MAAC,aAAa;IAAC,QAAQ,EAAEtB,KAAK,CAACuB,QAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACtC,MAAC,aAAa;IACZ,KAAK,EAAErB,KAAM;IACb,KAAK,EAAEE,MAAM,CAACoB,KAAM;IACpB,MAAM,EAAEpB,MAAO;IACf,aAAa,EAAE,uBAACO,EAAE,EAAEc,KAAK,EAAK;MAC5BzB,KAAK,CAACG,aAAa,CAACD,KAAK,kCACpBD,IAAI,2BACNU,EAAE,EAAGc,KAAK,GACX;IACJ,CAAE;IACF,QAAQ,EAAExB,IAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACf,CACY,CACf;AAEP,CAAC;AAAC,GAxDIF,IAAI;AAAA,KAAJA,IAAI;AA0DV,eAAeA,IAAI;AAAC;AAAA"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}