{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-block-image-cards/src/ImageCards/displays/DiscreetCarousel.jsx\";\nvar __jsx = React.createElement;\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from 'react';\nimport { Popup, Image, Message } from 'semantic-ui-react';\nimport ResponsiveContainer from '../ResponsiveContainer';\nimport loadable from '@loadable/component';\nimport { CommonCarouselschemaExtender } from './../CommonAssets/schema';\nimport 'slick-carousel/slick/slick.css';\nimport '../css/discreetcarousel.less';\n// import 'slick-carousel/slick/slick-theme.css';\n\nimport { getScaleUrl, getPath } from '../utils';\nconst Slider = loadable({\n  resolved: {},\n  chunkName() {\n    return \"react-slick\";\n  },\n  isReady(props) {\n    var key = this.resolve(props);\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n    return false;\n  },\n  importAsync: () => import( /* webpackChunkName: \"react-slick\" */'react-slick'),\n  requireAsync(props) {\n    var _this = this;\n    var key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(function (resolved) {\n      _this.resolved[key] = true;\n      return resolved;\n    });\n  },\n  requireSync(props) {\n    var id = this.resolve(props);\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n    return eval('module.require')(id);\n  },\n  resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"react-slick\");\n    }\n    return eval('require.resolve')(\"react-slick\");\n  }\n});\nconst Card = ({\n  card = {},\n  height,\n  image_scale,\n  mode = 'view'\n}) => {\n  const {\n    link,\n    title\n  } = card;\n  const LinkWrapper = link && mode === 'view' ? ({\n    children\n  }) => __jsx(\"a\", {\n    href: link,\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    title: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 11\n    }\n  }, children) : ({\n    children\n  }) => children;\n  const PopupWrapper = title ? ({\n    children\n  }) => __jsx(Popup, {\n    content: title,\n    trigger: children,\n    on: \"hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 25\n    }\n  }) : ({\n    children\n  }) => children;\n  return __jsx(\"div\", {\n    className: \"discreet-slide-img\",\n    style: {\n      height\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(PopupWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, __jsx(LinkWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, __jsx(Image, {\n    className: \"bg-image\",\n    src: getScaleUrl(getPath(card.attachedimage), image_scale || 'large'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }))));\n};\nconst DiscreetCarousel = props => {\n  const {\n    data = {},\n    editable = false\n  } = props;\n  const [isClient, setIsClient] = React.useState(false);\n  React.useEffect(() => setIsClient(true), []);\n  const {\n    cards = [],\n    fade,\n    image_scale,\n    pauseOnHover,\n    height = '100px',\n    itemsPerRow = 4,\n    autoplay = false,\n    infinite = false,\n    hideArrows = true,\n    autoplaySpeed = 3000,\n    hideNavigationDots = false\n  } = data;\n  const carouselSettings = {\n    // speed: 800,\n    fade: fade,\n    infinite: infinite,\n    slidesToShow: Math.min(cards.length, itemsPerRow),\n    slidesToScroll: itemsPerRow,\n    dots: itemsPerRow > 1 && !hideNavigationDots,\n    autoplay: itemsPerRow > 1 && autoplay && !editable,\n    autoplaySpeed,\n    arrows: !hideArrows,\n    pauseOnHover: pauseOnHover,\n    useTransform: false,\n    lazyLoad: 'ondemand',\n    responsive: [{\n      breakpoint: 1024,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3,\n        infinite: true,\n        dots: true\n      }\n    }, {\n      breakpoint: 600,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2,\n        initialSlide: 2\n      }\n    }, {\n      breakpoint: 480,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }]\n  };\n  return !cards.length ? editable ? __jsx(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, \"No cards\") : '' : __jsx(\"div\", {\n    className: \"discreet-carousel-spotlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }, __jsx(ResponsiveContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, ({\n    parentWidth\n  }) => {\n    return parentWidth && isClient ? __jsx(\"div\", {\n      style: {\n        width: `${parentWidth - 100}px`,\n        margin: '0 auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, __jsx(Slider, _extends({}, carouselSettings, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }), cards.map(card => __jsx(Card, {\n      mode: editable ? 'edit' : 'view',\n      card: card,\n      height: height,\n      image_scale: image_scale,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 19\n      }\n    })))) : '';\n  }));\n};\nexport default DiscreetCarousel;\nDiscreetCarousel.schemaExtender = (schema, data, intl) => {\n  const Common = CommonCarouselschemaExtender({\n    data,\n    schema,\n    intl\n  });\n  Common.properties.itemsPerRow = {\n    type: 'number',\n    title: 'Slides to show',\n    description: 'How many slides to show in one frame',\n    defaultValue: 4\n  };\n  Common.fieldsets[0].fields.push('itemsPerRow');\n  return _objectSpread(_objectSpread(_objectSpread({}, schema), Common), {}, {\n    properties: _objectSpread(_objectSpread({}, schema.properties), Common.properties),\n    fieldsets: [...schema.fieldsets, ...Common.fieldsets]\n  });\n};","map":{"version":3,"names":["React","Popup","Image","Message","ResponsiveContainer","loadable","CommonCarouselschemaExtender","getScaleUrl","getPath","Slider","Card","card","height","image_scale","mode","link","title","LinkWrapper","children","PopupWrapper","attachedimage","DiscreetCarousel","props","data","editable","isClient","setIsClient","useState","useEffect","cards","fade","pauseOnHover","itemsPerRow","autoplay","infinite","hideArrows","autoplaySpeed","hideNavigationDots","carouselSettings","slidesToShow","Math","min","length","slidesToScroll","dots","arrows","useTransform","lazyLoad","responsive","breakpoint","settings","initialSlide","parentWidth","width","margin","map","schemaExtender","schema","intl","Common","properties","type","description","defaultValue","fieldsets","fields","push"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-block-image-cards/src/ImageCards/displays/DiscreetCarousel.jsx"],"sourcesContent":["import React from 'react';\nimport { Popup, Image, Message } from 'semantic-ui-react';\nimport ResponsiveContainer from '../ResponsiveContainer';\n\nimport loadable from '@loadable/component';\nimport { CommonCarouselschemaExtender } from './../CommonAssets/schema';\n\nimport 'slick-carousel/slick/slick.css';\nimport '../css/discreetcarousel.less';\n// import 'slick-carousel/slick/slick-theme.css';\n\nimport { getScaleUrl, getPath } from '../utils';\n\nconst Slider = loadable(() => import('react-slick'));\n\nconst Card = ({ card = {}, height, image_scale, mode = 'view' }) => {\n  const { link, title } = card;\n\n  const LinkWrapper =\n    link && mode === 'view'\n      ? ({ children }) => (\n          <a href={link} target=\"_blank\" rel=\"noreferrer\" title={title}>\n            {children}\n          </a>\n        )\n      : ({ children }) => children;\n  const PopupWrapper = title\n    ? ({ children }) => <Popup content={title} trigger={children} on=\"hover\" />\n    : ({ children }) => children;\n\n  return (\n    <div className=\"discreet-slide-img\" style={{ height }}>\n      <PopupWrapper>\n        <LinkWrapper>\n          <Image\n            className=\"bg-image\"\n            src={getScaleUrl(\n              getPath(card.attachedimage),\n              image_scale || 'large',\n            )}\n          />\n        </LinkWrapper>\n      </PopupWrapper>\n    </div>\n  );\n};\n\nconst DiscreetCarousel = (props) => {\n  const { data = {}, editable = false } = props;\n  const [isClient, setIsClient] = React.useState(false);\n\n  React.useEffect(() => setIsClient(true), []);\n  const {\n    cards = [],\n    fade,\n    image_scale,\n    pauseOnHover,\n    height = '100px',\n    itemsPerRow = 4,\n    autoplay = false,\n    infinite = false,\n    hideArrows = true,\n    autoplaySpeed = 3000,\n    hideNavigationDots = false,\n  } = data;\n\n  const carouselSettings = {\n    // speed: 800,\n    fade: fade,\n    infinite: infinite,\n    slidesToShow: Math.min(cards.length, itemsPerRow),\n    slidesToScroll: itemsPerRow,\n    dots: itemsPerRow > 1 && !hideNavigationDots,\n    autoplay: itemsPerRow > 1 && autoplay && !editable,\n    autoplaySpeed,\n    arrows: !hideArrows,\n    pauseOnHover: pauseOnHover,\n    useTransform: false,\n    lazyLoad: 'ondemand',\n\n    responsive: [\n      {\n        breakpoint: 1024,\n        settings: {\n          slidesToShow: 3,\n          slidesToScroll: 3,\n          infinite: true,\n          dots: true,\n        },\n      },\n      {\n        breakpoint: 600,\n        settings: {\n          slidesToShow: 2,\n          slidesToScroll: 2,\n          initialSlide: 2,\n        },\n      },\n      {\n        breakpoint: 480,\n        settings: {\n          slidesToShow: 1,\n          slidesToScroll: 1,\n        },\n      },\n    ],\n  };\n\n  return !cards.length ? (\n    editable ? (\n      <Message>No cards</Message>\n    ) : (\n      ''\n    )\n  ) : (\n    <div className=\"discreet-carousel-spotlight\">\n      <ResponsiveContainer>\n        {({ parentWidth }) => {\n          return parentWidth && isClient ? (\n            <div style={{ width: `${parentWidth - 100}px`, margin: '0 auto' }}>\n              <Slider {...carouselSettings}>\n                {cards.map((card) => (\n                  <Card\n                    mode={editable ? 'edit' : 'view'}\n                    card={card}\n                    height={height}\n                    image_scale={image_scale}\n                  />\n                ))}\n              </Slider>\n            </div>\n          ) : (\n            ''\n          );\n        }}\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nexport default DiscreetCarousel;\n\nDiscreetCarousel.schemaExtender = (schema, data, intl) => {\n  const Common = CommonCarouselschemaExtender({ data, schema, intl });\n\n  Common.properties.itemsPerRow = {\n    type: 'number',\n    title: 'Slides to show',\n    description: 'How many slides to show in one frame',\n    defaultValue: 4,\n  };\n\n  Common.fieldsets[0].fields.push('itemsPerRow');\n\n  return {\n    ...schema,\n    ...Common,\n    properties: {\n      ...schema.properties,\n      ...Common.properties,\n    },\n    fieldsets: [...schema.fieldsets, ...Common.fieldsets],\n  };\n};\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,EAAEC,KAAK,EAAEC,OAAO,QAAQ,mBAAmB;AACzD,OAAOC,mBAAmB,MAAM,wBAAwB;AAExD,OAAOC,QAAQ,MAAM,qBAAqB;AAC1C,SAASC,4BAA4B,QAAQ,0BAA0B;AAEvE,OAAO,gCAAgC;AACvC,OAAO,8BAA8B;AACrC;;AAEA,SAASC,WAAW,EAAEC,OAAO,QAAQ,UAAU;AAE/C,MAAMC,MAAM,GAAGJ,QAAQ;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA,aAAC,MAAM,MAAM,uCAAC,aAAa,CAAC;EAAA;IAAA;IAAA;IAAA;IAAA;MAAA;MAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA;IAAA;MAAA;IAAA;IAAA;EAAA;AAAA,EAAC;AAEpD,MAAMK,IAAI,GAAG,CAAC;EAAEC,IAAI,GAAG,CAAC,CAAC;EAAEC,MAAM;EAAEC,WAAW;EAAEC,IAAI,GAAG;AAAO,CAAC,KAAK;EAClE,MAAM;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAGL,IAAI;EAE5B,MAAMM,WAAW,GACfF,IAAI,IAAID,IAAI,KAAK,MAAM,GACnB,CAAC;IAAEI;EAAS,CAAC,KACX;IAAG,IAAI,EAAEH,IAAK;IAAC,MAAM,EAAC,QAAQ;IAAC,GAAG,EAAC,YAAY;IAAC,KAAK,EAAEC,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAC1DE,QAAQ,CAEZ,GACD,CAAC;IAAEA;EAAS,CAAC,KAAKA,QAAQ;EAChC,MAAMC,YAAY,GAAGH,KAAK,GACtB,CAAC;IAAEE;EAAS,CAAC,KAAK,MAAC,KAAK;IAAC,OAAO,EAAEF,KAAM;IAAC,OAAO,EAAEE,QAAS;IAAC,EAAE,EAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,GACzE,CAAC;IAAEA;EAAS,CAAC,KAAKA,QAAQ;EAE9B,OACE;IAAK,SAAS,EAAC,oBAAoB;IAAC,KAAK,EAAE;MAAEN;IAAO,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACpD,MAAC,YAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACX,MAAC,WAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACV,MAAC,KAAK;IACJ,SAAS,EAAC,UAAU;IACpB,GAAG,EAAEL,WAAW,CACdC,OAAO,CAACG,IAAI,CAACS,aAAa,CAAC,EAC3BP,WAAW,IAAI,OAAO,CACtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACF,CACU,CACD,CACX;AAEV,CAAC;AAED,MAAMQ,gBAAgB,GAAIC,KAAK,IAAK;EAClC,MAAM;IAAEC,IAAI,GAAG,CAAC,CAAC;IAAEC,QAAQ,GAAG;EAAM,CAAC,GAAGF,KAAK;EAC7C,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAG1B,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC;EAErD3B,KAAK,CAAC4B,SAAS,CAAC,MAAMF,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;EAC5C,MAAM;IACJG,KAAK,GAAG,EAAE;IACVC,IAAI;IACJjB,WAAW;IACXkB,YAAY;IACZnB,MAAM,GAAG,OAAO;IAChBoB,WAAW,GAAG,CAAC;IACfC,QAAQ,GAAG,KAAK;IAChBC,QAAQ,GAAG,KAAK;IAChBC,UAAU,GAAG,IAAI;IACjBC,aAAa,GAAG,IAAI;IACpBC,kBAAkB,GAAG;EACvB,CAAC,GAAGd,IAAI;EAER,MAAMe,gBAAgB,GAAG;IACvB;IACAR,IAAI,EAAEA,IAAI;IACVI,QAAQ,EAAEA,QAAQ;IAClBK,YAAY,EAAEC,IAAI,CAACC,GAAG,CAACZ,KAAK,CAACa,MAAM,EAAEV,WAAW,CAAC;IACjDW,cAAc,EAAEX,WAAW;IAC3BY,IAAI,EAAEZ,WAAW,GAAG,CAAC,IAAI,CAACK,kBAAkB;IAC5CJ,QAAQ,EAAED,WAAW,GAAG,CAAC,IAAIC,QAAQ,IAAI,CAACT,QAAQ;IAClDY,aAAa;IACbS,MAAM,EAAE,CAACV,UAAU;IACnBJ,YAAY,EAAEA,YAAY;IAC1Be,YAAY,EAAE,KAAK;IACnBC,QAAQ,EAAE,UAAU;IAEpBC,UAAU,EAAE,CACV;MACEC,UAAU,EAAE,IAAI;MAChBC,QAAQ,EAAE;QACRX,YAAY,EAAE,CAAC;QACfI,cAAc,EAAE,CAAC;QACjBT,QAAQ,EAAE,IAAI;QACdU,IAAI,EAAE;MACR;IACF,CAAC,EACD;MACEK,UAAU,EAAE,GAAG;MACfC,QAAQ,EAAE;QACRX,YAAY,EAAE,CAAC;QACfI,cAAc,EAAE,CAAC;QACjBQ,YAAY,EAAE;MAChB;IACF,CAAC,EACD;MACEF,UAAU,EAAE,GAAG;MACfC,QAAQ,EAAE;QACRX,YAAY,EAAE,CAAC;QACfI,cAAc,EAAE;MAClB;IACF,CAAC;EAEL,CAAC;EAED,OAAO,CAACd,KAAK,CAACa,MAAM,GAClBlB,QAAQ,GACN,MAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAAmB,GAE3B,EACD,GAED;IAAK,SAAS,EAAC,6BAA6B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAC1C,MAAC,mBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACjB,CAAC;IAAE4B;EAAY,CAAC,KAAK;IACpB,OAAOA,WAAW,IAAI3B,QAAQ,GAC5B;MAAK,KAAK,EAAE;QAAE4B,KAAK,EAAG,GAAED,WAAW,GAAG,GAAI,IAAG;QAAEE,MAAM,EAAE;MAAS,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAChE,MAAC,MAAM,eAAKhB,gBAAgB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,IACzBT,KAAK,CAAC0B,GAAG,CAAE5C,IAAI,IACd,MAAC,IAAI;MACH,IAAI,EAAEa,QAAQ,GAAG,MAAM,GAAG,MAAO;MACjC,IAAI,EAAEb,IAAK;MACX,MAAM,EAAEC,MAAO;MACf,WAAW,EAAEC,WAAY;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAE5B,CAAC,CACK,CACL,GAEN,EACD;EACH,CAAC,CACmB,CAEzB;AACH,CAAC;AAED,eAAeQ,gBAAgB;AAE/BA,gBAAgB,CAACmC,cAAc,GAAG,CAACC,MAAM,EAAElC,IAAI,EAAEmC,IAAI,KAAK;EACxD,MAAMC,MAAM,GAAGrD,4BAA4B,CAAC;IAAEiB,IAAI;IAAEkC,MAAM;IAAEC;EAAK,CAAC,CAAC;EAEnEC,MAAM,CAACC,UAAU,CAAC5B,WAAW,GAAG;IAC9B6B,IAAI,EAAE,QAAQ;IACd7C,KAAK,EAAE,gBAAgB;IACvB8C,WAAW,EAAE,sCAAsC;IACnDC,YAAY,EAAE;EAChB,CAAC;EAEDJ,MAAM,CAACK,SAAS,CAAC,CAAC,CAAC,CAACC,MAAM,CAACC,IAAI,CAAC,aAAa,CAAC;EAE9C,qDACKT,MAAM,GACNE,MAAM;IACTC,UAAU,kCACLH,MAAM,CAACG,UAAU,GACjBD,MAAM,CAACC,UAAU,CACrB;IACDI,SAAS,EAAE,CAAC,GAAGP,MAAM,CAACO,SAAS,EAAE,GAAGL,MAAM,CAACK,SAAS;EAAC;AAEzD,CAAC"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}