{"ast":null,"code":"import _classCallCheck from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _isObject from \"lodash/isObject\";\nimport _isArray from \"lodash/isArray\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-forests-theme/src/customizations/volto/components/theme/Search/Search.jsx\",\n  _this = this;\nvar __jsx = React.createElement;\n/**\n * Search component.\n * @module components/theme/Search/Search\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { Link } from 'react-router-dom';\nimport { asyncConnect } from 'redux-connect';\nimport { FormattedMessage } from 'react-intl';\nimport { Portal } from 'react-portal';\nimport { Container, Pagination } from 'semantic-ui-react';\nimport qs from 'query-string';\nimport config from '@plone/volto/registry';\nimport { Helmet, flattenToAppURL } from '@plone/volto/helpers';\nimport { searchContent } from '@plone/volto/actions';\nimport { Toolbar, Icon } from '@plone/volto/components';\nimport Highlighter from 'react-highlight-words';\nimport paginationLeftSVG from '@plone/volto/icons/left-key.svg';\nimport paginationRightSVG from '@plone/volto/icons/right-key.svg';\nvar toSearchOptions = function toSearchOptions(searchableText, subject, queryOptions) {\n  return _objectSpread(_objectSpread(_objectSpread({\n    fullobjects: true\n  }, searchableText && {\n    SearchableText: searchableText\n  }), subject && {\n    Subject: subject\n  }), queryOptions ? queryOptions : {});\n};\nvar getQueryOptions = function getQueryOptions(query) {\n  var options = {};\n  _isObject(query) && Object.entries(query).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      key = _ref2[0],\n      value = _ref2[1];\n    if (key.includes(':query')) options[key.split(':')[0]] = value;\n  });\n  return options;\n};\nvar getText = function getText(block) {\n  var text = '';\n  if (block.text && typeof block.text === 'string') text = block.text;\n  if (block.text && block.text.blocks && _isArray(block.text.blocks)) {\n    block.text.blocks.forEach(function (block) {\n      text += getText(block);\n    });\n  }\n  return text;\n};\nvar matchedText = function matchedText(text, searchableText) {\n  var matchedText = text;\n  if (text.length > 256) {\n    var pos = text.toLowerCase().indexOf(searchableText.toLowerCase());\n    var rightPart = text.substring(pos, text.length);\n    var leftPart = text.substring(0, pos - 1);\n    matchedText = \"[...\".concat(leftPart.slice(-128), \" \").concat(rightPart.substring(0, 128), \"...]\");\n  }\n  return matchedText;\n};\nvar smallText = function smallText(text) {\n  if (text.length > 256) return \"[...\".concat(text.substring(0, 256), \"...]\");\n  return text;\n};\nvar paragraph = function paragraph(text, searchableText) {\n  return __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 3\n    }\n  }, __jsx(Highlighter, {\n    highlightClassName: \"highlight\",\n    searchWords: (searchableText === null || searchableText === void 0 ? void 0 : searchableText.split(' ')) || [],\n    autoEscape: true,\n    textToHighlight: text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }));\n};\nvar getSummary = function getSummary(item, searchableText) {\n  var summary = {\n    fullSummary: [],\n    matchedParagraph: [],\n    firstParagraph: []\n  };\n  item.blocks && Object.entries(item.blocks).forEach(function (_ref3, index) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n      key = _ref4[0],\n      block = _ref4[1];\n    var text = getText(block);\n    summary.fullSummary.push(paragraph(text, searchableText));\n    if (text && text.length > 0 && summary.firstParagraph.length === 0) {\n      summary.firstParagraph.push(paragraph(smallText(text), searchableText));\n    }\n    if (text.toLowerCase().includes(searchableText.toLowerCase()) && summary.matchedParagraph.length === 0) {\n      summary.matchedParagraph.push(paragraph(matchedText(text, searchableText), searchableText));\n    }\n  });\n  return summary;\n};\n\n/**\n * Search class.\n * @class SearchComponent\n * @extends Component\n */\nvar Search = /*#__PURE__*/function (_Component) {\n  _inherits(Search, _Component);\n  var _super = _createSuper(Search);\n  /**\n   * Property types.\n   * @property {Object} propTypes Property types.\n   * @static\n   */\n\n  /**\n   * Default properties.\n   * @property {Object} defaultProps Default properties.\n   * @static\n   */\n\n  function Search(props) {\n    var _this2;\n    _classCallCheck(this, Search);\n    _this2 = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this2), \"UNSAFE_componentWillReceiveProps\", function (nextProps) {\n      if (nextProps.searchableText !== _this2.props.searchableText || nextProps.subject !== _this2.props.subject) {\n        _this2.doSearch(nextProps.searchableText, nextProps.subject, getQueryOptions(_this2.props.query));\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this2), \"doSearch\", function (searchableText, subject, queryOptions) {\n      _this2.setState({\n        currentPage: 1\n      });\n      _this2.props.searchContent('', toSearchOptions(searchableText, subject, queryOptions));\n    });\n    _defineProperty(_assertThisInitialized(_this2), \"handleQueryPaginationChange\", function (e, _ref5) {\n      var activePage = _ref5.activePage;\n      window.scrollTo(0, 0);\n      _this2.setState({\n        currentPage: activePage,\n        expendedItemIndex: -1\n      }, function () {\n        var options = toSearchOptions(qs.parse(_this2.props.location.search).SearchableText, qs.parse(_this2.props.location.search).Subject, getQueryOptions(_this2.props.query));\n        _this2.props.searchContent('', _objectSpread(_objectSpread({}, options), {}, {\n          b_start: (_this2.state.currentPage - 1) * config.settings.defaultPageSize\n        }));\n      });\n    });\n    _this2.state = {\n      currentPage: 1,\n      expendedItemIndex: -1\n    };\n    return _this2;\n  }\n\n  /**\n   * Component will mount\n   * @method componentWillMount\n   * @returns {undefined}\n   */\n  _createClass(Search, [{\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      this.doSearch(this.props.searchableText, this.props.subject, getQueryOptions(this.props.query));\n    }\n\n    /**\n     * Component will receive props\n     * @method componentWillReceiveProps\n     * @param {Object} nextProps Next properties\n     * @returns {undefined}\n     */\n  }, {\n    key: \"makeQuery\",\n    value: function makeQuery(key) {\n      var _this$props$data, _this$props$data$key;\n      var query = '';\n      var propsQuery = (_this$props$data = this.props.data) === null || _this$props$data === void 0 ? void 0 : (_this$props$data$key = _this$props$data[key]) === null || _this$props$data$key === void 0 ? void 0 : _this$props$data$key.value;\n      _isObject(propsQuery) && Object.entries(propsQuery).forEach(function (_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 2),\n          itemKey = _ref7[0],\n          item = _ref7[1];\n        if (_isArray(item)) query += \"&\".concat(itemKey, \":\").concat(key, \"=\").concat(item.join(','), \"&\");\n      });\n      return query;\n    }\n  }, {\n    key: \"render\",\n    value:\n    /**\n     * Render method.\n     * @method render\n     * @returns {string} Markup for the component.\n     */\n    function render() {\n      var _this$props$search,\n        _this3 = this,\n        _this$props$search2;\n      return __jsx(Container, {\n        id: \"page-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 7\n        }\n      }, __jsx(Helmet, {\n        title: \"Search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 9\n        }\n      }), __jsx(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 9\n        }\n      }, __jsx(\"article\", {\n        id: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }\n      }, __jsx(\"header\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }\n      }, __jsx(\"h1\", {\n        className: \"documentFirstHeading mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 15\n        }\n      }, this.props.title ? \"\".concat(this.props.title) : __jsx(FormattedMessage, {\n        id: \"Search results\",\n        defaultMessage: \"Search results\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 19\n        }\n      })), __jsx(\"div\", {\n        className: \"search-meta mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 15\n        }\n      }, this.props.searchableText ? __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 19\n        }\n      }, \"Results for:\", ' ', __jsx(\"mark\", {\n        className: \"highlight green bold ma-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }\n      }, this.props.searchableText)) : '', (_this$props$search = this.props.search) !== null && _this$props$search !== void 0 && _this$props$search.items_total ? __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 19\n        }\n      }, this.props.search.items_total, \" results\") : __jsx(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 19\n        }\n      }, \"No results found\"))), __jsx(\"section\", {\n        id: \"content-core\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }\n      }, this.props.items.map(function (item, index) {\n        var _this3$props$searchab;\n        return __jsx(\"article\", {\n          className: \"tileItem\",\n          key: \"article_\".concat(item['@id']),\n          id: \"article_\".concat(item['@id']),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }\n        }, __jsx(Link, {\n          to: item['@id'],\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 19\n          }\n        }, __jsx(\"h2\", {\n          className: \"tileHeadline mb-1\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 21\n          }\n        }, __jsx(Highlighter, {\n          highlightClassName: \"highlight\",\n          searchWords: ((_this3$props$searchab = _this3.props.searchableText) === null || _this3$props$searchab === void 0 ? void 0 : _this3$props$searchab.split(' ')) || [],\n          autoEscape: true,\n          textToHighlight: item.title,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 23\n          }\n        }))), __jsx(\"div\", {\n          className: \"tileBody\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 19\n          }\n        }, __jsx(\"div\", {\n          className: \"description\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 21\n          }\n        }, _this3.state.expendedItemIndex === index ? item.summary.fullSummary.length > 0 ? item.summary.fullSummary.map(function (paragraph, index) {\n          return __jsx(React.Fragment, {\n            key: \"summary_paragraph_\".concat(item['@id'], \"_\").concat(index, \"}\"),\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 31\n            }\n          }, paragraph);\n        }) : item.description : item.summary.matchedParagraph.length > 0 ? item.summary.matchedParagraph[0] : item.summary.firstParagraph.length > 0 ? item.summary.firstParagraph[0] : item.description), __jsx(\"button\", {\n          className: \"expendButton\",\n          onClick: function onClick() {\n            if (_this3.state.expendedItemIndex === index) {\n              _this3.setState({\n                expendedItemIndex: -1\n              }, function () {\n                window.scrollTo(0, document.getElementById(\"article_\".concat(item['@id'])).offsetTop);\n              });\n            } else {\n              _this3.setState({\n                expendedItemIndex: index\n              }, function () {\n                window.scrollTo(0, document.getElementById(\"article_\".concat(item['@id'])).offsetTop);\n              });\n            }\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 21\n          }\n        }, _this3.state.expendedItemIndex === index ? 'Collapse' : 'Read more')), __jsx(\"div\", {\n          className: \"visualClear\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 19\n          }\n        }));\n      }), ((_this$props$search2 = this.props.search) === null || _this$props$search2 === void 0 ? void 0 : _this$props$search2.batching) && __jsx(\"div\", {\n        className: \"search-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 17\n        }\n      }, __jsx(Pagination, {\n        activePage: this.state.currentPage,\n        totalPages: Math.ceil(this.props.search.items_total / config.settings.defaultPageSize),\n        onPageChange: this.handleQueryPaginationChange,\n        firstItem: null,\n        lastItem: null,\n        prevItem: {\n          content: __jsx(Icon, {\n            name: paginationLeftSVG,\n            size: \"18px\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 32\n            }\n          }),\n          icon: true,\n          'aria-disabled': !this.props.search.batching.prev,\n          className: !this.props.search.batching.prev ? 'disabled' : null\n        },\n        nextItem: {\n          content: __jsx(Icon, {\n            name: paginationRightSVG,\n            size: \"18px\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 32\n            }\n          }),\n          icon: true,\n          'aria-disabled': !this.props.search.batching.next,\n          className: !this.props.search.batching.next ? 'disabled' : null\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 19\n        }\n      }))))), __jsx(Portal, {\n        node: __CLIENT__ && document.getElementById('toolbar'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 9\n        }\n      }, __jsx(Toolbar, {\n        pathname: this.props.pathname,\n        hideDefaultViewButtons: true,\n        inner: __jsx(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 20\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n  return Search;\n}(Component);\n_defineProperty(Search, \"propTypes\", {\n  searchContent: PropTypes.func.isRequired,\n  searchableText: PropTypes.string,\n  subject: PropTypes.string,\n  path: PropTypes.string,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    '@id': PropTypes.string,\n    '@type': PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string\n  })),\n  pathname: PropTypes.string.isRequired\n});\n_defineProperty(Search, \"defaultProps\", {\n  items: [],\n  searchableText: null,\n  subject: null,\n  path: null\n});\nexport var __test__ = connect(function (state, props) {\n  return {\n    items: state.search.items,\n    searchableText: qs.parse(props.location.search).SearchableText,\n    subject: qs.parse(props.location.search).Subject,\n    path: qs.parse(props.location.search).path,\n    pathname: props.location.pathname\n  };\n}, {\n  searchContent: searchContent\n})(Search);\nexport default compose(connect(function (state, props) {\n  return {\n    searchableText: qs.parse(props.location.search).SearchableText,\n    items: state.search.items.map(function (item) {\n      return _objectSpread(_objectSpread({}, item), {}, {\n        '@id': flattenToAppURL(item['@id']),\n        summary: getSummary(item, qs.parse(props.location.search).SearchableText)\n      });\n    }),\n    subject: qs.parse(props.location.search).Subject,\n    query: qs.parse(props.location.search),\n    title: qs.parse(props.location.search).title,\n    pathname: props.location.pathname\n  };\n}, {\n  searchContent: searchContent\n}), asyncConnect([{\n  key: 'search',\n  promise: function promise(_ref8) {\n    var location = _ref8.location,\n      dispatch = _ref8.store.dispatch;\n    return dispatch(searchContent('', toSearchOptions(qs.parse(location.search).SearchableText, qs.parse(location.search).Subject, getQueryOptions(qs.parse(location.search)))));\n  }\n}]))(Search);","map":{"version":3,"names":["React","Component","PropTypes","connect","compose","Link","asyncConnect","FormattedMessage","Portal","Container","Pagination","qs","config","Helmet","flattenToAppURL","searchContent","Toolbar","Icon","Highlighter","paginationLeftSVG","paginationRightSVG","toSearchOptions","searchableText","subject","queryOptions","fullobjects","SearchableText","Subject","getQueryOptions","query","options","Object","entries","forEach","key","value","includes","split","getText","block","text","blocks","matchedText","length","pos","toLowerCase","indexOf","rightPart","substring","leftPart","slice","smallText","paragraph","getSummary","item","summary","fullSummary","matchedParagraph","firstParagraph","index","push","Search","props","nextProps","doSearch","setState","currentPage","e","activePage","window","scrollTo","expendedItemIndex","parse","location","search","b_start","state","settings","defaultPageSize","propsQuery","data","itemKey","join","title","items_total","items","map","description","document","getElementById","offsetTop","batching","Math","ceil","handleQueryPaginationChange","content","icon","prev","className","next","__CLIENT__","pathname","func","isRequired","string","path","arrayOf","shape","__test__","promise","dispatch","store"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-forests-theme/src/customizations/volto/components/theme/Search/Search.jsx"],"sourcesContent":["/**\n * Search component.\n * @module components/theme/Search/Search\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { Link } from 'react-router-dom';\nimport { asyncConnect } from 'redux-connect';\nimport { FormattedMessage } from 'react-intl';\nimport { Portal } from 'react-portal';\nimport { Container, Pagination } from 'semantic-ui-react';\nimport qs from 'query-string';\nimport { isArray, isObject } from 'lodash';\nimport config from '@plone/volto/registry';\nimport { Helmet, flattenToAppURL } from '@plone/volto/helpers';\nimport { searchContent } from '@plone/volto/actions';\nimport { Toolbar, Icon } from '@plone/volto/components';\nimport Highlighter from 'react-highlight-words';\n\nimport paginationLeftSVG from '@plone/volto/icons/left-key.svg';\nimport paginationRightSVG from '@plone/volto/icons/right-key.svg';\n\nconst toSearchOptions = (searchableText, subject, queryOptions) => {\n  return {\n    fullobjects: true,\n    ...(searchableText && { SearchableText: searchableText }),\n    ...(subject && {\n      Subject: subject,\n    }),\n    ...(queryOptions ? queryOptions : {}),\n  };\n};\n\nconst getQueryOptions = (query) => {\n  const options = {};\n  isObject(query) &&\n    Object.entries(query).forEach(([key, value]) => {\n      if (key.includes(':query')) options[key.split(':')[0]] = value;\n    });\n  return options;\n};\n\nconst getText = (block) => {\n  let text = '';\n  if (block.text && typeof block.text === 'string') text = block.text;\n  if (block.text && block.text.blocks && isArray(block.text.blocks)) {\n    block.text.blocks.forEach((block) => {\n      text += getText(block);\n    });\n  }\n  return text;\n};\n\nconst matchedText = (text, searchableText) => {\n  let matchedText = text;\n  if (text.length > 256) {\n    const pos = text.toLowerCase().indexOf(searchableText.toLowerCase());\n    const rightPart = text.substring(pos, text.length);\n    const leftPart = text.substring(0, pos - 1);\n    matchedText = `[...${leftPart.slice(-128)} ${rightPart.substring(\n      0,\n      128,\n    )}...]`;\n  }\n  return matchedText;\n};\n\nconst smallText = (text) => {\n  if (text.length > 256) return `[...${text.substring(0, 256)}...]`;\n  return text;\n};\n\nconst paragraph = (text, searchableText) => (\n  <p>\n    <Highlighter\n      highlightClassName=\"highlight\"\n      searchWords={searchableText?.split(' ') || []}\n      autoEscape={true}\n      textToHighlight={text}\n    />\n  </p>\n);\n\nconst getSummary = (item, searchableText) => {\n  let summary = {\n    fullSummary: [],\n    matchedParagraph: [],\n    firstParagraph: [],\n  };\n  item.blocks &&\n    Object.entries(item.blocks).forEach(([key, block], index) => {\n      const text = getText(block);\n      summary.fullSummary.push(paragraph(text, searchableText));\n      if (text && text.length > 0 && summary.firstParagraph.length === 0) {\n        summary.firstParagraph.push(paragraph(smallText(text), searchableText));\n      }\n      if (\n        text.toLowerCase().includes(searchableText.toLowerCase()) &&\n        summary.matchedParagraph.length === 0\n      ) {\n        summary.matchedParagraph.push(\n          paragraph(matchedText(text, searchableText), searchableText),\n        );\n      }\n    });\n  return summary;\n};\n\n/**\n * Search class.\n * @class SearchComponent\n * @extends Component\n */\nclass Search extends Component {\n  /**\n   * Property types.\n   * @property {Object} propTypes Property types.\n   * @static\n   */\n  static propTypes = {\n    searchContent: PropTypes.func.isRequired,\n    searchableText: PropTypes.string,\n    subject: PropTypes.string,\n    path: PropTypes.string,\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        '@id': PropTypes.string,\n        '@type': PropTypes.string,\n        title: PropTypes.string,\n        description: PropTypes.string,\n      }),\n    ),\n    pathname: PropTypes.string.isRequired,\n  };\n\n  /**\n   * Default properties.\n   * @property {Object} defaultProps Default properties.\n   * @static\n   */\n  static defaultProps = {\n    items: [],\n    searchableText: null,\n    subject: null,\n    path: null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { currentPage: 1, expendedItemIndex: -1 };\n  }\n\n  /**\n   * Component will mount\n   * @method componentWillMount\n   * @returns {undefined}\n   */\n  UNSAFE_componentWillMount() {\n    this.doSearch(\n      this.props.searchableText,\n      this.props.subject,\n      getQueryOptions(this.props.query),\n    );\n  }\n\n  /**\n   * Component will receive props\n   * @method componentWillReceiveProps\n   * @param {Object} nextProps Next properties\n   * @returns {undefined}\n   */\n  UNSAFE_componentWillReceiveProps = (nextProps) => {\n    if (\n      nextProps.searchableText !== this.props.searchableText ||\n      nextProps.subject !== this.props.subject\n    ) {\n      this.doSearch(\n        nextProps.searchableText,\n        nextProps.subject,\n        getQueryOptions(this.props.query),\n      );\n    }\n  };\n\n  /**\n   * Search based on the given searchableText, subject and path.\n   * @method doSearch\n   * @param {string} searchableText The searchable text string\n   * @param {string} subject The subject (tag)\n   * @param {string} path The path to restrict the search to\n   * @returns {undefined}\n   */\n\n  doSearch = (searchableText, subject, queryOptions) => {\n    this.setState({ currentPage: 1 });\n    this.props.searchContent(\n      '',\n      toSearchOptions(searchableText, subject, queryOptions),\n    );\n  };\n\n  makeQuery(key) {\n    let query = '';\n    const propsQuery = this.props.data?.[key]?.value;\n    isObject(propsQuery) &&\n      Object.entries(propsQuery).forEach(([itemKey, item]) => {\n        if (isArray(item)) query += `&${itemKey}:${key}=${item.join(',')}&`;\n      });\n    return query;\n  }\n\n  handleQueryPaginationChange = (e, { activePage }) => {\n    window.scrollTo(0, 0);\n    this.setState({ currentPage: activePage, expendedItemIndex: -1 }, () => {\n      const options = toSearchOptions(\n        qs.parse(this.props.location.search).SearchableText,\n        qs.parse(this.props.location.search).Subject,\n        getQueryOptions(this.props.query),\n      );\n\n      this.props.searchContent('', {\n        ...options,\n        b_start: (this.state.currentPage - 1) * config.settings.defaultPageSize,\n      });\n    });\n  };\n\n  /**\n   * Render method.\n   * @method render\n   * @returns {string} Markup for the component.\n   */\n  render() {\n    return (\n      <Container id=\"page-search\">\n        <Helmet title=\"Search\" />\n        <div className=\"container\">\n          <article id=\"content\">\n            <header>\n              <h1 className=\"documentFirstHeading mb-0\">\n                {this.props.title ? (\n                  `${this.props.title}`\n                ) : (\n                  <FormattedMessage\n                    id=\"Search results\"\n                    defaultMessage=\"Search results\"\n                  />\n                )}\n              </h1>\n\n              {/* <SearchBlock\n                data={{\n                  title: { value: this.props.title },\n                  query: {\n                    value: getQueryOptions(this.props.query),\n                  },\n                  placeholder: { value: 'Search site' },\n                  searchButton: { value: false },\n                }}\n              /> */}\n\n              <div className=\"search-meta mb-2\">\n                {this.props.searchableText ? (\n                  <span>\n                    Results for:{' '}\n                    <mark className=\"highlight green bold ma-0\">\n                      {this.props.searchableText}\n                    </mark>\n                  </span>\n                ) : (\n                  ''\n                )}\n                {this.props.search?.items_total ? (\n                  <span>{this.props.search.items_total} results</span>\n                ) : (\n                  <h2>No results found</h2>\n                )}\n              </div>\n            </header>\n            <section id=\"content-core\">\n              {this.props.items.map((item, index) => (\n                <article\n                  className=\"tileItem\"\n                  key={`article_${item['@id']}`}\n                  id={`article_${item['@id']}`}\n                >\n                  <Link to={item['@id']}>\n                    <h2 className=\"tileHeadline mb-1\">\n                      <Highlighter\n                        highlightClassName=\"highlight\"\n                        searchWords={\n                          this.props.searchableText?.split(' ') || []\n                        }\n                        autoEscape={true}\n                        textToHighlight={item.title}\n                      />\n                    </h2>\n                  </Link>\n                  <div className=\"tileBody\">\n                    <div className=\"description\">\n                      {this.state.expendedItemIndex === index\n                        ? item.summary.fullSummary.length > 0\n                          ? item.summary.fullSummary.map((paragraph, index) => (\n                              <React.Fragment\n                                key={`summary_paragraph_${item['@id']}_${index}}`}\n                              >\n                                {paragraph}\n                              </React.Fragment>\n                            ))\n                          : item.description\n                        : item.summary.matchedParagraph.length > 0\n                        ? item.summary.matchedParagraph[0]\n                        : item.summary.firstParagraph.length > 0\n                        ? item.summary.firstParagraph[0]\n                        : item.description}\n                    </div>\n                    <button\n                      className=\"expendButton\"\n                      onClick={() => {\n                        if (this.state.expendedItemIndex === index) {\n                          this.setState({ expendedItemIndex: -1 }, () => {\n                            window.scrollTo(\n                              0,\n                              document.getElementById(`article_${item['@id']}`)\n                                .offsetTop,\n                            );\n                          });\n                        } else {\n                          this.setState({ expendedItemIndex: index }, () => {\n                            window.scrollTo(\n                              0,\n                              document.getElementById(`article_${item['@id']}`)\n                                .offsetTop,\n                            );\n                          });\n                        }\n                      }}\n                    >\n                      {this.state.expendedItemIndex === index\n                        ? 'Collapse'\n                        : 'Read more'}\n                    </button>\n                  </div>\n                  <div className=\"visualClear\" />\n                </article>\n              ))}\n\n              {this.props.search?.batching && (\n                <div className=\"search-footer\">\n                  <Pagination\n                    activePage={this.state.currentPage}\n                    totalPages={Math.ceil(\n                      this.props.search.items_total /\n                        config.settings.defaultPageSize,\n                    )}\n                    onPageChange={this.handleQueryPaginationChange}\n                    firstItem={null}\n                    lastItem={null}\n                    prevItem={{\n                      content: <Icon name={paginationLeftSVG} size=\"18px\" />,\n                      icon: true,\n                      'aria-disabled': !this.props.search.batching.prev,\n                      className: !this.props.search.batching.prev\n                        ? 'disabled'\n                        : null,\n                    }}\n                    nextItem={{\n                      content: <Icon name={paginationRightSVG} size=\"18px\" />,\n                      icon: true,\n                      'aria-disabled': !this.props.search.batching.next,\n                      className: !this.props.search.batching.next\n                        ? 'disabled'\n                        : null,\n                    }}\n                  />\n                </div>\n              )}\n            </section>\n          </article>\n        </div>\n        <Portal node={__CLIENT__ && document.getElementById('toolbar')}>\n          <Toolbar\n            pathname={this.props.pathname}\n            hideDefaultViewButtons\n            inner={<span />}\n          />\n        </Portal>\n      </Container>\n    );\n  }\n}\n\nexport const __test__ = connect(\n  (state, props) => ({\n    items: state.search.items,\n    searchableText: qs.parse(props.location.search).SearchableText,\n    subject: qs.parse(props.location.search).Subject,\n    path: qs.parse(props.location.search).path,\n    pathname: props.location.pathname,\n  }),\n  { searchContent },\n)(Search);\n\nexport default compose(\n  connect(\n    (state, props) => ({\n      searchableText: qs.parse(props.location.search).SearchableText,\n      items: state.search.items.map((item) => {\n        return {\n          ...item,\n          '@id': flattenToAppURL(item['@id']),\n          summary: getSummary(\n            item,\n            qs.parse(props.location.search).SearchableText,\n          ),\n        };\n      }),\n      subject: qs.parse(props.location.search).Subject,\n      query: qs.parse(props.location.search),\n      title: qs.parse(props.location.search).title,\n      pathname: props.location.pathname,\n    }),\n    { searchContent },\n  ),\n  asyncConnect([\n    {\n      key: 'search',\n      promise: ({ location, store: { dispatch } }) =>\n        dispatch(\n          searchContent(\n            '',\n            toSearchOptions(\n              qs.parse(location.search).SearchableText,\n              qs.parse(location.search).Subject,\n              getQueryOptions(qs.parse(location.search)),\n            ),\n          ),\n        ),\n    },\n  ]),\n)(Search);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Search results","defaultMessage":"Search results"}]}},"sourceType":"module","externalDependencies":[]}