{"ast":null,"code":"import _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { GET_CONTENT } from '@plone/volto/constants/ActionTypes';\nimport config from '@plone/volto/registry';\nexport function getProxiedExternalContent(url) {\n  var request = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var subrequest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var _config$settings = config.settings,\n    _config$settings$cors = _config$settings.corsProxyPath,\n    corsProxyPath = _config$settings$cors === void 0 ? '/cors-proxy' : _config$settings$cors,\n    host = _config$settings.host,\n    port = _config$settings.port;\n  var base = __SERVER__ ? \"http://\".concat(host, \":\").concat(port) : \"\".concat(window.location.protocol, \"//\").concat(window.location.host);\n  var path = \"\".concat(base).concat(corsProxyPath, \"/\").concat(url);\n  return {\n    type: GET_CONTENT,\n    subrequest: subrequest || url,\n    request: _objectSpread(_objectSpread({\n      op: 'get',\n      path: path\n    }, request), {}, {\n      headers: _objectSpread(_objectSpread({}, request === null || request === void 0 ? void 0 : request.headers), {}, {\n        Authorization: null,\n        Cookie: null\n      })\n    })\n  };\n}","map":{"version":3,"names":["GET_CONTENT","config","getProxiedExternalContent","url","request","subrequest","settings","corsProxyPath","host","port","base","__SERVER__","window","location","protocol","path","type","op","headers","Authorization","Cookie"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-corsproxy/src/actions.js"],"sourcesContent":["import { GET_CONTENT } from '@plone/volto/constants/ActionTypes';\nimport config from '@plone/volto/registry';\n\nexport function getProxiedExternalContent(\n  url,\n  request = {},\n  subrequest = null,\n) {\n  const { corsProxyPath = '/cors-proxy', host, port } = config.settings;\n\n  const base = __SERVER__\n    ? `http://${host}:${port}`\n    : `${window.location.protocol}//${window.location.host}`;\n\n  const path = `${base}${corsProxyPath}/${url}`;\n\n  return {\n    type: GET_CONTENT,\n    subrequest: subrequest || url,\n    request: {\n      op: 'get',\n      path,\n      ...request,\n      headers: { ...request?.headers, Authorization: null, Cookie: null },\n    },\n  };\n}\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,oCAAoC;AAChE,OAAOC,MAAM,MAAM,uBAAuB;AAE1C,OAAO,SAASC,yBAAyB,CACvCC,GAAG,EAGH;EAAA,IAFAC,OAAO,uEAAG,CAAC,CAAC;EAAA,IACZC,UAAU,uEAAG,IAAI;EAEjB,uBAAsDJ,MAAM,CAACK,QAAQ;IAAA,yCAA7DC,aAAa;IAAbA,aAAa,sCAAG,aAAa;IAAEC,IAAI,oBAAJA,IAAI;IAAEC,IAAI,oBAAJA,IAAI;EAEjD,IAAMC,IAAI,GAAGC,UAAU,oBACTH,IAAI,cAAIC,IAAI,cACnBG,MAAM,CAACC,QAAQ,CAACC,QAAQ,eAAKF,MAAM,CAACC,QAAQ,CAACL,IAAI,CAAE;EAE1D,IAAMO,IAAI,aAAML,IAAI,SAAGH,aAAa,cAAIJ,GAAG,CAAE;EAE7C,OAAO;IACLa,IAAI,EAAEhB,WAAW;IACjBK,UAAU,EAAEA,UAAU,IAAIF,GAAG;IAC7BC,OAAO;MACLa,EAAE,EAAE,KAAK;MACTF,IAAI,EAAJA;IAAI,GACDX,OAAO;MACVc,OAAO,kCAAOd,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEc,OAAO;QAAEC,aAAa,EAAE,IAAI;QAAEC,MAAM,EAAE;MAAI;IAAE;EAEvE,CAAC;AACH"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}