{"ast":null,"code":"import _defineProperty from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-object-widget/src/Widget/ObjectByTypeWidget.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Menu, Tab } from 'semantic-ui-react';\nimport { Icon, ObjectWidget } from '@plone/volto/components';\nexport var ObjectByTypeWidget = function ObjectByTypeWidget(props) {\n  _s();\n  var schemas = props.schemas,\n    _props$value = props.value,\n    value = _props$value === void 0 ? {} : _props$value,\n    _onChange2 = props.onChange,\n    _props$errors = props.errors,\n    errors = _props$errors === void 0 ? {} : _props$errors,\n    id = props.id;\n  var objectId = id;\n  var schemaIds = schemas.map(function (_ref) {\n    var id = _ref.id;\n    return id;\n  });\n  var defaultActiveTab = value ? schemaIds.indexOf(Object.keys(value)[0]) : null;\n  var _React$useState = React.useState(defaultActiveTab > -1 ? defaultActiveTab : 0),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    activeTab = _React$useState2[0],\n    setActiveTab = _React$useState2[1];\n  var createTab = function createTab(_ref2, index) {\n    var schema = _ref2.schema,\n      id = _ref2.id,\n      icon = _ref2.icon;\n    return {\n      menuItem: function menuItem() {\n        return __jsx(Menu.Item, {\n          onClick: function onClick() {\n            return setActiveTab(index);\n          },\n          active: activeTab === index,\n          key: id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 9\n          }\n        }, __jsx(Icon, {\n          size: \"24px\",\n          name: icon,\n          title: schema.title,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 11\n          }\n        }));\n      },\n      render: function render() {\n        return __jsx(Tab.Pane, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 11\n          }\n        }, __jsx(ObjectWidget, {\n          schema: schema,\n          id: id,\n          errors: errors,\n          value: value[id] || {},\n          onChange: function onChange(schemaId, v) {\n            _onChange2(objectId, _defineProperty({}, schemaId, v));\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }\n        }));\n      }\n    };\n  };\n  return __jsx(Tab, {\n    panes: schemas.map(createTab),\n    activeIndex: activeTab,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 10\n    }\n  });\n};\n_s(ObjectByTypeWidget, \"vGxPHR3nNCBIf01xKZlWygMnbz4=\");\n_c = ObjectByTypeWidget;\nexport default ObjectByTypeWidget;\nvar _c;\n$RefreshReg$(_c, \"ObjectByTypeWidget\");","map":{"version":3,"names":["React","Menu","Tab","Icon","ObjectWidget","ObjectByTypeWidget","props","schemas","value","onChange","errors","id","objectId","schemaIds","map","defaultActiveTab","indexOf","Object","keys","useState","activeTab","setActiveTab","createTab","index","schema","icon","menuItem","title","render","schemaId","v"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-object-widget/src/Widget/ObjectByTypeWidget.jsx"],"sourcesContent":["import React from 'react';\nimport { Menu, Tab } from 'semantic-ui-react';\nimport { Icon, ObjectWidget } from '@plone/volto/components';\n\nexport const ObjectByTypeWidget = (props) => {\n  const { schemas, value = {}, onChange, errors = {}, id } = props;\n  const objectId = id;\n\n  const schemaIds = schemas.map(({ id }) => id);\n  const defaultActiveTab = value\n    ? schemaIds.indexOf(Object.keys(value)[0])\n    : null;\n\n  const [activeTab, setActiveTab] = React.useState(\n    defaultActiveTab > -1 ? defaultActiveTab : 0,\n  );\n  const createTab = ({ schema, id, icon }, index) => {\n    return {\n      menuItem: () => (\n        <Menu.Item\n          onClick={() => setActiveTab(index)}\n          active={activeTab === index}\n          key={id}\n        >\n          <Icon size=\"24px\" name={icon} title={schema.title} />\n        </Menu.Item>\n      ),\n      render: () => {\n        return (\n          <Tab.Pane>\n            <ObjectWidget\n              schema={schema}\n              id={id}\n              errors={errors}\n              value={value[id] || {}}\n              onChange={(schemaId, v) => {\n                onChange(objectId, { [schemaId]: v });\n              }}\n            />\n          </Tab.Pane>\n        );\n      },\n    };\n  };\n\n  return <Tab panes={schemas.map(createTab)} activeIndex={activeTab} />;\n};\n\nexport default ObjectByTypeWidget;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,EAAEC,GAAG,QAAQ,mBAAmB;AAC7C,SAASC,IAAI,EAAEC,YAAY,QAAQ,yBAAyB;AAE5D,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkB,CAAIC,KAAK,EAAK;EAAA;EAC3C,IAAQC,OAAO,GAA4CD,KAAK,CAAxDC,OAAO;IAAA,eAA4CD,KAAK,CAA/CE,KAAK;IAALA,KAAK,6BAAG,CAAC,CAAC;IAAEC,UAAQ,GAAsBH,KAAK,CAAnCG,QAAQ;IAAA,gBAAsBH,KAAK,CAAzBI,MAAM;IAANA,MAAM,8BAAG,CAAC,CAAC;IAAEC,EAAE,GAAKL,KAAK,CAAZK,EAAE;EACtD,IAAMC,QAAQ,GAAGD,EAAE;EAEnB,IAAME,SAAS,GAAGN,OAAO,CAACO,GAAG,CAAC;IAAA,IAAGH,EAAE,QAAFA,EAAE;IAAA,OAAOA,EAAE;EAAA,EAAC;EAC7C,IAAMI,gBAAgB,GAAGP,KAAK,GAC1BK,SAAS,CAACG,OAAO,CAACC,MAAM,CAACC,IAAI,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GACxC,IAAI;EAER,sBAAkCR,KAAK,CAACmB,QAAQ,CAC9CJ,gBAAgB,GAAG,CAAC,CAAC,GAAGA,gBAAgB,GAAG,CAAC,CAC7C;IAAA;IAFMK,SAAS;IAAEC,YAAY;EAG9B,IAAMC,SAAS,GAAG,SAAZA,SAAS,QAA0BC,KAAK,EAAK;IAAA,IAA9BC,MAAM,SAANA,MAAM;MAAEb,EAAE,SAAFA,EAAE;MAAEc,IAAI,SAAJA,IAAI;IACnC,OAAO;MACLC,QAAQ,EAAE;QAAA,OACR,MAAC,IAAI,CAAC,IAAI;UACR,OAAO,EAAE;YAAA,OAAML,YAAY,CAACE,KAAK,CAAC;UAAA,CAAC;UACnC,MAAM,EAAEH,SAAS,KAAKG,KAAM;UAC5B,GAAG,EAAEZ,EAAG;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,GAER,MAAC,IAAI;UAAC,IAAI,EAAC,MAAM;UAAC,IAAI,EAAEc,IAAK;UAAC,KAAK,EAAED,MAAM,CAACG,KAAM;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAAG,CAC3C;MAAA,CACb;MACDC,MAAM,EAAE,kBAAM;QACZ,OACE,MAAC,GAAG,CAAC,IAAI;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,GACP,MAAC,YAAY;UACX,MAAM,EAAEJ,MAAO;UACf,EAAE,EAAEb,EAAG;UACP,MAAM,EAAED,MAAO;UACf,KAAK,EAAEF,KAAK,CAACG,EAAE,CAAC,IAAI,CAAC,CAAE;UACvB,QAAQ,EAAE,kBAACkB,QAAQ,EAAEC,CAAC,EAAK;YACzBrB,UAAQ,CAACG,QAAQ,sBAAKiB,QAAQ,EAAGC,CAAC,EAAG;UACvC,CAAE;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EACF,CACO;MAEf;IACF,CAAC;EACH,CAAC;EAED,OAAO,MAAC,GAAG;IAAC,KAAK,EAAEvB,OAAO,CAACO,GAAG,CAACQ,SAAS,CAAE;IAAC,WAAW,EAAEF,SAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG;AACvE,CAAC;AAAC,GA1CWf,kBAAkB;AAAA,KAAlBA,kBAAkB;AA4C/B,eAAeA,kBAAkB;AAAC;AAAA"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}