{"ast":null,"code":"import { toggleList, unwrapList } from './utils';\nimport { isBlockActive } from 'volto-slate/utils';\nimport { UL, OL, LI } from 'volto-slate/constants';\n\n/**\n * Uses the old toggleList function to toggle lists on or off or from a type to another.\n * @param {Editor} editor The editor to which to apply the change.\n * @param {string} format A list type.\n */\nexport var localToggleList = function localToggleList(editor, format) {\n  toggleList(editor, {\n    typeList: format,\n    isBulletedActive: !!isBlockActive(editor, UL),\n    isNumberedActive: !!isBlockActive(editor, OL)\n  });\n};\n\n/**\n * @summary Turns off any list type.\n * @param {Editor} editor The editor to which to apply the change.\n * @returns The result of the inner call to the function `unwrapList`.\n */\nvar preFormat = function preFormat(editor) {\n  return unwrapList(editor, false, {\n    unwrapFromList: false\n  });\n};\n\n/**\n * The autoformat rules created by this plugin for the Markdown language.\n *\n * @todo Use constants instead of the remaining hard-coded types (h2, h3 etc.).\n */\nexport var autoformatRules = [{\n  type: 'h2',\n  markup: '#'\n  // preFormat,\n}, {\n  type: 'h3',\n  markup: '##'\n  // preFormat,\n}, {\n  type: LI,\n  markup: ['*', '-', '+'],\n  preFormat: preFormat,\n  format: function format(editor) {\n    localToggleList(editor, 'ul');\n  }\n}, {\n  type: LI,\n  markup: ['1.', '1)'],\n  preFormat: preFormat,\n  format: function format(editor) {\n    localToggleList(editor, 'ol');\n  }\n}, {\n  type: 'blockquote',\n  markup: ['>']\n  // preFormat,\n}, {\n  type: 'bold',\n  between: ['**', '**'],\n  mode: 'inline',\n  insertTrigger: true\n}, {\n  type: 'bold',\n  between: ['__', '__'],\n  mode: 'inline',\n  insertTrigger: true\n}, {\n  type: 'italic',\n  between: ['*', '*'],\n  mode: 'inline',\n  insertTrigger: true\n}, {\n  type: 'italic',\n  between: ['_', '_'],\n  mode: 'inline',\n  insertTrigger: true\n}, {\n  type: 'strikethrough',\n  between: ['~~', '~~'],\n  mode: 'inline',\n  insertTrigger: true\n}];","map":{"version":3,"names":["toggleList","unwrapList","isBlockActive","UL","OL","LI","localToggleList","editor","format","typeList","isBulletedActive","isNumberedActive","preFormat","unwrapFromList","autoformatRules","type","markup","between","mode","insertTrigger"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-slate/src/editor/plugins/Markdown/constants.js"],"sourcesContent":["import { toggleList, unwrapList } from './utils';\nimport { isBlockActive } from 'volto-slate/utils';\nimport { UL, OL, LI } from 'volto-slate/constants';\n\n/**\n * Uses the old toggleList function to toggle lists on or off or from a type to another.\n * @param {Editor} editor The editor to which to apply the change.\n * @param {string} format A list type.\n */\nexport const localToggleList = (editor, format) => {\n  toggleList(editor, {\n    typeList: format,\n    isBulletedActive: !!isBlockActive(editor, UL),\n    isNumberedActive: !!isBlockActive(editor, OL),\n  });\n};\n\n/**\n * @summary Turns off any list type.\n * @param {Editor} editor The editor to which to apply the change.\n * @returns The result of the inner call to the function `unwrapList`.\n */\nconst preFormat = (editor) => {\n  return unwrapList(editor, false, {\n    unwrapFromList: false,\n  });\n};\n\n/**\n * The autoformat rules created by this plugin for the Markdown language.\n *\n * @todo Use constants instead of the remaining hard-coded types (h2, h3 etc.).\n */\nexport const autoformatRules = [\n  {\n    type: 'h2',\n    markup: '#',\n    // preFormat,\n  },\n  {\n    type: 'h3',\n    markup: '##',\n    // preFormat,\n  },\n  {\n    type: LI,\n    markup: ['*', '-', '+'],\n    preFormat,\n    format: (editor) => {\n      localToggleList(editor, 'ul');\n    },\n  },\n  {\n    type: LI,\n    markup: ['1.', '1)'],\n    preFormat,\n    format: (editor) => {\n      localToggleList(editor, 'ol');\n    },\n  },\n  {\n    type: 'blockquote',\n    markup: ['>'],\n    // preFormat,\n  },\n  {\n    type: 'bold',\n    between: ['**', '**'],\n    mode: 'inline',\n    insertTrigger: true,\n  },\n  {\n    type: 'bold',\n    between: ['__', '__'],\n    mode: 'inline',\n    insertTrigger: true,\n  },\n  {\n    type: 'italic',\n    between: ['*', '*'],\n    mode: 'inline',\n    insertTrigger: true,\n  },\n  {\n    type: 'italic',\n    between: ['_', '_'],\n    mode: 'inline',\n    insertTrigger: true,\n  },\n  {\n    type: 'strikethrough',\n    between: ['~~', '~~'],\n    mode: 'inline',\n    insertTrigger: true,\n  },\n];\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,UAAU,QAAQ,SAAS;AAChD,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,EAAE,EAAEC,EAAE,EAAEC,EAAE,QAAQ,uBAAuB;;AAElD;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAe,CAAIC,MAAM,EAAEC,MAAM,EAAK;EACjDR,UAAU,CAACO,MAAM,EAAE;IACjBE,QAAQ,EAAED,MAAM;IAChBE,gBAAgB,EAAE,CAAC,CAACR,aAAa,CAACK,MAAM,EAAEJ,EAAE,CAAC;IAC7CQ,gBAAgB,EAAE,CAAC,CAACT,aAAa,CAACK,MAAM,EAAEH,EAAE;EAC9C,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAMQ,SAAS,GAAG,SAAZA,SAAS,CAAIL,MAAM,EAAK;EAC5B,OAAON,UAAU,CAACM,MAAM,EAAE,KAAK,EAAE;IAC/BM,cAAc,EAAE;EAClB,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMC,eAAe,GAAG,CAC7B;EACEC,IAAI,EAAE,IAAI;EACVC,MAAM,EAAE;EACR;AACF,CAAC,EACD;EACED,IAAI,EAAE,IAAI;EACVC,MAAM,EAAE;EACR;AACF,CAAC,EACD;EACED,IAAI,EAAEV,EAAE;EACRW,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;EACvBJ,SAAS,EAATA,SAAS;EACTJ,MAAM,EAAE,gBAACD,MAAM,EAAK;IAClBD,eAAe,CAACC,MAAM,EAAE,IAAI,CAAC;EAC/B;AACF,CAAC,EACD;EACEQ,IAAI,EAAEV,EAAE;EACRW,MAAM,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;EACpBJ,SAAS,EAATA,SAAS;EACTJ,MAAM,EAAE,gBAACD,MAAM,EAAK;IAClBD,eAAe,CAACC,MAAM,EAAE,IAAI,CAAC;EAC/B;AACF,CAAC,EACD;EACEQ,IAAI,EAAE,YAAY;EAClBC,MAAM,EAAE,CAAC,GAAG;EACZ;AACF,CAAC,EACD;EACED,IAAI,EAAE,MAAM;EACZE,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;EACrBC,IAAI,EAAE,QAAQ;EACdC,aAAa,EAAE;AACjB,CAAC,EACD;EACEJ,IAAI,EAAE,MAAM;EACZE,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;EACrBC,IAAI,EAAE,QAAQ;EACdC,aAAa,EAAE;AACjB,CAAC,EACD;EACEJ,IAAI,EAAE,QAAQ;EACdE,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;EACnBC,IAAI,EAAE,QAAQ;EACdC,aAAa,EAAE;AACjB,CAAC,EACD;EACEJ,IAAI,EAAE,QAAQ;EACdE,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;EACnBC,IAAI,EAAE,QAAQ;EACdC,aAAa,EAAE;AACjB,CAAC,EACD;EACEJ,IAAI,EAAE,eAAe;EACrBE,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;EACrBC,IAAI,EAAE,QAAQ;EACdC,aAAa,EAAE;AACjB,CAAC,CACF"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}