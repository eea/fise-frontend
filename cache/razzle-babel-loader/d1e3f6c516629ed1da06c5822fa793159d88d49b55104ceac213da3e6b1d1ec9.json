{"ast":null,"code":"import _classCallCheck from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nimport _objectWithoutProperties from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _uniqBy from \"lodash/uniqBy\";\nvar _excluded = [\"children\"];\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Workflow/Workflow.jsx\",\n  _this = this;\nvar __jsx = React.createElement;\n/**\n * Workflow component.\n * @module components/manage/Workflow/Workflow\n */\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { FormFieldWrapper, Icon, Toast } from '@plone/volto/components';\nimport { flattenToAppURL, getCurrentStateMapping, getWorkflowOptions } from '@plone/volto/helpers';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { getContent, getWorkflow, transitionWorkflow } from '@plone/volto/actions';\nimport downSVG from '@plone/volto/icons/down-key.svg';\nimport upSVG from '@plone/volto/icons/up-key.svg';\nimport checkSVG from '@plone/volto/icons/check.svg';\nvar messages = defineMessages({\n  messageUpdated: {\n    \"id\": \"Workflow updated.\",\n    \"defaultMessage\": \"Workflow updated.\"\n  },\n  messageNoWorkflow: {\n    \"id\": \"No workflow\",\n    \"defaultMessage\": \"No workflow\"\n  },\n  state: {\n    \"id\": \"State\",\n    \"defaultMessage\": \"State\"\n  }\n});\nvar SingleValue = injectLazyLibs('reactSelect')(function (_ref) {\n  var children = _ref.children,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var stateDecorator = {\n    marginRight: '10px',\n    display: 'inline-block',\n    backgroundColor: props.selectProps.value.color || null,\n    content: ' ',\n    height: '10px',\n    width: '10px',\n    borderRadius: '50%'\n  };\n  var SingleValue = props.reactSelect.components.SingleValue;\n  return __jsx(SingleValue, _extends({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }), __jsx(\"span\", {\n    style: stateDecorator,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), children);\n});\nvar Option = injectLazyLibs('reactSelect')(function (props) {\n  var stateDecorator = {\n    marginRight: '10px',\n    display: 'inline-block',\n    backgroundColor: props.selectProps.value.value === props.data.value ? props.selectProps.value.color : null,\n    content: ' ',\n    height: '10px',\n    width: '10px',\n    borderRadius: '50%',\n    border: props.selectProps.value.value !== props.data.value ? \"1px solid \".concat(props.data.color) : null\n  };\n  var Option = props['reactSelect'].components.Option;\n  return __jsx(Option, _extends({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }), __jsx(\"span\", {\n    style: stateDecorator,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    style: {\n      marginRight: 'auto'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, props.label), props.isFocused && !props.isSelected && __jsx(Icon, {\n    name: checkSVG,\n    size: \"18px\",\n    color: \"#b8c6c8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), props.isSelected && __jsx(Icon, {\n    name: checkSVG,\n    size: \"18px\",\n    color: \"#007bc1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 28\n    }\n  }));\n});\nvar DropdownIndicator = injectLazyLibs('reactSelect')(function (props) {\n  var DropdownIndicator = props.reactSelect.components.DropdownIndicator;\n  return __jsx(DropdownIndicator, _extends({}, props, {\n    \"data-testid\": \"workflow-select-dropdown\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }), props.selectProps.menuIsOpen ? __jsx(Icon, {\n    name: upSVG,\n    size: \"24px\",\n    color: \"#007bc1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }) : __jsx(Icon, {\n    name: downSVG,\n    size: \"24px\",\n    color: \"#007bc1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }));\n});\nvar selectTheme = function selectTheme(theme) {\n  return _objectSpread(_objectSpread({}, theme), {}, {\n    borderRadius: 0,\n    colors: _objectSpread(_objectSpread({}, theme.colors), {}, {\n      primary25: 'hotpink',\n      primary: '#b8c6c8'\n    })\n  });\n};\nvar customSelectStyles = {\n  control: function control(styles, state) {\n    return _objectSpread(_objectSpread({}, styles), {}, {\n      border: 'none',\n      borderBottom: '2px solid #b8c6c8',\n      boxShadow: 'none',\n      borderBottomStyle: state.menuIsOpen ? 'dotted' : 'solid'\n    });\n  },\n  menu: function menu(styles, state) {\n    return _objectSpread(_objectSpread({}, styles), {}, {\n      top: null,\n      marginTop: 0,\n      boxShadow: 'none',\n      borderBottom: '2px solid #b8c6c8'\n    });\n  },\n  indicatorSeparator: function indicatorSeparator(styles) {\n    return _objectSpread(_objectSpread({}, styles), {}, {\n      width: null\n    });\n  },\n  valueContainer: function valueContainer(styles) {\n    return _objectSpread(_objectSpread({}, styles), {}, {\n      padding: 0\n    });\n  },\n  option: function option(styles, state) {\n    return _objectSpread(_objectSpread({}, styles), {}, {\n      backgroundColor: null,\n      minHeight: '50px',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      padding: '12px 12px',\n      color: state.isSelected ? '#007bc1' : state.isFocused ? '#4a4a4a' : 'inherit',\n      ':active': {\n        backgroundColor: null\n      },\n      span: {\n        flex: '0 0 auto'\n      },\n      svg: {\n        flex: '0 0 auto'\n      }\n    });\n  }\n};\n\n/**\n * Workflow container class.\n * @class Workflow\n * @extends Component\n */\nvar Workflow = /*#__PURE__*/function (_Component) {\n  _inherits(Workflow, _Component);\n  var _super = _createSuper(Workflow);\n  function Workflow() {\n    var _this2;\n    _classCallCheck(this, Workflow);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this2 = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this2), \"transition\", function (selectedOption) {\n      _this2.props.transitionWorkflow(flattenToAppURL(selectedOption.url));\n      toast.success(__jsx(Toast, {\n        success: true,\n        title: _this2.props.intl.formatMessage(messages.messageUpdated),\n        content: \"\",\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 7\n        }\n      }));\n    });\n    _defineProperty(_assertThisInitialized(_this2), \"selectValue\", function (option) {\n      var stateDecorator = {\n        marginLeft: '10px',\n        marginRight: '10px',\n        display: 'inline-block',\n        backgroundColor: option.color || null,\n        content: ' ',\n        height: '10px',\n        width: '10px',\n        borderRadius: '50%'\n      };\n      return __jsx(Fragment, {\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 7\n        }\n      }, __jsx(\"span\", {\n        style: stateDecorator,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 9\n        }\n      }), __jsx(\"span\", {\n        className: \"Select-value-label\",\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 9\n        }\n      }, option.label));\n    });\n    _defineProperty(_assertThisInitialized(_this2), \"optionRenderer\", function (option) {\n      var stateDecorator = {\n        marginLeft: '10px',\n        marginRight: '10px',\n        display: 'inline-block',\n        backgroundColor: _this2.props.currentStateValue.value === option.value ? option.color : null,\n        content: ' ',\n        height: '10px',\n        width: '10px',\n        borderRadius: '50%',\n        border: _this2.props.currentStateValue.value !== option.value ? \"1px solid \".concat(option.color) : null\n      };\n      return __jsx(Fragment, {\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 7\n        }\n      }, __jsx(\"span\", {\n        style: stateDecorator,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 9\n        }\n      }), __jsx(\"span\", {\n        style: {\n          marginRight: 'auto'\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 9\n        }\n      }, option.label), __jsx(Icon, {\n        name: checkSVG,\n        size: \"24px\",\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 9\n        }\n      }));\n    });\n    return _this2;\n  }\n  _createClass(Workflow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getWorkflow(this.props.pathname);\n    }\n\n    /**\n     * Component will receive props\n     * @method componentWillReceiveProps\n     * @param {Object} nextProps Next properties\n     * @returns {undefined}\n     */\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.pathname !== this.props.pathname) {\n        this.props.getWorkflow(nextProps.pathname);\n      }\n      if (!this.props.loaded && nextProps.loaded) {\n        this.props.getWorkflow(nextProps.pathname);\n        this.props.getContent(nextProps.pathname);\n      }\n    }\n\n    /**\n     * On transition handler\n     * @method transition\n     * @param {string} event Event object\n     * @returns {undefined}\n     */\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Placeholder = this.props.reactSelect.components.Placeholder;\n      var Select = this.props.reactSelect[\"default\"];\n      return __jsx(FormFieldWrapper, _extends({\n        id: \"state-select\",\n        title: this.props.intl.formatMessage(messages.state)\n      }, this.props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 7\n        }\n      }), __jsx(Select, {\n        name: \"state-select\",\n        className: \"react-select-container\",\n        classNamePrefix: \"react-select\",\n        isDisabled: !this.props.content.review_state || this.props.transitions.length === 0,\n        options: _uniqBy(this.props.transitions.map(function (transition) {\n          return getWorkflowOptions(transition);\n        }), 'label').concat(this.props.currentStateValue),\n        styles: customSelectStyles,\n        theme: selectTheme,\n        components: {\n          DropdownIndicator: DropdownIndicator,\n          Placeholder: Placeholder,\n          Option: Option,\n          SingleValue: SingleValue\n        },\n        onChange: this.transition,\n        value: this.props.content.review_state ? this.props.currentStateValue : {\n          label: this.props.intl.formatMessage(messages.messageNoWorkflow),\n          value: 'noworkflow'\n        },\n        isSearchable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return Workflow;\n}(Component);\n_defineProperty(Workflow, \"propTypes\", {\n  getContent: PropTypes.func.isRequired,\n  getWorkflow: PropTypes.func.isRequired,\n  transitionWorkflow: PropTypes.func.isRequired,\n  loaded: PropTypes.bool.isRequired,\n  pathname: PropTypes.string.isRequired,\n  history: PropTypes.arrayOf(PropTypes.shape({\n    review_state: PropTypes.string\n  })),\n  transitions: PropTypes.arrayOf(PropTypes.shape({\n    '@id': PropTypes.string,\n    title: PropTypes.string\n  }))\n});\n_defineProperty(Workflow, \"defaultProps\", {\n  history: [],\n  transitions: []\n});\nexport default compose(injectIntl, injectLazyLibs(['reactSelect']), connect(function (state) {\n  return {\n    loaded: state.workflow.transition.loaded,\n    content: state.content.data,\n    history: state.workflow.history,\n    transitions: state.workflow.transitions,\n    currentStateValue: getCurrentStateMapping(state.workflow.currentState)\n  };\n}, {\n  getContent: getContent,\n  getWorkflow: getWorkflow,\n  transitionWorkflow: transitionWorkflow\n}))(Workflow);","map":{"version":3,"names":["React","Component","Fragment","PropTypes","compose","connect","toast","defineMessages","injectIntl","FormFieldWrapper","Icon","Toast","flattenToAppURL","getCurrentStateMapping","getWorkflowOptions","injectLazyLibs","getContent","getWorkflow","transitionWorkflow","downSVG","upSVG","checkSVG","messages","messageUpdated","messageNoWorkflow","state","SingleValue","children","props","stateDecorator","marginRight","display","backgroundColor","selectProps","value","color","content","height","width","borderRadius","reactSelect","components","Option","data","border","label","isFocused","isSelected","DropdownIndicator","menuIsOpen","selectTheme","theme","colors","primary25","primary","customSelectStyles","control","styles","borderBottom","boxShadow","borderBottomStyle","menu","top","marginTop","indicatorSeparator","valueContainer","padding","option","minHeight","justifyContent","alignItems","span","flex","svg","Workflow","selectedOption","url","success","intl","formatMessage","marginLeft","currentStateValue","pathname","nextProps","loaded","Placeholder","Select","review_state","transitions","length","map","transition","concat","func","isRequired","bool","string","history","arrayOf","shape","title","workflow","currentState"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Workflow/Workflow.jsx"],"sourcesContent":["/**\n * Workflow component.\n * @module components/manage/Workflow/Workflow\n */\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { uniqBy } from 'lodash';\nimport { toast } from 'react-toastify';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { FormFieldWrapper, Icon, Toast } from '@plone/volto/components';\nimport {\n  flattenToAppURL,\n  getCurrentStateMapping,\n  getWorkflowOptions,\n} from '@plone/volto/helpers';\n\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\n\nimport {\n  getContent,\n  getWorkflow,\n  transitionWorkflow,\n} from '@plone/volto/actions';\n\nimport downSVG from '@plone/volto/icons/down-key.svg';\nimport upSVG from '@plone/volto/icons/up-key.svg';\nimport checkSVG from '@plone/volto/icons/check.svg';\n\nconst messages = defineMessages({\n  messageUpdated: {\n    id: 'Workflow updated.',\n    defaultMessage: 'Workflow updated.',\n  },\n  messageNoWorkflow: {\n    id: 'No workflow',\n    defaultMessage: 'No workflow',\n  },\n  state: {\n    id: 'State',\n    defaultMessage: 'State',\n  },\n});\n\nconst SingleValue = injectLazyLibs('reactSelect')(({ children, ...props }) => {\n  const stateDecorator = {\n    marginRight: '10px',\n    display: 'inline-block',\n    backgroundColor: props.selectProps.value.color || null,\n    content: ' ',\n    height: '10px',\n    width: '10px',\n    borderRadius: '50%',\n  };\n  const { SingleValue } = props.reactSelect.components;\n  return (\n    <SingleValue {...props}>\n      <span style={stateDecorator} />\n      {children}\n    </SingleValue>\n  );\n});\n\nconst Option = injectLazyLibs('reactSelect')((props) => {\n  const stateDecorator = {\n    marginRight: '10px',\n    display: 'inline-block',\n    backgroundColor:\n      props.selectProps.value.value === props.data.value\n        ? props.selectProps.value.color\n        : null,\n    content: ' ',\n    height: '10px',\n    width: '10px',\n    borderRadius: '50%',\n    border:\n      props.selectProps.value.value !== props.data.value\n        ? `1px solid ${props.data.color}`\n        : null,\n  };\n\n  const { Option } = props['reactSelect'].components;\n  return (\n    <Option {...props}>\n      <span style={stateDecorator} />\n      <div style={{ marginRight: 'auto' }}>{props.label}</div>\n      {props.isFocused && !props.isSelected && (\n        <Icon name={checkSVG} size=\"18px\" color=\"#b8c6c8\" />\n      )}\n      {props.isSelected && <Icon name={checkSVG} size=\"18px\" color=\"#007bc1\" />}\n    </Option>\n  );\n});\n\nconst DropdownIndicator = injectLazyLibs('reactSelect')((props) => {\n  const { DropdownIndicator } = props.reactSelect.components;\n  return (\n    <DropdownIndicator {...props} data-testid=\"workflow-select-dropdown\">\n      {props.selectProps.menuIsOpen ? (\n        <Icon name={upSVG} size=\"24px\" color=\"#007bc1\" />\n      ) : (\n        <Icon name={downSVG} size=\"24px\" color=\"#007bc1\" />\n      )}\n    </DropdownIndicator>\n  );\n});\n\nconst selectTheme = (theme) => ({\n  ...theme,\n  borderRadius: 0,\n  colors: {\n    ...theme.colors,\n    primary25: 'hotpink',\n    primary: '#b8c6c8',\n  },\n});\n\nconst customSelectStyles = {\n  control: (styles, state) => ({\n    ...styles,\n    border: 'none',\n    borderBottom: '2px solid #b8c6c8',\n    boxShadow: 'none',\n    borderBottomStyle: state.menuIsOpen ? 'dotted' : 'solid',\n  }),\n  menu: (styles, state) => ({\n    ...styles,\n    top: null,\n    marginTop: 0,\n    boxShadow: 'none',\n    borderBottom: '2px solid #b8c6c8',\n  }),\n  indicatorSeparator: (styles) => ({\n    ...styles,\n    width: null,\n  }),\n  valueContainer: (styles) => ({\n    ...styles,\n    padding: 0,\n  }),\n  option: (styles, state) => ({\n    ...styles,\n    backgroundColor: null,\n    minHeight: '50px',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '12px 12px',\n    color: state.isSelected\n      ? '#007bc1'\n      : state.isFocused\n      ? '#4a4a4a'\n      : 'inherit',\n    ':active': {\n      backgroundColor: null,\n    },\n    span: {\n      flex: '0 0 auto',\n    },\n    svg: {\n      flex: '0 0 auto',\n    },\n  }),\n};\n\n/**\n * Workflow container class.\n * @class Workflow\n * @extends Component\n */\nclass Workflow extends Component {\n  /**\n   * Property types.\n   * @property {Object} propTypes Property types.\n   * @static\n   */\n  static propTypes = {\n    getContent: PropTypes.func.isRequired,\n    getWorkflow: PropTypes.func.isRequired,\n    transitionWorkflow: PropTypes.func.isRequired,\n    loaded: PropTypes.bool.isRequired,\n    pathname: PropTypes.string.isRequired,\n    history: PropTypes.arrayOf(\n      PropTypes.shape({\n        review_state: PropTypes.string,\n      }),\n    ),\n    transitions: PropTypes.arrayOf(\n      PropTypes.shape({\n        '@id': PropTypes.string,\n        title: PropTypes.string,\n      }),\n    ),\n  };\n\n  /**\n   * Default properties\n   * @property {Object} defaultProps Default properties.\n   * @static\n   */\n  static defaultProps = {\n    history: [],\n    transitions: [],\n  };\n\n  componentDidMount() {\n    this.props.getWorkflow(this.props.pathname);\n  }\n\n  /**\n   * Component will receive props\n   * @method componentWillReceiveProps\n   * @param {Object} nextProps Next properties\n   * @returns {undefined}\n   */\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.pathname !== this.props.pathname) {\n      this.props.getWorkflow(nextProps.pathname);\n    }\n    if (!this.props.loaded && nextProps.loaded) {\n      this.props.getWorkflow(nextProps.pathname);\n      this.props.getContent(nextProps.pathname);\n    }\n  }\n\n  /**\n   * On transition handler\n   * @method transition\n   * @param {string} event Event object\n   * @returns {undefined}\n   */\n  transition = (selectedOption) => {\n    this.props.transitionWorkflow(flattenToAppURL(selectedOption.url));\n    toast.success(\n      <Toast\n        success\n        title={this.props.intl.formatMessage(messages.messageUpdated)}\n        content=\"\"\n      />,\n    );\n  };\n\n  selectValue = (option) => {\n    const stateDecorator = {\n      marginLeft: '10px',\n      marginRight: '10px',\n      display: 'inline-block',\n      backgroundColor: option.color || null,\n      content: ' ',\n      height: '10px',\n      width: '10px',\n      borderRadius: '50%',\n    };\n    return (\n      <Fragment>\n        <span style={stateDecorator} />\n        <span className=\"Select-value-label\">{option.label}</span>\n      </Fragment>\n    );\n  };\n\n  optionRenderer = (option) => {\n    const stateDecorator = {\n      marginLeft: '10px',\n      marginRight: '10px',\n      display: 'inline-block',\n      backgroundColor:\n        this.props.currentStateValue.value === option.value\n          ? option.color\n          : null,\n      content: ' ',\n      height: '10px',\n      width: '10px',\n      borderRadius: '50%',\n      border:\n        this.props.currentStateValue.value !== option.value\n          ? `1px solid ${option.color}`\n          : null,\n    };\n\n    return (\n      <Fragment>\n        <span style={stateDecorator} />\n        <span style={{ marginRight: 'auto' }}>{option.label}</span>\n        <Icon name={checkSVG} size=\"24px\" />\n      </Fragment>\n    );\n  };\n\n  render() {\n    const { Placeholder } = this.props.reactSelect.components;\n    const Select = this.props.reactSelect.default;\n\n    return (\n      <FormFieldWrapper\n        id=\"state-select\"\n        title={this.props.intl.formatMessage(messages.state)}\n        {...this.props}\n      >\n        <Select\n          name=\"state-select\"\n          className=\"react-select-container\"\n          classNamePrefix=\"react-select\"\n          isDisabled={\n            !this.props.content.review_state ||\n            this.props.transitions.length === 0\n          }\n          options={uniqBy(\n            this.props.transitions.map((transition) =>\n              getWorkflowOptions(transition),\n            ),\n            'label',\n          ).concat(this.props.currentStateValue)}\n          styles={customSelectStyles}\n          theme={selectTheme}\n          components={{\n            DropdownIndicator,\n            Placeholder,\n            Option,\n            SingleValue,\n          }}\n          onChange={this.transition}\n          value={\n            this.props.content.review_state\n              ? this.props.currentStateValue\n              : {\n                  label: this.props.intl.formatMessage(\n                    messages.messageNoWorkflow,\n                  ),\n                  value: 'noworkflow',\n                }\n          }\n          isSearchable={false}\n        />\n      </FormFieldWrapper>\n    );\n  }\n}\n\nexport default compose(\n  injectIntl,\n  injectLazyLibs(['reactSelect']),\n  connect(\n    (state) => ({\n      loaded: state.workflow.transition.loaded,\n      content: state.content.data,\n      history: state.workflow.history,\n      transitions: state.workflow.transitions,\n      currentStateValue: getCurrentStateMapping(state.workflow.currentState),\n    }),\n    { getContent, getWorkflow, transitionWorkflow },\n  ),\n)(Workflow);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Workflow updated.","defaultMessage":"Workflow updated."},{"id":"No workflow","defaultMessage":"No workflow"},{"id":"State","defaultMessage":"State"}]}},"sourceType":"module","externalDependencies":[]}