{"ast":null,"code":"import express from 'express';\nimport { generateRobots } from '@plone/volto/helpers';\n\n/*\nrobots.txt - priority order:\n\n1) robots.txt in /public folder\n2) VOLTO_ROBOTSTXT var in .env\n3) default: plone robots.txt\n\n*/\n\nconst ploneRobots = function (req, res, next) {\n  generateRobots(req).then(robots => {\n    res.set('Content-Type', 'text/plain');\n    res.send(robots);\n  });\n};\nconst envRobots = function (req, res, next) {\n  res.type('text/plain');\n  res.send(process.env.VOLTO_ROBOTSTXT);\n};\nexport default function () {\n  const middleware = express.Router();\n  if (process.env.VOLTO_ROBOTSTXT) {\n    middleware.all('**/robots.txt', envRobots);\n  } else {\n    middleware.all('**/robots.txt', ploneRobots);\n  }\n  middleware.id = 'robots.txt';\n  return middleware;\n}","map":{"version":3,"names":["express","generateRobots","ploneRobots","req","res","next","then","robots","set","send","envRobots","type","process","env","VOLTO_ROBOTSTXT","middleware","Router","all","id"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/express-middleware/robotstxt.js"],"sourcesContent":["import express from 'express';\nimport { generateRobots } from '@plone/volto/helpers';\n\n/*\nrobots.txt - priority order:\n\n1) robots.txt in /public folder\n2) VOLTO_ROBOTSTXT var in .env\n3) default: plone robots.txt\n\n*/\n\nconst ploneRobots = function (req, res, next) {\n  generateRobots(req).then((robots) => {\n    res.set('Content-Type', 'text/plain');\n    res.send(robots);\n  });\n};\n\nconst envRobots = function (req, res, next) {\n  res.type('text/plain');\n  res.send(process.env.VOLTO_ROBOTSTXT);\n};\n\nexport default function () {\n  const middleware = express.Router();\n  if (process.env.VOLTO_ROBOTSTXT) {\n    middleware.all('**/robots.txt', envRobots);\n  } else {\n    middleware.all('**/robots.txt', ploneRobots);\n  }\n  middleware.id = 'robots.txt';\n  return middleware;\n}\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAC7B,SAASC,cAAc,QAAQ,sBAAsB;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,WAAW,GAAG,UAAUC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;EAC5CJ,cAAc,CAACE,GAAG,CAAC,CAACG,IAAI,CAAEC,MAAM,IAAK;IACnCH,GAAG,CAACI,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC;IACrCJ,GAAG,CAACK,IAAI,CAACF,MAAM,CAAC;EAClB,CAAC,CAAC;AACJ,CAAC;AAED,MAAMG,SAAS,GAAG,UAAUP,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;EAC1CD,GAAG,CAACO,IAAI,CAAC,YAAY,CAAC;EACtBP,GAAG,CAACK,IAAI,CAACG,OAAO,CAACC,GAAG,CAACC,eAAe,CAAC;AACvC,CAAC;AAED,eAAe,YAAY;EACzB,MAAMC,UAAU,GAAGf,OAAO,CAACgB,MAAM,EAAE;EACnC,IAAIJ,OAAO,CAACC,GAAG,CAACC,eAAe,EAAE;IAC/BC,UAAU,CAACE,GAAG,CAAC,eAAe,EAAEP,SAAS,CAAC;EAC5C,CAAC,MAAM;IACLK,UAAU,CAACE,GAAG,CAAC,eAAe,EAAEf,WAAW,CAAC;EAC9C;EACAa,UAAU,CAACG,EAAE,GAAG,YAAY;EAC5B,OAAOH,UAAU;AACnB"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}