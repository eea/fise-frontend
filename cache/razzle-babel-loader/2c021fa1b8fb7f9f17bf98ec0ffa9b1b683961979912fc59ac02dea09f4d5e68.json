{"ast":null,"code":"import _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _filter from \"lodash/filter\";\nimport _concat from \"lodash/concat\";\nimport _map from \"lodash/map\";\nimport { ADD_MESSAGE, REMOVE_MESSAGE, PURGE_MESSAGES } from '@plone/volto/constants/ActionTypes';\nvar initialState = {\n  messages: []\n};\n\n/**\n * Messages reducer.\n * @function messages\n * @param {Object} state Current state.\n * @param {Object} action Action to be handled.\n * @returns {Object} New state.\n */\nexport default function messages() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (action.type) {\n    case ADD_MESSAGE:\n      return {\n        messages: _concat([{\n          id: action.id,\n          title: action.title,\n          body: action.body,\n          level: action.level,\n          show: action.show\n        }], state.messages)\n      };\n    case REMOVE_MESSAGE:\n      return {\n        messages: _filter(state.messages, function (message, index) {\n          return action.index === -1 ? index !== state.messages.length - 1 : index !== action.index;\n        })\n      };\n    case PURGE_MESSAGES:\n      return {\n        messages: _map(_filter(state.messages, function (message) {\n          return message.show;\n        }), function (message) {\n          return _objectSpread(_objectSpread({}, message), {}, {\n            show: false\n          });\n        })\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["ADD_MESSAGE","REMOVE_MESSAGE","PURGE_MESSAGES","initialState","messages","state","action","type","id","title","body","level","show","message","index","length"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/reducers/messages/messages.js"],"sourcesContent":["/**\n * Messages reducer.\n * @module reducers/messages/messages\n */\nimport { map, concat, filter } from 'lodash';\n\nimport {\n  ADD_MESSAGE,\n  REMOVE_MESSAGE,\n  PURGE_MESSAGES,\n} from '@plone/volto/constants/ActionTypes';\n\nconst initialState = {\n  messages: [],\n};\n\n/**\n * Messages reducer.\n * @function messages\n * @param {Object} state Current state.\n * @param {Object} action Action to be handled.\n * @returns {Object} New state.\n */\nexport default function messages(state = initialState, action = {}) {\n  switch (action.type) {\n    case ADD_MESSAGE:\n      return {\n        messages: concat(\n          [\n            {\n              id: action.id,\n              title: action.title,\n              body: action.body,\n              level: action.level,\n              show: action.show,\n            },\n          ],\n          state.messages,\n        ),\n      };\n    case REMOVE_MESSAGE:\n      return {\n        messages: filter(state.messages, (message, index) =>\n          action.index === -1\n            ? index !== state.messages.length - 1\n            : index !== action.index,\n        ),\n      };\n    case PURGE_MESSAGES:\n      return {\n        messages: map(\n          filter(state.messages, (message) => message.show),\n          (message) => ({\n            ...message,\n            show: false,\n          }),\n        ),\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":";;;;AAMA,SACEA,WAAW,EACXC,cAAc,EACdC,cAAc,QACT,oCAAoC;AAE3C,IAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE;AACZ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASA,QAAQ,GAAoC;EAAA,IAAnCC,KAAK,uEAAGF,YAAY;EAAA,IAAEG,MAAM,uEAAG,CAAC,CAAC;EAChE,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKP,WAAW;MACd,OAAO;QACLI,QAAQ,EAAE,QACR,CACE;UACEI,EAAE,EAAEF,MAAM,CAACE,EAAE;UACbC,KAAK,EAAEH,MAAM,CAACG,KAAK;UACnBC,IAAI,EAAEJ,MAAM,CAACI,IAAI;UACjBC,KAAK,EAAEL,MAAM,CAACK,KAAK;UACnBC,IAAI,EAAEN,MAAM,CAACM;QACf,CAAC,CACF,EACDP,KAAK,CAACD,QAAQ;MAElB,CAAC;IACH,KAAKH,cAAc;MACjB,OAAO;QACLG,QAAQ,EAAE,QAAOC,KAAK,CAACD,QAAQ,EAAE,UAACS,OAAO,EAAEC,KAAK;UAAA,OAC9CR,MAAM,CAACQ,KAAK,KAAK,CAAC,CAAC,GACfA,KAAK,KAAKT,KAAK,CAACD,QAAQ,CAACW,MAAM,GAAG,CAAC,GACnCD,KAAK,KAAKR,MAAM,CAACQ,KAAK;QAAA;MAE9B,CAAC;IACH,KAAKZ,cAAc;MACjB,OAAO;QACLE,QAAQ,EAAE,KACR,QAAOC,KAAK,CAACD,QAAQ,EAAE,UAACS,OAAO;UAAA,OAAKA,OAAO,CAACD,IAAI;QAAA,EAAC,EACjD,UAACC,OAAO;UAAA,uCACHA,OAAO;YACVD,IAAI,EAAE;UAAK;QAAA,CACX;MAEN,CAAC;IACH;MACE,OAAOP,KAAK;EAAC;AAEnB"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}