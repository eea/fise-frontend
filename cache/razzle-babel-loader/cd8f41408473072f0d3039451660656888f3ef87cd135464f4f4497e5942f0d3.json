{"ast":null,"code":"import _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { flattenToAppURL } from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\nimport { GET_DATA_FROM_PROVIDER } from '../constants';\nexport function getDataFromProvider(path) {\n  var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var data_query = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var hashValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '_default';\n  path = path && flattenToAppURL(path).replace(/\\/$/, '');\n  var db_version = window.env.RAZZLE_DB_VERSION || config.settings.db_version || 'latest';\n  var form = _objectSpread({\n    db_version: db_version\n  }, query);\n  return {\n    type: GET_DATA_FROM_PROVIDER,\n    path: path,\n    hashValue: hashValue,\n    request: {\n      op: 'post',\n      path: \"\".concat(path, \"/@connector-data\"),\n      data: {\n        form: form,\n        data_query: data_query\n      }\n    }\n  };\n}","map":{"version":3,"names":["flattenToAppURL","config","GET_DATA_FROM_PROVIDER","getDataFromProvider","path","query","data_query","hashValue","replace","db_version","window","env","RAZZLE_DB_VERSION","settings","form","type","request","op","data"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-datablocks/src/actions/dataProvider.js"],"sourcesContent":["import { flattenToAppURL } from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\nimport { GET_DATA_FROM_PROVIDER } from '../constants';\n\nexport function getDataFromProvider(\n  path,\n  query = {},\n  data_query = [],\n  hashValue = '_default',\n) {\n  path = path && flattenToAppURL(path).replace(/\\/$/, '');\n\n  const db_version =\n    window.env.RAZZLE_DB_VERSION || config.settings.db_version || 'latest';\n\n  const form = {\n    db_version,\n    ...query,\n  };\n\n  return {\n    type: GET_DATA_FROM_PROVIDER,\n    path: path,\n    hashValue,\n    request: {\n      op: 'post',\n      path: `${path}/@connector-data`,\n      data: {\n        form,\n        data_query,\n      },\n    },\n  };\n}\n"],"mappings":";AAAA,SAASA,eAAe,QAAQ,sBAAsB;AACtD,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,SAASC,sBAAsB,QAAQ,cAAc;AAErD,OAAO,SAASC,mBAAmB,CACjCC,IAAI,EAIJ;EAAA,IAHAC,KAAK,uEAAG,CAAC,CAAC;EAAA,IACVC,UAAU,uEAAG,EAAE;EAAA,IACfC,SAAS,uEAAG,UAAU;EAEtBH,IAAI,GAAGA,IAAI,IAAIJ,eAAe,CAACI,IAAI,CAAC,CAACI,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EAEvD,IAAMC,UAAU,GACdC,MAAM,CAACC,GAAG,CAACC,iBAAiB,IAAIX,MAAM,CAACY,QAAQ,CAACJ,UAAU,IAAI,QAAQ;EAExE,IAAMK,IAAI;IACRL,UAAU,EAAVA;EAAU,GACPJ,KAAK,CACT;EAED,OAAO;IACLU,IAAI,EAAEb,sBAAsB;IAC5BE,IAAI,EAAEA,IAAI;IACVG,SAAS,EAATA,SAAS;IACTS,OAAO,EAAE;MACPC,EAAE,EAAE,MAAM;MACVb,IAAI,YAAKA,IAAI,qBAAkB;MAC/Bc,IAAI,EAAE;QACJJ,IAAI,EAAJA,IAAI;QACJR,UAAU,EAAVA;MACF;IACF;EACF,CAAC;AACH"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}