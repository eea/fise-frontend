{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/volto-slate/src/widgets/BlocksBrowser/BlocksBrowser.jsx\";\nvar __jsx = React.createElement;\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport BlocksBrowserBody from './BlocksBrowserBody';\nimport ReactDOM from 'react-dom';\nconst DEFAULT_TIMEOUT = 500;\nconst withBlocksBrowser = WrappedComponent => {\n  var _class;\n  return _class = class extends React.Component {\n    /**\n     * Default properties\n     * @property {Object} defaultProps Default properties.\n     * @static\n     */\n\n    constructor() {\n      super();\n      _defineProperty(this, \"openObjectBrowser\", ({\n        onSelectItem = null,\n        dataName = null,\n        overlay = null,\n        propDataName = null,\n        selectableTypes,\n        maximumSelectionSize\n      } = {}) => this.setState(() => ({\n        isObjectBrowserOpen: true,\n        onSelectItem,\n        dataName,\n        overlay,\n        propDataName,\n        selectableTypes,\n        maximumSelectionSize\n      })));\n      _defineProperty(this, \"closeObjectBrowser\", () => this.setState({\n        isObjectBrowserOpen: false\n      }));\n      this.state = {\n        isObjectBrowserOpen: false\n      };\n    }\n\n    /**\n     * openObjectBrowser\n     * @function openObjectBrowser\n     * @param {Object} object ObjectBrowser configuration.\n     * @param {string} object.dataName Name of the block data property to write the selected item.\n     * @param {string} object.onSelectItem Function that will be called on item selection.\n     * @param {string} object.overlay Boolean to show overlay background on content when opening objectBrowser.\n     *\n     * Usage:\n     *\n     * this.props.openObjectBrowser();\n     *\n     * this.props.openObjectBrowser({mode: 'link'});\n     *\n     * this.props.openObjectBrowser({\n     *   dataName: 'myfancydatafield'\n     *   });\n     *\n     * this.props.openObjectBrowser({\n     *   onSelectItem: url =>\n     *     this.props.onChangeBlock(this.props.block, {\n     *       ...this.props.data,\n     *       myfancydatafield: url,\n     *     }),\n     *   });\n     */\n\n    render() {\n      var _this$props$pathname, _this$props$location;\n      let contextURL = (_this$props$pathname = this.props.pathname) !== null && _this$props$pathname !== void 0 ? _this$props$pathname : (_this$props$location = this.props.location) === null || _this$props$location === void 0 ? void 0 : _this$props$location.pathname;\n      return __jsx(React.Fragment, null, __jsx(WrappedComponent, _extends({}, this.props, {\n        isObjectBrowserOpen: this.state.isObjectBrowserOpen,\n        openObjectBrowser: this.openObjectBrowser,\n        closeObjectBrowser: this.closeObjectBrowser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      })), __jsx(React.Fragment, null, __jsx(CSSTransition, {\n        in: this.state.isObjectBrowserOpen && this.state.overlay,\n        timeout: DEFAULT_TIMEOUT,\n        classNames: \"overlay-container\",\n        unmountOnExit: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, __jsx(React.Fragment, null, __CLIENT__ && /*#__PURE__*/ReactDOM.createPortal(__jsx(\"div\", {\n        className: \"overlay-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }), document.body))), __jsx(CSSTransition, {\n        in: this.state.isObjectBrowserOpen,\n        timeout: DEFAULT_TIMEOUT,\n        classNames: \"sidebar-container\",\n        unmountOnExit: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, __jsx(BlocksBrowserBody, _extends({}, this.props, {\n        data: this.state.propDataName ? this.props[this.state.propDataName] : _objectSpread(_objectSpread({}, this.props.data), {}, {\n          contextURL\n        }),\n        closeObjectBrowser: this.closeObjectBrowser,\n        onSelectItem: this.state.onSelectItem,\n        dataName: this.state.dataName,\n        selectableTypes: this.state.selectableTypes,\n        maximumSelectionSize: this.state.maximumSelectionSize,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }, _defineProperty(_class, \"defaultProps\", {\n    onChangeBlock: () => {},\n    data: {},\n    block: new Date().getTime() + ''\n  }), _class;\n};\nexport default withBlocksBrowser;","map":{"version":3,"names":["React","CSSTransition","BlocksBrowserBody","ReactDOM","DEFAULT_TIMEOUT","withBlocksBrowser","WrappedComponent","Component","constructor","onSelectItem","dataName","overlay","propDataName","selectableTypes","maximumSelectionSize","setState","isObjectBrowserOpen","state","render","contextURL","props","pathname","location","openObjectBrowser","closeObjectBrowser","__CLIENT__","createPortal","document","body","data","onChangeBlock","block","Date","getTime"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/volto-slate/src/widgets/BlocksBrowser/BlocksBrowser.jsx"],"sourcesContent":["import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport BlocksBrowserBody from './BlocksBrowserBody';\nimport ReactDOM from 'react-dom';\n\nconst DEFAULT_TIMEOUT = 500;\n\nconst withBlocksBrowser = (WrappedComponent) =>\n  class extends React.Component {\n    /**\n     * Default properties\n     * @property {Object} defaultProps Default properties.\n     * @static\n     */\n    static defaultProps = {\n      onChangeBlock: () => {},\n      data: {},\n      block: new Date().getTime() + '',\n    };\n\n    constructor() {\n      super();\n      this.state = { isObjectBrowserOpen: false };\n    }\n\n    /**\n     * openObjectBrowser\n     * @function openObjectBrowser\n     * @param {Object} object ObjectBrowser configuration.\n     * @param {string} object.dataName Name of the block data property to write the selected item.\n     * @param {string} object.onSelectItem Function that will be called on item selection.\n     * @param {string} object.overlay Boolean to show overlay background on content when opening objectBrowser.\n     *\n     * Usage:\n     *\n     * this.props.openObjectBrowser();\n     *\n     * this.props.openObjectBrowser({mode: 'link'});\n     *\n     * this.props.openObjectBrowser({\n     *   dataName: 'myfancydatafield'\n     *   });\n     *\n     * this.props.openObjectBrowser({\n     *   onSelectItem: url =>\n     *     this.props.onChangeBlock(this.props.block, {\n     *       ...this.props.data,\n     *       myfancydatafield: url,\n     *     }),\n     *   });\n     */\n    openObjectBrowser = ({\n      onSelectItem = null,\n      dataName = null,\n      overlay = null,\n      propDataName = null,\n      selectableTypes,\n      maximumSelectionSize,\n    } = {}) =>\n      this.setState(() => ({\n        isObjectBrowserOpen: true,\n        onSelectItem,\n        dataName,\n        overlay,\n        propDataName,\n        selectableTypes,\n        maximumSelectionSize,\n      }));\n\n    closeObjectBrowser = () => this.setState({ isObjectBrowserOpen: false });\n\n    render() {\n      let contextURL = this.props.pathname ?? this.props.location?.pathname;\n      return (\n        <>\n          <WrappedComponent\n            {...this.props}\n            isObjectBrowserOpen={this.state.isObjectBrowserOpen}\n            openObjectBrowser={this.openObjectBrowser}\n            closeObjectBrowser={this.closeObjectBrowser}\n          />\n\n          <>\n            <CSSTransition\n              in={this.state.isObjectBrowserOpen && this.state.overlay}\n              timeout={DEFAULT_TIMEOUT}\n              classNames=\"overlay-container\"\n              unmountOnExit\n            >\n              <>\n                {__CLIENT__ &&\n                  ReactDOM.createPortal(\n                    <div className=\"overlay-container\"></div>,\n                    document.body,\n                  )}\n              </>\n            </CSSTransition>\n            <CSSTransition\n              in={this.state.isObjectBrowserOpen}\n              timeout={DEFAULT_TIMEOUT}\n              classNames=\"sidebar-container\"\n              unmountOnExit\n            >\n              <BlocksBrowserBody\n                {...this.props}\n                data={\n                  this.state.propDataName\n                    ? this.props[this.state.propDataName]\n                    : { ...this.props.data, contextURL }\n                }\n                closeObjectBrowser={this.closeObjectBrowser}\n                onSelectItem={this.state.onSelectItem}\n                dataName={this.state.dataName}\n                selectableTypes={this.state.selectableTypes}\n                maximumSelectionSize={this.state.maximumSelectionSize}\n              />\n            </CSSTransition>\n          </>\n        </>\n      );\n    }\n  };\nexport default withBlocksBrowser;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}