{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-addons-forest/src/Collection/View.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\n/**\n * Document view component.\n * @module components/theme/View/CollectionView\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Helmet } from '@plone/volto/helpers';\nimport { getContent } from '@plone/volto/actions';\nimport { Pagination } from 'semantic-ui-react';\nimport Item from './Item';\nimport './style.less';\n\n/**\n * List view component class.\n * @function CollectionView\n * @params {object} content Content object.\n * @returns {string} Markup of the component.\n */\nvar CollectionView = function CollectionView(props) {\n  _s();\n  var _useState = useState(1),\n    currentPage = _useState[0],\n    setCurrentPage = _useState[1];\n  var _useState2 = useState(25),\n    itemsPerPage = _useState2[0];\n  var dispatch = useDispatch();\n  var content = props.content,\n    location = props.location;\n  var items = content.items;\n  var totalItems = content.items_total;\n  var totalPages = Math.ceil(totalItems / itemsPerPage);\n  // const pageSizes = [25, 50, 100];\n\n  useEffect(function () {\n    dispatch(getContent(location.pathname, null, null, null, true, {\n      b_start: (currentPage - 1) * itemsPerPage,\n      b_size: itemsPerPage\n    }));\n    /* eslint-disable-next-line */\n  }, [currentPage, itemsPerPage]);\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, __jsx(Helmet, {\n    title: content.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), __jsx(\"h1\", {\n    className: \"documentFirstHeading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, content.title, content.subtitle && \" - \".concat(content.subtitle)), content.description && __jsx(\"p\", {\n    className: \"documentDescription\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, content.description), items !== null && items !== void 0 && items.length ? __jsx(\"div\", {\n    className: \"collection\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, items.map(function (item, index) {\n    return __jsx(Item, {\n      key: item.id,\n      item: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    });\n  }), __jsx(Pagination, {\n    current: currentPage,\n    totalPages: totalPages,\n    prevItem: null,\n    nextItem: null,\n    firstItem: currentPage > 1 ? {\n      'aria-label': 'First item',\n      content: '«'\n    } : null,\n    lastItem: currentPage < totalPages ? {\n      'aria-label': 'Last item',\n      content: '»'\n    } : null,\n    onPageChange: function onPageChange(_, data) {\n      setCurrentPage(data.activePage);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })) : '');\n};\n_s(CollectionView, \"ZRHB0tGJr1exsngk/R2ySpgaXCE=\", false, function () {\n  return [useDispatch];\n});\n_c = CollectionView;\nexport default CollectionView;\nvar _c;\n$RefreshReg$(_c, \"CollectionView\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","Helmet","getContent","Pagination","Item","CollectionView","props","currentPage","setCurrentPage","itemsPerPage","dispatch","content","location","items","totalItems","items_total","totalPages","Math","ceil","pathname","b_start","b_size","title","subtitle","description","length","map","item","index","id","_","data","activePage"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-addons-forest/src/Collection/View.jsx"],"sourcesContent":["/**\n * Document view component.\n * @module components/theme/View/CollectionView\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Helmet } from '@plone/volto/helpers';\nimport { getContent } from '@plone/volto/actions';\nimport { Pagination } from 'semantic-ui-react';\nimport Item from './Item';\n\nimport './style.less';\n\n/**\n * List view component class.\n * @function CollectionView\n * @params {object} content Content object.\n * @returns {string} Markup of the component.\n */\nconst CollectionView = (props) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(25);\n  const dispatch = useDispatch();\n  const { content, location } = props;\n  const items = content.items;\n  const totalItems = content.items_total;\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\n  // const pageSizes = [25, 50, 100];\n\n  useEffect(() => {\n    dispatch(\n      getContent(location.pathname, null, null, null, true, {\n        b_start: (currentPage - 1) * itemsPerPage,\n        b_size: itemsPerPage,\n      }),\n    );\n    /* eslint-disable-next-line */\n  }, [currentPage, itemsPerPage]);\n\n  return (\n    <React.Fragment>\n      <Helmet title={content.title} />\n      <h1 className=\"documentFirstHeading\">\n        {content.title}\n        {content.subtitle && ` - ${content.subtitle}`}\n      </h1>\n      {content.description && (\n        <p className=\"documentDescription\">{content.description}</p>\n      )}\n\n      {items?.length ? (\n        <div className=\"collection\">\n          {items.map((item, index) => (\n            <Item key={item.id} item={item} />\n          ))}\n          <Pagination\n            current={currentPage}\n            totalPages={totalPages}\n            prevItem={null}\n            nextItem={null}\n            firstItem={\n              currentPage > 1\n                ? {\n                    'aria-label': 'First item',\n                    content: '«',\n                  }\n                : null\n            }\n            lastItem={\n              currentPage < totalPages\n                ? {\n                    'aria-label': 'Last item',\n                    content: '»',\n                  }\n                : null\n            }\n            onPageChange={(_, data) => {\n              setCurrentPage(data.activePage);\n            }}\n          />\n        </div>\n      ) : (\n        ''\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default CollectionView;\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,MAAM,QAAQ,sBAAsB;AAC7C,SAASC,UAAU,QAAQ,sBAAsB;AACjD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,OAAOC,IAAI,MAAM,QAAQ;AAEzB,OAAO,cAAc;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIC,KAAK,EAAK;EAAA;EAChC,gBAAsCP,QAAQ,CAAC,CAAC,CAAC;IAA1CQ,WAAW;IAAEC,cAAc;EAClC,iBAAuBT,QAAQ,CAAC,EAAE,CAAC;IAA5BU,YAAY;EACnB,IAAMC,QAAQ,GAAGV,WAAW,EAAE;EAC9B,IAAQW,OAAO,GAAeL,KAAK,CAA3BK,OAAO;IAAEC,QAAQ,GAAKN,KAAK,CAAlBM,QAAQ;EACzB,IAAMC,KAAK,GAAGF,OAAO,CAACE,KAAK;EAC3B,IAAMC,UAAU,GAAGH,OAAO,CAACI,WAAW;EACtC,IAAMC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACJ,UAAU,GAAGL,YAAY,CAAC;EACvD;;EAEAX,SAAS,CAAC,YAAM;IACdY,QAAQ,CACNR,UAAU,CAACU,QAAQ,CAACO,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;MACpDC,OAAO,EAAE,CAACb,WAAW,GAAG,CAAC,IAAIE,YAAY;MACzCY,MAAM,EAAEZ;IACV,CAAC,CAAC,CACH;IACD;EACF,CAAC,EAAE,CAACF,WAAW,EAAEE,YAAY,CAAC,CAAC;EAE/B,OACE,MAAC,KAAK,CAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACb,MAAC,MAAM;IAAC,KAAK,EAAEE,OAAO,CAACW,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,EAChC;IAAI,SAAS,EAAC,sBAAsB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACjCX,OAAO,CAACW,KAAK,EACbX,OAAO,CAACY,QAAQ,iBAAUZ,OAAO,CAACY,QAAQ,CAAE,CAC1C,EACJZ,OAAO,CAACa,WAAW,IAClB;IAAG,SAAS,EAAC,qBAAqB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAEb,OAAO,CAACa,WAAW,CACxD,EAEAX,KAAK,aAALA,KAAK,eAALA,KAAK,CAAEY,MAAM,GACZ;IAAK,SAAS,EAAC,YAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACxBZ,KAAK,CAACa,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;IAAA,OACrB,MAAC,IAAI;MAAC,GAAG,EAAED,IAAI,CAACE,EAAG;MAAC,IAAI,EAAEF,IAAK;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG;EAAA,CACnC,CAAC,EACF,MAAC,UAAU;IACT,OAAO,EAAEpB,WAAY;IACrB,UAAU,EAAES,UAAW;IACvB,QAAQ,EAAE,IAAK;IACf,QAAQ,EAAE,IAAK;IACf,SAAS,EACPT,WAAW,GAAG,CAAC,GACX;MACE,YAAY,EAAE,YAAY;MAC1BI,OAAO,EAAE;IACX,CAAC,GACD,IACL;IACD,QAAQ,EACNJ,WAAW,GAAGS,UAAU,GACpB;MACE,YAAY,EAAE,WAAW;MACzBL,OAAO,EAAE;IACX,CAAC,GACD,IACL;IACD,YAAY,EAAE,sBAACmB,CAAC,EAAEC,IAAI,EAAK;MACzBvB,cAAc,CAACuB,IAAI,CAACC,UAAU,CAAC;IACjC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACF,CACE,GAEN,EACD,CACc;AAErB,CAAC;AAAC,GAnEI3B,cAAc;EAAA,QAGDL,WAAW;AAAA;AAAA,KAHxBK,cAAc;AAqEpB,eAAeA,cAAc;AAAC;AAAA"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}