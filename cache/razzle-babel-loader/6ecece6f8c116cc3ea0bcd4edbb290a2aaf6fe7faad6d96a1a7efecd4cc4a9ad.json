{"ast":null,"code":"import _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-slate/src/editor/plugins/Link/render.jsx\",\n  _this = this;\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { UniversalLink } from '@plone/volto/components';\nimport { withHashLink } from 'volto-slate/hooks';\nimport './styles.less';\nexport var LinkElement = withHashLink(_c = function _c(_ref) {\n  var _link$internal, _link$internal$intern, _link$internal$intern2, _link$external, _link$hash, _link$hash$internal_h, _link$hash$internal_h2, _link$external2;\n  var attributes = _ref.attributes,\n    children = _ref.children,\n    element = _ref.element,\n    mode = _ref.mode,\n    setHashLink = _ref.setHashLink;\n  // TODO: handle title on internal links\n  var url = element.url;\n  var _ref2 = element.data || {},\n    link = _ref2.link;\n  var internal_link = link === null || link === void 0 ? void 0 : (_link$internal = link.internal) === null || _link$internal === void 0 ? void 0 : (_link$internal$intern = _link$internal.internal_link) === null || _link$internal$intern === void 0 ? void 0 : (_link$internal$intern2 = _link$internal$intern[0]) === null || _link$internal$intern2 === void 0 ? void 0 : _link$internal$intern2['@id'];\n  var external_link = link === null || link === void 0 ? void 0 : (_link$external = link.external) === null || _link$external === void 0 ? void 0 : _link$external.external_link;\n  var email = link === null || link === void 0 ? void 0 : link.email;\n  var internal_hash = link === null || link === void 0 ? void 0 : (_link$hash = link.hash) === null || _link$hash === void 0 ? void 0 : (_link$hash$internal_h = _link$hash.internal_hash) === null || _link$hash$internal_h === void 0 ? void 0 : (_link$hash$internal_h2 = _link$hash$internal_h[0]) === null || _link$hash$internal_h2 === void 0 ? void 0 : _link$hash$internal_h2['id'];\n  var href = internal_hash ? \"#\".concat(internal_hash) : email ? \"mailto:\".concat(email.email_address).concat(email.email_subject ? \"?subject=\".concat(email.email_subject) : '') : external_link || internal_link || url;\n  var _ref3 = (element === null || element === void 0 ? void 0 : element.data) || {},\n    title = _ref3.title;\n  return mode === 'view' ? __jsx(React.Fragment, null, internal_hash ? __jsx(\"a\", {\n    href: \"#\".concat(internal_hash),\n    title: title,\n    onClick: function onClick(event) {\n      event.preventDefault();\n      setHashLink(internal_hash, link.hash.internal_hash[0]);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, children) : __jsx(UniversalLink, {\n    href: href || '#',\n    openLinkInNewTab: (link === null || link === void 0 ? void 0 : (_link$external2 = link.external) === null || _link$external2 === void 0 ? void 0 : _link$external2.target) === '_blank',\n    title: title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, children)) : __jsx(\"span\", _extends({}, attributes, {\n    className: \"slate-editor-link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), children);\n});\n_c2 = LinkElement;\nvar _c, _c2;\n$RefreshReg$(_c, \"LinkElement$withHashLink\");\n$RefreshReg$(_c2, \"LinkElement\");","map":{"version":3,"names":["React","UniversalLink","withHashLink","LinkElement","attributes","children","element","mode","setHashLink","url","data","link","internal_link","internal","external_link","external","email","internal_hash","hash","href","email_address","email_subject","title","event","preventDefault","target"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-slate/src/editor/plugins/Link/render.jsx"],"sourcesContent":["import React from 'react';\nimport { UniversalLink } from '@plone/volto/components';\nimport { withHashLink } from 'volto-slate/hooks';\nimport './styles.less';\n\nexport const LinkElement = withHashLink(\n  ({ attributes, children, element, mode, setHashLink }) => {\n    // TODO: handle title on internal links\n    let url = element.url;\n    const { link } = element.data || {};\n\n    const internal_link = link?.internal?.internal_link?.[0]?.['@id'];\n    const external_link = link?.external?.external_link;\n    const email = link?.email;\n    const internal_hash = link?.hash?.internal_hash?.[0]?.['id'];\n\n    const href = internal_hash\n      ? `#${internal_hash}`\n      : email\n      ? `mailto:${email.email_address}${\n          email.email_subject ? `?subject=${email.email_subject}` : ''\n        }`\n      : external_link || internal_link || url;\n\n    const { title } = element?.data || {};\n\n    return mode === 'view' ? (\n      <>\n        {internal_hash ? (\n          <a\n            href={`#${internal_hash}`}\n            title={title}\n            onClick={(event) => {\n              event.preventDefault();\n              setHashLink(internal_hash, link.hash.internal_hash[0]);\n            }}\n          >\n            {children}\n          </a>\n        ) : (\n          <UniversalLink\n            href={href || '#'}\n            openLinkInNewTab={link?.external?.target === '_blank'}\n            title={title}\n          >\n            {children}\n          </UniversalLink>\n        )}\n      </>\n    ) : (\n      <span {...attributes} className=\"slate-editor-link\">\n        {children}\n      </span>\n    );\n  },\n);\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,yBAAyB;AACvD,SAASC,YAAY,QAAQ,mBAAmB;AAChD,OAAO,eAAe;AAEtB,OAAO,IAAMC,WAAW,GAAGD,YAAY,MACrC,kBAA0D;EAAA;EAAA,IAAvDE,UAAU,QAAVA,UAAU;IAAEC,QAAQ,QAARA,QAAQ;IAAEC,OAAO,QAAPA,OAAO;IAAEC,IAAI,QAAJA,IAAI;IAAEC,WAAW,QAAXA,WAAW;EACjD;EACA,IAAIC,GAAG,GAAGH,OAAO,CAACG,GAAG;EACrB,YAAiBH,OAAO,CAACI,IAAI,IAAI,CAAC,CAAC;IAA3BC,IAAI,SAAJA,IAAI;EAEZ,IAAMC,aAAa,GAAGD,IAAI,aAAJA,IAAI,yCAAJA,IAAI,CAAEE,QAAQ,4EAAd,eAAgBD,aAAa,oFAA7B,sBAAgC,CAAC,CAAC,2DAAlC,uBAAqC,KAAK,CAAC;EACjE,IAAME,aAAa,GAAGH,IAAI,aAAJA,IAAI,yCAAJA,IAAI,CAAEI,QAAQ,mDAAd,eAAgBD,aAAa;EACnD,IAAME,KAAK,GAAGL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,KAAK;EACzB,IAAMC,aAAa,GAAGN,IAAI,aAAJA,IAAI,qCAAJA,IAAI,CAAEO,IAAI,wEAAV,WAAYD,aAAa,oFAAzB,sBAA4B,CAAC,CAAC,2DAA9B,uBAAiC,IAAI,CAAC;EAE5D,IAAME,IAAI,GAAGF,aAAa,cAClBA,aAAa,IACjBD,KAAK,oBACKA,KAAK,CAACI,aAAa,SAC3BJ,KAAK,CAACK,aAAa,sBAAeL,KAAK,CAACK,aAAa,IAAK,EAAE,IAE9DP,aAAa,IAAIF,aAAa,IAAIH,GAAG;EAEzC,YAAkB,CAAAH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEI,IAAI,KAAI,CAAC,CAAC;IAA7BY,KAAK,SAALA,KAAK;EAEb,OAAOf,IAAI,KAAK,MAAM,GACpB,4BACGU,aAAa,GACZ;IACE,IAAI,aAAMA,aAAa,CAAG;IAC1B,KAAK,EAAEK,KAAM;IACb,OAAO,EAAE,iBAACC,KAAK,EAAK;MAClBA,KAAK,CAACC,cAAc,EAAE;MACtBhB,WAAW,CAACS,aAAa,EAAEN,IAAI,CAACO,IAAI,CAACD,aAAa,CAAC,CAAC,CAAC,CAAC;IACxD,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEDZ,QAAQ,CACP,GAEJ,MAAC,aAAa;IACZ,IAAI,EAAEc,IAAI,IAAI,GAAI;IAClB,gBAAgB,EAAE,CAAAR,IAAI,aAAJA,IAAI,0CAAJA,IAAI,CAAEI,QAAQ,oDAAd,gBAAgBU,MAAM,MAAK,QAAS;IACtD,KAAK,EAAEH,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEZjB,QAAQ,CAEZ,CACA,GAEH,2BAAUD,UAAU;IAAE,SAAS,EAAC,mBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,IAChDC,QAAQ,CAEZ;AACH,CAAC,CACF;AAAC,MAlDWF,WAAW;AAAA;AAAA;AAAA"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}