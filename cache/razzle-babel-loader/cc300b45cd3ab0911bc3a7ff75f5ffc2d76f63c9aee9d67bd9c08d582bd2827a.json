{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n/**\n * Upload reducer.\n * @module reducers/content\n *\n * Customized copy of Volto's content reducer\n */\n\nimport config from '@plone/volto/registry';\nimport { UPLOAD_CONTENT } from '@plone/volto-slate/constants';\nconst initialState = {};\n\n/**\n * Content reducer.\n * @function content\n * @param {Object} state Current state.\n * @param {Object} action Action to be handled.\n * @returns {Object} New state.\n */\nexport default function upload_content(state = initialState, action = {}) {\n  let {\n    result,\n    origin\n  } = action;\n  switch (action.type) {\n    case `${UPLOAD_CONTENT}_PENDING`:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        [origin]: _objectSpread(_objectSpread({}, state[origin]), {}, {\n          upload: {\n            loading: true,\n            loaded: false,\n            error: null\n          }\n        })\n      });\n    case `${UPLOAD_CONTENT}_SUCCESS`:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        [origin]: _objectSpread(_objectSpread({}, state[origin]), {}, {\n          data: _objectSpread(_objectSpread({}, result), {}, {\n            items: action.result && action.result.items && action.result.items.map(item => _objectSpread(_objectSpread({}, item), {}, {\n              url: item['@id'].replace(config.settings.apiPath, '')\n            }))\n          }),\n          upload: {\n            loading: false,\n            loaded: true,\n            error: null\n          }\n        })\n      });\n    case `${UPLOAD_CONTENT}_FAIL`:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        [origin]: _objectSpread(_objectSpread({}, state[origin]), {}, {\n          data: null,\n          upload: {\n            loading: false,\n            loaded: false,\n            error: action.error\n          }\n        })\n      });\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["config","UPLOAD_CONTENT","initialState","upload_content","state","action","result","origin","type","upload","loading","loaded","error","data","items","map","item","url","replace","settings","apiPath"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/packages/volto-slate/src/reducers/content.js"],"sourcesContent":["/**\n * Upload reducer.\n * @module reducers/content\n *\n * Customized copy of Volto's content reducer\n */\n\nimport config from '@plone/volto/registry';\n\nimport { UPLOAD_CONTENT } from '@plone/volto-slate/constants';\n\nconst initialState = {};\n\n/**\n * Content reducer.\n * @function content\n * @param {Object} state Current state.\n * @param {Object} action Action to be handled.\n * @returns {Object} New state.\n */\nexport default function upload_content(state = initialState, action = {}) {\n  let { result, origin } = action;\n  switch (action.type) {\n    case `${UPLOAD_CONTENT}_PENDING`:\n      return {\n        ...state,\n        [origin]: {\n          ...state[origin],\n          upload: {\n            loading: true,\n            loaded: false,\n            error: null,\n          },\n        },\n      };\n    case `${UPLOAD_CONTENT}_SUCCESS`:\n      return {\n        ...state,\n        [origin]: {\n          ...state[origin],\n          data: {\n            ...result,\n            items:\n              action.result &&\n              action.result.items &&\n              action.result.items.map((item) => ({\n                ...item,\n                url: item['@id'].replace(config.settings.apiPath, ''),\n              })),\n          },\n          upload: {\n            loading: false,\n            loaded: true,\n            error: null,\n          },\n        },\n      };\n    case `${UPLOAD_CONTENT}_FAIL`:\n      return {\n        ...state,\n        [origin]: {\n          ...state[origin],\n          data: null,\n          upload: {\n            loading: false,\n            loaded: false,\n            error: action.error,\n          },\n        },\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,MAAM,MAAM,uBAAuB;AAE1C,SAASC,cAAc,QAAQ,8BAA8B;AAE7D,MAAMC,YAAY,GAAG,CAAC,CAAC;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,cAAc,CAACC,KAAK,GAAGF,YAAY,EAAEG,MAAM,GAAG,CAAC,CAAC,EAAE;EACxE,IAAI;IAAEC,MAAM;IAAEC;EAAO,CAAC,GAAGF,MAAM;EAC/B,QAAQA,MAAM,CAACG,IAAI;IACjB,KAAM,GAAEP,cAAe,UAAS;MAC9B,uCACKG,KAAK;QACR,CAACG,MAAM,mCACFH,KAAK,CAACG,MAAM,CAAC;UAChBE,MAAM,EAAE;YACNC,OAAO,EAAE,IAAI;YACbC,MAAM,EAAE,KAAK;YACbC,KAAK,EAAE;UACT;QAAC;MACF;IAEL,KAAM,GAAEX,cAAe,UAAS;MAC9B,uCACKG,KAAK;QACR,CAACG,MAAM,mCACFH,KAAK,CAACG,MAAM,CAAC;UAChBM,IAAI,kCACCP,MAAM;YACTQ,KAAK,EACHT,MAAM,CAACC,MAAM,IACbD,MAAM,CAACC,MAAM,CAACQ,KAAK,IACnBT,MAAM,CAACC,MAAM,CAACQ,KAAK,CAACC,GAAG,CAAEC,IAAI,oCACxBA,IAAI;cACPC,GAAG,EAAED,IAAI,CAAC,KAAK,CAAC,CAACE,OAAO,CAAClB,MAAM,CAACmB,QAAQ,CAACC,OAAO,EAAE,EAAE;YAAC,EACrD;UAAC,EACN;UACDX,MAAM,EAAE;YACNC,OAAO,EAAE,KAAK;YACdC,MAAM,EAAE,IAAI;YACZC,KAAK,EAAE;UACT;QAAC;MACF;IAEL,KAAM,GAAEX,cAAe,OAAM;MAC3B,uCACKG,KAAK;QACR,CAACG,MAAM,mCACFH,KAAK,CAACG,MAAM,CAAC;UAChBM,IAAI,EAAE,IAAI;UACVJ,MAAM,EAAE;YACNC,OAAO,EAAE,KAAK;YACdC,MAAM,EAAE,KAAK;YACbC,KAAK,EAAEP,MAAM,CAACO;UAChB;QAAC;MACF;IAEL;MACE,OAAOR,KAAK;EAAC;AAEnB"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}