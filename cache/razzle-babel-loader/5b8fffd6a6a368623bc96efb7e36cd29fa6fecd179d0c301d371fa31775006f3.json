{"ast":null,"code":"import loadable from '@loadable/component';\nconst SentryBrowser = loadable.lib({\n  resolved: {},\n  chunkName() {\n    return \"s_entry-browser\";\n  },\n  isReady(props) {\n    var key = this.resolve(props);\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n    return false;\n  },\n  importAsync: () => import( /* webpackChunkName: \"s_entry-browser\" */'@sentry/browser'),\n  requireAsync(props) {\n    var _this = this;\n    var key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(function (resolved) {\n      _this.resolved[key] = true;\n      return resolved;\n    });\n  },\n  requireSync(props) {\n    var id = this.resolve(props);\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n    return eval('module.require')(id);\n  },\n  resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"@sentry/browser\");\n    }\n    return eval('require.resolve')(\"@sentry/browser\");\n  }\n});\nconst SentryNode = loadable.lib({\n  resolved: {},\n  chunkName() {\n    return \"s_entry-browser\";\n  },\n  isReady(props) {\n    var key = this.resolve(props);\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n    return false;\n  },\n  importAsync: () => import( /* webpackChunkName: \"s_entry-browser\" */'@sentry/browser'),\n  requireAsync(props) {\n    var _this = this;\n    var key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(function (resolved) {\n      _this.resolved[key] = true;\n      return resolved;\n    });\n  },\n  requireSync(props) {\n    var id = this.resolve(props);\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n    return eval('module.require')(id);\n  },\n  resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"@sentry/browser\");\n    }\n    return eval('require.resolve')(\"@sentry/browser\");\n  }\n});\nconst crashReporter = store => next => action => {\n  try {\n    return next(action);\n  } catch (error) {\n    var _SENTRY__, _process, _process$env, _window, _window$env;\n    if ((_SENTRY__ = __SENTRY__) !== null && _SENTRY__ !== void 0 && _SENTRY__.SENTRY_DSN || (_process = process) !== null && _process !== void 0 && (_process$env = _process.env) !== null && _process$env !== void 0 && _process$env.RAZZLE_SENTRY_DSN || (_window = window) !== null && _window !== void 0 && (_window$env = _window.env) !== null && _window$env !== void 0 && _window$env.RAZZLE_SENTRY_DSN) {\n      const loader = __CLIENT__ ? SentryBrowser : SentryNode;\n      loader.load().then(Sentry => {\n        Sentry.withScope(scope => {\n          scope.setExtras({\n            action,\n            state: store.getState()\n          });\n          Sentry.captureException(error);\n        });\n      });\n    }\n    throw error;\n  }\n};\nexport default crashReporter;","map":{"version":3,"names":["loadable","SentryBrowser","lib","SentryNode","crashReporter","store","next","action","error","__SENTRY__","SENTRY_DSN","process","env","RAZZLE_SENTRY_DSN","window","loader","__CLIENT__","load","then","Sentry","withScope","scope","setExtras","state","getState","captureException"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/middleware/crashReporter.js"],"sourcesContent":["import loadable from '@loadable/component';\n\nconst SentryBrowser = loadable.lib(() =>\n  import(/* webpackChunkName: \"s_entry-browser\" */ '@sentry/browser'),\n);\nconst SentryNode = loadable.lib(() =>\n  import(/* webpackChunkName: \"s_entry-browser\" */ '@sentry/browser'),\n);\n\nconst crashReporter = (store) => (next) => (action) => {\n  try {\n    return next(action);\n  } catch (error) {\n    if (\n      __SENTRY__?.SENTRY_DSN ||\n      process?.env?.RAZZLE_SENTRY_DSN ||\n      window?.env?.RAZZLE_SENTRY_DSN\n    ) {\n      const loader = __CLIENT__ ? SentryBrowser : SentryNode;\n      loader.load().then((Sentry) => {\n        Sentry.withScope((scope) => {\n          scope.setExtras({\n            action,\n            state: store.getState(),\n          });\n          Sentry.captureException(error);\n        });\n      });\n    }\n    throw error;\n  }\n};\n\nexport default crashReporter;\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,qBAAqB;AAE1C,MAAMC,aAAa,GAAGD,QAAQ,CAACE,GAAG;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA,aAAC,MACjC,MAAM,2CAA2C,iBAAiB,CAAC;EAAA;IAAA;IAAA;IAAA;IAAA;MAAA;MAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA;IAAA;MAAA;IAAA;IAAA;EAAA;AAAA,EACpE;AACD,MAAMC,UAAU,GAAGH,QAAQ,CAACE,GAAG;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA,aAAC,MAC9B,MAAM,2CAA2C,iBAAiB,CAAC;EAAA;IAAA;IAAA;IAAA;IAAA;MAAA;MAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA;IAAA;MAAA;IAAA;IAAA;EAAA;AAAA,EACpE;AAED,MAAME,aAAa,GAAIC,KAAK,IAAMC,IAAI,IAAMC,MAAM,IAAK;EACrD,IAAI;IACF,OAAOD,IAAI,CAACC,MAAM,CAAC;EACrB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA;IACd,IACE,aAAAC,UAAU,sCAAV,UAAYC,UAAU,gBACtBC,OAAO,qDAAP,SAASC,GAAG,yCAAZ,aAAcC,iBAAiB,eAC/BC,MAAM,mDAAN,QAAQF,GAAG,wCAAX,YAAaC,iBAAiB,EAC9B;MACA,MAAME,MAAM,GAAGC,UAAU,GAAGf,aAAa,GAAGE,UAAU;MACtDY,MAAM,CAACE,IAAI,EAAE,CAACC,IAAI,CAAEC,MAAM,IAAK;QAC7BA,MAAM,CAACC,SAAS,CAAEC,KAAK,IAAK;UAC1BA,KAAK,CAACC,SAAS,CAAC;YACdf,MAAM;YACNgB,KAAK,EAAElB,KAAK,CAACmB,QAAQ;UACvB,CAAC,CAAC;UACFL,MAAM,CAACM,gBAAgB,CAACjB,KAAK,CAAC;QAChC,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;IACA,MAAMA,KAAK;EACb;AACF,CAAC;AAED,eAAeJ,aAAa"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}