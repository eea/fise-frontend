{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n/* eslint no-console: 0 */\nimport React from 'react';\nimport objectAssign from 'object-assign';\nimport { ATTRIBUTE_NAMES, HELMET_ATTRIBUTE, HELMET_PROPS, HTML_TAG_MAP, REACT_TAG_MAP, SELF_CLOSING_TAGS, TAG_NAMES, TAG_PROPERTIES } from './HelmetConstants.js';\nconst encodeSpecialCharacters = (str, encode = true) => {\n  if (encode === false) {\n    return String(str);\n  }\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#x27;');\n};\nconst getTitleFromPropsList = propsList => {\n  const innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  const innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, () => Array.isArray(innermostTitle) ? innermostTitle.join('') : innermostTitle);\n  }\n  const innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\nconst getOnChangeClientState = propsList => {\n  return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || (() => {});\n};\nconst getAttributesFromPropsList = (tagType, propsList) => {\n  return propsList.filter(props => typeof props[tagType] !== 'undefined').map(props => props[tagType]).reduce((tagAttrs, current) => {\n    return _objectSpread(_objectSpread({}, tagAttrs), current);\n  }, {});\n};\nconst getBaseTagFromPropsList = (primaryAttributes, propsList) => {\n  return propsList.filter(props => typeof props[TAG_NAMES.BASE] !== 'undefined').map(props => props[TAG_NAMES.BASE]).reverse().reduce((innermostBaseTag, tag) => {\n    if (!innermostBaseTag.length) {\n      const keys = Object.keys(tag);\n      for (let i = 0; i < keys.length; i++) {\n        const attributeKey = keys[i];\n        const lowerCaseAttributeKey = attributeKey.toLowerCase();\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n    return innermostBaseTag;\n  }, []);\n};\nconst getTagsFromPropsList = (tagName, primaryAttributes, propsList) => {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  const approvedSeenTags = {};\n  return propsList.filter(props => {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n    if (typeof props[tagName] !== 'undefined') {\n      warn(`Helmet: ${tagName} should be of type \"Array\". Instead found type \"${typeof props[tagName]}\"`);\n    }\n    return false;\n  }).map(props => props[tagName]).reverse().reduce((approvedTags, instanceTags) => {\n    const instanceSeenTags = {};\n    instanceTags.filter(tag => {\n      let primaryAttributeKey;\n      const keys = Object.keys(tag);\n      for (let i = 0; i < keys.length; i++) {\n        const attributeKey = keys[i];\n        const lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === 'canonical') && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === 'stylesheet')) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        }\n        // Special case for innerHTML which doesn't work lowercased\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n      const value = tag[primaryAttributeKey].toLowerCase();\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n      return false;\n    }).reverse().forEach(tag => approvedTags.push(tag));\n\n    // Update seen tags with tags from this instance\n    const keys = Object.keys(instanceSeenTags);\n    for (let i = 0; i < keys.length; i++) {\n      const attributeKey = keys[i];\n      const tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n    return approvedTags;\n  }, []).reverse();\n};\nconst getInnermostProperty = (propsList, property) => {\n  for (let i = propsList.length - 1; i >= 0; i--) {\n    const props = propsList[i];\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n  return null;\n};\nconst reducePropsToState = propsList => ({\n  baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n  bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n  defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n  encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n  htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n  linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n  metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n  noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n  onChangeClientState: getOnChangeClientState(propsList),\n  scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n  styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n  title: getTitleFromPropsList(propsList),\n  titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n});\nconst rafPolyfill = (() => {\n  let clock = Date.now();\n  return callback => {\n    const currentTime = Date.now();\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(() => {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n})();\nconst cafPolyfill = id => clearTimeout(id);\nconst requestAnimationFrame = false ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nconst cancelAnimationFrame = false ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\nconst warn = msg => {\n  return console && typeof console.warn === 'function' && console.warn(msg);\n};\nlet _helmetCallback = null;\nconst handleClientStateChange = newState => {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(() => {\n      commitTagChanges(newState, () => {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\nconst commitTagChanges = (newState, cb) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    htmlAttributes,\n    linkTags,\n    metaTags,\n    noscriptTags,\n    onChangeClientState,\n    scriptTags,\n    styleTags,\n    title,\n    titleAttributes\n  } = newState;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  const tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n  };\n  const addedTags = {};\n  const removedTags = {};\n  Object.keys(tagUpdates).forEach(tagType => {\n    const {\n      newTags,\n      oldTags\n    } = tagUpdates[tagType];\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\nconst flattenArray = possibleArray => {\n  return Array.isArray(possibleArray) ? possibleArray.join('') : possibleArray;\n};\nconst updateTitle = (title, attributes) => {\n  if (typeof title !== 'undefined' && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\nconst updateAttributes = (tagName, attributes) => {\n  const elementTag = document.getElementsByTagName(tagName)[0];\n  if (!elementTag) {\n    return;\n  }\n  const helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  const helmetAttributes = helmetAttributeString ? helmetAttributeString.split(',') : [];\n  const attributesToRemove = [].concat(helmetAttributes);\n  const attributeKeys = Object.keys(attributes);\n  for (let i = 0; i < attributeKeys.length; i++) {\n    const attribute = attributeKeys[i];\n    const value = attributes[attribute] || '';\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n    const indexToSave = attributesToRemove.indexOf(attribute);\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n  for (let i = attributesToRemove.length - 1; i >= 0; i--) {\n    elementTag.removeAttribute(attributesToRemove[i]);\n  }\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(',')) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(','));\n  }\n};\nconst updateTags = (type, tags) => {\n  const headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  const tagNodes = headElement.querySelectorAll(`${type}[${HELMET_ATTRIBUTE}]`);\n  const oldTags = Array.prototype.slice.call(tagNodes);\n  const newTags = [];\n  let indexToDelete;\n  if (tags && tags.length) {\n    tags.forEach(tag => {\n      const newElement = document.createElement(type);\n      for (const attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            const value = typeof tag[attribute] === 'undefined' ? '' : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n      newElement.setAttribute(HELMET_ATTRIBUTE, 'true');\n\n      // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n      if (oldTags.some((existingTag, index) => {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n  oldTags.forEach(tag => tag.parentNode.removeChild(tag));\n  newTags.forEach(tag => headElement.appendChild(tag));\n  return {\n    oldTags,\n    newTags\n  };\n};\nconst generateElementAttributesAsString = attributes => Object.keys(attributes).reduce((str, key) => {\n  const attr = typeof attributes[key] !== 'undefined' ? `${key}=\"${attributes[key]}\"` : `${key}`;\n  return str ? `${str} ${attr}` : attr;\n}, '');\nconst generateTitleAsString = (type, title, attributes, encode) => {\n  const attributeString = generateElementAttributesAsString(attributes);\n  const flattenedTitle = flattenArray(title);\n  return attributeString ? `<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeString}>${encodeSpecialCharacters(flattenedTitle, encode)}</${type}>` : `<${type} ${HELMET_ATTRIBUTE}=\"true\">${encodeSpecialCharacters(flattenedTitle, encode)}</${type}>`;\n};\nconst generateTagsAsString = (type, tags, encode) => tags.reduce((str, tag) => {\n  const attributeHtml = Object.keys(tag).filter(attribute => !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT)).reduce((string, attribute) => {\n    const attr = typeof tag[attribute] === 'undefined' ? attribute : `${attribute}=\"${encodeSpecialCharacters(tag[attribute], encode)}\"`;\n    return string ? `${string} ${attr}` : attr;\n  }, '');\n  const tagContent = tag.innerHTML || tag.cssText || '';\n  const isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n  return `${str}<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeHtml}${isSelfClosing ? `/>` : `>${tagContent}</${type}>`}`;\n}, '');\nconst convertElementAttributestoReactProps = (attributes, initProps = {}) => {\n  return Object.keys(attributes).reduce((obj, key) => {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\nconst convertReactPropstoHtmlAttributes = (props, initAttributes = {}) => {\n  return Object.keys(props).reduce((obj, key) => {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\nconst generateTitleAsReactComponent = (type, title, attributes) => {\n  // assigning into an array to define toString function on it\n  const initProps = {\n    key: title,\n    [HELMET_ATTRIBUTE]: true\n  };\n  const props = convertElementAttributestoReactProps(attributes, initProps);\n  return [/*#__PURE__*/React.createElement(TAG_NAMES.TITLE, props, title)];\n};\nconst generateTagsAsReactComponent = (type, tags) => tags.map((tag, i) => {\n  const mappedTag = {\n    key: i,\n    [HELMET_ATTRIBUTE]: true\n  };\n  Object.keys(tag).forEach(attribute => {\n    const mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n    if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n      const content = tag.innerHTML || tag.cssText;\n      mappedTag.dangerouslySetInnerHTML = {\n        __html: content\n      };\n    } else {\n      mappedTag[mappedAttribute] = tag[attribute];\n    }\n  });\n  return /*#__PURE__*/React.createElement(type, mappedTag);\n});\nconst getMethodsForTag = (type, tags, encode) => {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: () => generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode),\n        toString: () => generateTitleAsString(type, tags.title, tags.titleAttributes, encode)\n      };\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: () => convertElementAttributestoReactProps(tags),\n        toString: () => generateElementAttributesAsString(tags)\n      };\n    default:\n      return {\n        toComponent: () => generateTagsAsReactComponent(type, tags),\n        toString: () => generateTagsAsString(type, tags, encode)\n      };\n  }\n};\nconst mapStateOnServer = ({\n  baseTag,\n  bodyAttributes,\n  encode,\n  htmlAttributes,\n  linkTags,\n  metaTags,\n  noscriptTags,\n  scriptTags,\n  styleTags,\n  title = '',\n  titleAttributes\n}) => ({\n  base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n  bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n  htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n  link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n  meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n  noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n  script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n  style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n  title: getMethodsForTag(TAG_NAMES.TITLE, {\n    title,\n    titleAttributes\n  }, encode)\n});\nexport { convertReactPropstoHtmlAttributes };\nexport { handleClientStateChange };\nexport { mapStateOnServer };\nexport { reducePropsToState };\nexport { requestAnimationFrame };\nexport { warn };","map":{"version":3,"names":["React","objectAssign","ATTRIBUTE_NAMES","HELMET_ATTRIBUTE","HELMET_PROPS","HTML_TAG_MAP","REACT_TAG_MAP","SELF_CLOSING_TAGS","TAG_NAMES","TAG_PROPERTIES","encodeSpecialCharacters","str","encode","String","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","TITLE","innermostTemplate","TITLE_TEMPLATE","Array","isArray","join","innermostDefaultTitle","DEFAULT_TITLE","undefined","getOnChangeClientState","ON_CHANGE_CLIENT_STATE","getAttributesFromPropsList","tagType","filter","props","map","reduce","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","BASE","reverse","innermostBaseTag","tag","length","keys","Object","i","attributeKey","lowerCaseAttributeKey","toLowerCase","indexOf","concat","getTagsFromPropsList","tagName","approvedSeenTags","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","REL","INNER_HTML","CSS_TEXT","ITEM_PROP","value","forEach","push","tagUnion","property","hasOwnProperty","reducePropsToState","baseTag","HREF","TARGET","bodyAttributes","BODY","defer","DEFER","ENCODE_SPECIAL_CHARACTERS","htmlAttributes","HTML","linkTags","LINK","metaTags","META","NAME","CHARSET","HTTPEQUIV","PROPERTY","noscriptTags","NOSCRIPT","onChangeClientState","scriptTags","SCRIPT","SRC","styleTags","STYLE","title","titleAttributes","rafPolyfill","clock","Date","now","callback","currentTime","setTimeout","cafPolyfill","id","clearTimeout","requestAnimationFrame","window","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","console","_helmetCallback","handleClientStateChange","newState","commitTagChanges","cb","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","newTags","oldTags","flattenArray","possibleArray","attributes","document","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","removeAttribute","type","tags","headElement","head","querySelector","HEAD","tagNodes","querySelectorAll","prototype","slice","call","indexToDelete","newElement","createElement","innerHTML","styleSheet","cssText","appendChild","createTextNode","some","existingTag","index","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","key","attr","generateTitleAsString","attributeString","flattenedTitle","generateTagsAsString","attributeHtml","string","tagContent","isSelfClosing","convertElementAttributestoReactProps","initProps","obj","convertReactPropstoHtmlAttributes","initAttributes","generateTitleAsReactComponent","generateTagsAsReactComponent","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","getMethodsForTag","toComponent","toString","mapStateOnServer","base","link","meta","noscript","script","style"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/helpers/Helmet/HelmetUtils.js"],"sourcesContent":["/* eslint no-console: 0 */\nimport React from 'react';\nimport objectAssign from 'object-assign';\nimport {\n  ATTRIBUTE_NAMES,\n  HELMET_ATTRIBUTE,\n  HELMET_PROPS,\n  HTML_TAG_MAP,\n  REACT_TAG_MAP,\n  SELF_CLOSING_TAGS,\n  TAG_NAMES,\n  TAG_PROPERTIES,\n} from './HelmetConstants.js';\n\nconst encodeSpecialCharacters = (str, encode = true) => {\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n};\n\nconst getTitleFromPropsList = (propsList) => {\n  const innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  const innermostTemplate = getInnermostProperty(\n    propsList,\n    HELMET_PROPS.TITLE_TEMPLATE,\n  );\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, () =>\n      Array.isArray(innermostTitle) ? innermostTitle.join('') : innermostTitle,\n    );\n  }\n\n  const innermostDefaultTitle = getInnermostProperty(\n    propsList,\n    HELMET_PROPS.DEFAULT_TITLE,\n  );\n\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nconst getOnChangeClientState = (propsList) => {\n  return (\n    getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) ||\n    (() => {})\n  );\n};\n\nconst getAttributesFromPropsList = (tagType, propsList) => {\n  return propsList\n    .filter((props) => typeof props[tagType] !== 'undefined')\n    .map((props) => props[tagType])\n    .reduce((tagAttrs, current) => {\n      return { ...tagAttrs, ...current };\n    }, {});\n};\n\nconst getBaseTagFromPropsList = (primaryAttributes, propsList) => {\n  return propsList\n    .filter((props) => typeof props[TAG_NAMES.BASE] !== 'undefined')\n    .map((props) => props[TAG_NAMES.BASE])\n    .reverse()\n    .reduce((innermostBaseTag, tag) => {\n      if (!innermostBaseTag.length) {\n        const keys = Object.keys(tag);\n\n        for (let i = 0; i < keys.length; i++) {\n          const attributeKey = keys[i];\n          const lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n          if (\n            primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 &&\n            tag[lowerCaseAttributeKey]\n          ) {\n            return innermostBaseTag.concat(tag);\n          }\n        }\n      }\n\n      return innermostBaseTag;\n    }, []);\n};\n\nconst getTagsFromPropsList = (tagName, primaryAttributes, propsList) => {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  const approvedSeenTags = {};\n\n  return propsList\n    .filter((props) => {\n      if (Array.isArray(props[tagName])) {\n        return true;\n      }\n      if (typeof props[tagName] !== 'undefined') {\n        warn(\n          `Helmet: ${tagName} should be of type \"Array\". Instead found type \"${typeof props[\n            tagName\n          ]}\"`,\n        );\n      }\n      return false;\n    })\n    .map((props) => props[tagName])\n    .reverse()\n    .reduce((approvedTags, instanceTags) => {\n      const instanceSeenTags = {};\n\n      instanceTags\n        .filter((tag) => {\n          let primaryAttributeKey;\n          const keys = Object.keys(tag);\n          for (let i = 0; i < keys.length; i++) {\n            const attributeKey = keys[i];\n            const lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n            // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n            if (\n              primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 &&\n              !(\n                primaryAttributeKey === TAG_PROPERTIES.REL &&\n                tag[primaryAttributeKey].toLowerCase() === 'canonical'\n              ) &&\n              !(\n                lowerCaseAttributeKey === TAG_PROPERTIES.REL &&\n                tag[lowerCaseAttributeKey].toLowerCase() === 'stylesheet'\n              )\n            ) {\n              primaryAttributeKey = lowerCaseAttributeKey;\n            }\n            // Special case for innerHTML which doesn't work lowercased\n            if (\n              primaryAttributes.indexOf(attributeKey) !== -1 &&\n              (attributeKey === TAG_PROPERTIES.INNER_HTML ||\n                attributeKey === TAG_PROPERTIES.CSS_TEXT ||\n                attributeKey === TAG_PROPERTIES.ITEM_PROP)\n            ) {\n              primaryAttributeKey = attributeKey;\n            }\n          }\n\n          if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n            return false;\n          }\n\n          const value = tag[primaryAttributeKey].toLowerCase();\n\n          if (!approvedSeenTags[primaryAttributeKey]) {\n            approvedSeenTags[primaryAttributeKey] = {};\n          }\n\n          if (!instanceSeenTags[primaryAttributeKey]) {\n            instanceSeenTags[primaryAttributeKey] = {};\n          }\n\n          if (!approvedSeenTags[primaryAttributeKey][value]) {\n            instanceSeenTags[primaryAttributeKey][value] = true;\n            return true;\n          }\n\n          return false;\n        })\n        .reverse()\n        .forEach((tag) => approvedTags.push(tag));\n\n      // Update seen tags with tags from this instance\n      const keys = Object.keys(instanceSeenTags);\n      for (let i = 0; i < keys.length; i++) {\n        const attributeKey = keys[i];\n        const tagUnion = objectAssign(\n          {},\n          approvedSeenTags[attributeKey],\n          instanceSeenTags[attributeKey],\n        );\n\n        approvedSeenTags[attributeKey] = tagUnion;\n      }\n\n      return approvedTags;\n    }, [])\n    .reverse();\n};\n\nconst getInnermostProperty = (propsList, property) => {\n  for (let i = propsList.length - 1; i >= 0; i--) {\n    const props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nconst reducePropsToState = (propsList) => ({\n  baseTag: getBaseTagFromPropsList(\n    [TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET],\n    propsList,\n  ),\n  bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n  defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n  encode: getInnermostProperty(\n    propsList,\n    HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS,\n  ),\n  htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n  linkTags: getTagsFromPropsList(\n    TAG_NAMES.LINK,\n    [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF],\n    propsList,\n  ),\n  metaTags: getTagsFromPropsList(\n    TAG_NAMES.META,\n    [\n      TAG_PROPERTIES.NAME,\n      TAG_PROPERTIES.CHARSET,\n      TAG_PROPERTIES.HTTPEQUIV,\n      TAG_PROPERTIES.PROPERTY,\n      TAG_PROPERTIES.ITEM_PROP,\n    ],\n    propsList,\n  ),\n  noscriptTags: getTagsFromPropsList(\n    TAG_NAMES.NOSCRIPT,\n    [TAG_PROPERTIES.INNER_HTML],\n    propsList,\n  ),\n  onChangeClientState: getOnChangeClientState(propsList),\n  scriptTags: getTagsFromPropsList(\n    TAG_NAMES.SCRIPT,\n    [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML],\n    propsList,\n  ),\n  styleTags: getTagsFromPropsList(\n    TAG_NAMES.STYLE,\n    [TAG_PROPERTIES.CSS_TEXT],\n    propsList,\n  ),\n  title: getTitleFromPropsList(propsList),\n  titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList),\n});\n\nconst rafPolyfill = (() => {\n  let clock = Date.now();\n\n  return (callback) => {\n    const currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(() => {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n})();\n\nconst cafPolyfill = (id) => clearTimeout(id);\n\nconst requestAnimationFrame =\n  typeof window !== 'undefined'\n    ? (window.requestAnimationFrame &&\n        window.requestAnimationFrame.bind(window)) ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      rafPolyfill\n    : global.requestAnimationFrame || rafPolyfill;\n\nconst cancelAnimationFrame =\n  typeof window !== 'undefined'\n    ? window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      cafPolyfill\n    : global.cancelAnimationFrame || cafPolyfill;\n\nconst warn = (msg) => {\n  return console && typeof console.warn === 'function' && console.warn(msg);\n};\n\nlet _helmetCallback = null;\n\nconst handleClientStateChange = (newState) => {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(() => {\n      commitTagChanges(newState, () => {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nconst commitTagChanges = (newState, cb) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    htmlAttributes,\n    linkTags,\n    metaTags,\n    noscriptTags,\n    onChangeClientState,\n    scriptTags,\n    styleTags,\n    title,\n    titleAttributes,\n  } = newState;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n  updateTitle(title, titleAttributes);\n\n  const tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags),\n  };\n\n  const addedTags = {};\n  const removedTags = {};\n\n  Object.keys(tagUpdates).forEach((tagType) => {\n    const { newTags, oldTags } = tagUpdates[tagType];\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n\n  cb && cb();\n\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nconst flattenArray = (possibleArray) => {\n  return Array.isArray(possibleArray) ? possibleArray.join('') : possibleArray;\n};\n\nconst updateTitle = (title, attributes) => {\n  if (typeof title !== 'undefined' && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nconst updateAttributes = (tagName, attributes) => {\n  const elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  const helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  const helmetAttributes = helmetAttributeString\n    ? helmetAttributeString.split(',')\n    : [];\n  const attributesToRemove = [].concat(helmetAttributes);\n  const attributeKeys = Object.keys(attributes);\n\n  for (let i = 0; i < attributeKeys.length; i++) {\n    const attribute = attributeKeys[i];\n    const value = attributes[attribute] || '';\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    const indexToSave = attributesToRemove.indexOf(attribute);\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (let i = attributesToRemove.length - 1; i >= 0; i--) {\n    elementTag.removeAttribute(attributesToRemove[i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (\n    elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(',')\n  ) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(','));\n  }\n};\n\nconst updateTags = (type, tags) => {\n  const headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  const tagNodes = headElement.querySelectorAll(`${type}[${HELMET_ATTRIBUTE}]`);\n  const oldTags = Array.prototype.slice.call(tagNodes);\n  const newTags = [];\n  let indexToDelete;\n\n  if (tags && tags.length) {\n    tags.forEach((tag) => {\n      const newElement = document.createElement(type);\n\n      for (const attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            const value =\n              typeof tag[attribute] === 'undefined' ? '' : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, 'true');\n\n      // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n      if (\n        oldTags.some((existingTag, index) => {\n          indexToDelete = index;\n          return newElement.isEqualNode(existingTag);\n        })\n      ) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach((tag) => tag.parentNode.removeChild(tag));\n  newTags.forEach((tag) => headElement.appendChild(tag));\n\n  return {\n    oldTags,\n    newTags,\n  };\n};\n\nconst generateElementAttributesAsString = (attributes) =>\n  Object.keys(attributes).reduce((str, key) => {\n    const attr =\n      typeof attributes[key] !== 'undefined'\n        ? `${key}=\"${attributes[key]}\"`\n        : `${key}`;\n    return str ? `${str} ${attr}` : attr;\n  }, '');\n\nconst generateTitleAsString = (type, title, attributes, encode) => {\n  const attributeString = generateElementAttributesAsString(attributes);\n  const flattenedTitle = flattenArray(title);\n  return attributeString\n    ? `<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeString}>${encodeSpecialCharacters(\n        flattenedTitle,\n        encode,\n      )}</${type}>`\n    : `<${type} ${HELMET_ATTRIBUTE}=\"true\">${encodeSpecialCharacters(\n        flattenedTitle,\n        encode,\n      )}</${type}>`;\n};\n\nconst generateTagsAsString = (type, tags, encode) =>\n  tags.reduce((str, tag) => {\n    const attributeHtml = Object.keys(tag)\n      .filter(\n        (attribute) =>\n          !(\n            attribute === TAG_PROPERTIES.INNER_HTML ||\n            attribute === TAG_PROPERTIES.CSS_TEXT\n          ),\n      )\n      .reduce((string, attribute) => {\n        const attr =\n          typeof tag[attribute] === 'undefined'\n            ? attribute\n            : `${attribute}=\"${encodeSpecialCharacters(\n                tag[attribute],\n                encode,\n              )}\"`;\n        return string ? `${string} ${attr}` : attr;\n      }, '');\n\n    const tagContent = tag.innerHTML || tag.cssText || '';\n\n    const isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n    return `${str}<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeHtml}${\n      isSelfClosing ? `/>` : `>${tagContent}</${type}>`\n    }`;\n  }, '');\n\nconst convertElementAttributestoReactProps = (attributes, initProps = {}) => {\n  return Object.keys(attributes).reduce((obj, key) => {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nconst convertReactPropstoHtmlAttributes = (props, initAttributes = {}) => {\n  return Object.keys(props).reduce((obj, key) => {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nconst generateTitleAsReactComponent = (type, title, attributes) => {\n  // assigning into an array to define toString function on it\n  const initProps = {\n    key: title,\n    [HELMET_ATTRIBUTE]: true,\n  };\n  const props = convertElementAttributestoReactProps(attributes, initProps);\n\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nconst generateTagsAsReactComponent = (type, tags) =>\n  tags.map((tag, i) => {\n    const mappedTag = {\n      key: i,\n      [HELMET_ATTRIBUTE]: true,\n    };\n\n    Object.keys(tag).forEach((attribute) => {\n      const mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (\n        mappedAttribute === TAG_PROPERTIES.INNER_HTML ||\n        mappedAttribute === TAG_PROPERTIES.CSS_TEXT\n      ) {\n        const content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = { __html: content };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n\n    return React.createElement(type, mappedTag);\n  });\n\nconst getMethodsForTag = (type, tags, encode) => {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: () =>\n          generateTitleAsReactComponent(\n            type,\n            tags.title,\n            tags.titleAttributes,\n            encode,\n          ),\n        toString: () =>\n          generateTitleAsString(type, tags.title, tags.titleAttributes, encode),\n      };\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: () => convertElementAttributestoReactProps(tags),\n        toString: () => generateElementAttributesAsString(tags),\n      };\n    default:\n      return {\n        toComponent: () => generateTagsAsReactComponent(type, tags),\n        toString: () => generateTagsAsString(type, tags, encode),\n      };\n  }\n};\n\nconst mapStateOnServer = ({\n  baseTag,\n  bodyAttributes,\n  encode,\n  htmlAttributes,\n  linkTags,\n  metaTags,\n  noscriptTags,\n  scriptTags,\n  styleTags,\n  title = '',\n  titleAttributes,\n}) => ({\n  base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n  bodyAttributes: getMethodsForTag(\n    ATTRIBUTE_NAMES.BODY,\n    bodyAttributes,\n    encode,\n  ),\n  htmlAttributes: getMethodsForTag(\n    ATTRIBUTE_NAMES.HTML,\n    htmlAttributes,\n    encode,\n  ),\n  link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n  meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n  noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n  script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n  style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n  title: getMethodsForTag(TAG_NAMES.TITLE, { title, titleAttributes }, encode),\n});\n\nexport { convertReactPropstoHtmlAttributes };\nexport { handleClientStateChange };\nexport { mapStateOnServer };\nexport { reducePropsToState };\nexport { requestAnimationFrame };\nexport { warn };\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}