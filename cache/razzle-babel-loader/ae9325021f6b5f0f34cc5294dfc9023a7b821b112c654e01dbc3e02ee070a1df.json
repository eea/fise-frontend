{"ast":null,"code":"import _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nimport _classCallCheck from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-tabs-block/src/components/templates/accordion/View.jsx\",\n  _this3 = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React from 'react';\nimport cx from 'classnames';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router';\nimport Tabs from 'react-responsive-tabs';\nimport AnimateHeight from 'react-animate-height';\nimport { Icon } from 'semantic-ui-react';\nimport config from '@plone/volto/registry';\nimport { Icon as VoltoIcon, RenderBlocks } from '@plone/volto/components';\nimport { TABS_BLOCK } from '@eeacms/volto-tabs-block/constants';\nimport { withScrollToTarget } from '@eeacms/volto-tabs-block/hocs';\nimport 'react-responsive-tabs/styles.css';\nimport '@eeacms/volto-tabs-block/less/menu.less';\nvar Tab = /*#__PURE__*/function (_React$Component) {\n  _inherits(Tab, _React$Component);\n  var _super = _createSuper(Tab);\n  function Tab() {\n    var _this;\n    _classCallCheck(this, Tab);\n    _this = _super.call(this);\n    _this.state = {\n      height: 0\n    };\n    return _this;\n  }\n  _createClass(Tab, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      if (this.state.height === 0) {\n        requestAnimationFrame(function () {\n          _this2.setState({\n            height: 'auto'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(AnimateHeight, {\n        animateOpacity: true,\n        duration: 500,\n        height: this.state.height,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 7\n        }\n      }, __jsx(RenderBlocks, _extends({}, this.props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      })));\n    }\n  }]);\n  return Tab;\n}(React.Component);\nvar View = function View(props) {\n  _s();\n  var _config$blocks$blocks;\n  var _props$data = props.data,\n    data = _props$data === void 0 ? {} : _props$data,\n    _props$tabsList = props.tabsList,\n    tabsList = _props$tabsList === void 0 ? [] : _props$tabsList,\n    _props$tabs = props.tabs,\n    tabs = _props$tabs === void 0 ? {} : _props$tabs,\n    _props$activeTabIndex = props.activeTabIndex,\n    activeTabIndex = _props$activeTabIndex === void 0 ? 0 : _props$activeTabIndex,\n    _props$setActiveTab = props.setActiveTab,\n    setActiveTab = _props$setActiveTab === void 0 ? function () {} : _props$setActiveTab;\n  var accordionConfig = ((_config$blocks$blocks = config.blocks.blocksConfig[TABS_BLOCK].templates) === null || _config$blocks$blocks === void 0 ? void 0 : _config$blocks$blocks['accordion']) || {};\n  var icons = accordionConfig.icons,\n    semanticIcon = accordionConfig.semanticIcon,\n    _accordionConfig$tran = accordionConfig.transformWidth,\n    transformWidth = _accordionConfig$tran === void 0 ? 800 : _accordionConfig$tran;\n  var tabsContainer = React.useRef();\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    mounted = _React$useState2[0],\n    setMounted = _React$useState2[1];\n  var _React$useState3 = React.useState(transformWidth),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    initialWidth = _React$useState4[0],\n    setInitialWidth = _React$useState4[1];\n  var schema = React.useMemo(function () {\n    var _config$blocks$blocks2, _config$blocks$blocks3;\n    return ((_config$blocks$blocks2 = config.blocks.blocksConfig[TABS_BLOCK].templates) === null || _config$blocks$blocks2 === void 0 ? void 0 : (_config$blocks$blocks3 = _config$blocks$blocks2['default']) === null || _config$blocks$blocks3 === void 0 ? void 0 : _config$blocks$blocks3.schema(config, props)) || {};\n  }, [props]);\n  var getDataValue = React.useCallback(function (key) {\n    var _ref, _schema$properties$ke, _schema$properties$ke2;\n    return (_ref = ((_schema$properties$ke = schema.properties[key]) === null || _schema$properties$ke === void 0 ? void 0 : _schema$properties$ke.value) || data[key]) !== null && _ref !== void 0 ? _ref : (_schema$properties$ke2 = schema.properties[key]) === null || _schema$properties$ke2 === void 0 ? void 0 : _schema$properties$ke2.defaultValue;\n  }, [schema, data]);\n  var items = tabsList.map(function (tab, index) {\n    var title = tabs[tab].title;\n    var defaultTitle = \"Tab \".concat(index + 1);\n    var active = activeTabIndex === index;\n    return {\n      title: __jsx(React.Fragment, null, semanticIcon ? __jsx(Icon, {\n        className: active ? semanticIcon.opened : semanticIcon.closed,\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      }) : __jsx(VoltoIcon, {\n        name: active ? icons.opened : icons.closed,\n        size: icons.size,\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }), title || defaultTitle, ' '),\n      getContent: function getContent() {\n        return __jsx(Tab, _extends({}, props, {\n          tab: tab,\n          content: tabs[tab],\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }\n        }));\n      },\n      key: tab,\n      tabClassName: cx('ui button item title', {\n        active: active\n      }),\n      panelClassName: cx('ui bottom attached segment tab', {\n        active: active\n      })\n    };\n  });\n  React.useEffect(function () {\n    setMounted(true);\n  }, []);\n  React.useEffect(function () {\n    var _tabsContainer$curren;\n    if (!mounted) return;\n    var _ref2 = ((_tabsContainer$curren = tabsContainer.current) === null || _tabsContainer$curren === void 0 ? void 0 : _tabsContainer$curren.state) || {},\n      blockWidth = _ref2.blockWidth,\n      tabsTotalWidth = _ref2.tabsTotalWidth;\n    setInitialWidth(tabsTotalWidth < blockWidth ? tabsTotalWidth + 1 : blockWidth + 1);\n  }, [mounted]);\n  return __jsx(React.Fragment, null, __jsx(Tabs, {\n    ref: tabsContainer,\n    transformWidth: initialWidth,\n    className: \"tabs aa\",\n    selectedTabKey: tabsList[activeTabIndex],\n    items: items,\n    onChange: function onChange(tab) {\n      if (tab !== tabsList[activeTabIndex]) {\n        setActiveTab(tab);\n      } else {\n        setActiveTab(null);\n      }\n    },\n    tabsWrapperClass: cx('ui pointing secondary menu', getDataValue('menuColor'), {\n      inverted: getDataValue('menuInverted')\n    }),\n    showMore: false,\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }));\n};\n_s(View, \"2bLECufeKKIHwmSA6NWBnl61DdA=\");\n_c = View;\nexport default compose(withScrollToTarget, withRouter)(View);\nvar _c;\n$RefreshReg$(_c, \"View\");","map":{"version":3,"names":["React","cx","compose","withRouter","Tabs","AnimateHeight","Icon","config","VoltoIcon","RenderBlocks","TABS_BLOCK","withScrollToTarget","Tab","state","height","requestAnimationFrame","setState","props","Component","View","data","tabsList","tabs","activeTabIndex","setActiveTab","accordionConfig","blocks","blocksConfig","templates","icons","semanticIcon","transformWidth","tabsContainer","useRef","useState","mounted","setMounted","initialWidth","setInitialWidth","schema","useMemo","getDataValue","useCallback","key","properties","value","defaultValue","items","map","tab","index","title","defaultTitle","active","opened","closed","size","getContent","tabClassName","panelClassName","useEffect","current","blockWidth","tabsTotalWidth","inverted"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-tabs-block/src/components/templates/accordion/View.jsx"],"sourcesContent":["import React from 'react';\nimport cx from 'classnames';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router';\nimport Tabs from 'react-responsive-tabs';\nimport AnimateHeight from 'react-animate-height';\nimport { Icon } from 'semantic-ui-react';\nimport config from '@plone/volto/registry';\nimport { Icon as VoltoIcon, RenderBlocks } from '@plone/volto/components';\nimport { TABS_BLOCK } from '@eeacms/volto-tabs-block/constants';\nimport { withScrollToTarget } from '@eeacms/volto-tabs-block/hocs';\n\nimport 'react-responsive-tabs/styles.css';\nimport '@eeacms/volto-tabs-block/less/menu.less';\n\nclass Tab extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      height: 0,\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.height === 0) {\n      requestAnimationFrame(() => {\n        this.setState({ height: 'auto' });\n      });\n    }\n  }\n\n  render() {\n    return (\n      <AnimateHeight animateOpacity duration={500} height={this.state.height}>\n        <RenderBlocks {...this.props} />\n      </AnimateHeight>\n    );\n  }\n}\n\nconst View = (props) => {\n  const {\n    data = {},\n    tabsList = [],\n    tabs = {},\n    activeTabIndex = 0,\n    setActiveTab = () => {},\n  } = props;\n  const accordionConfig =\n    config.blocks.blocksConfig[TABS_BLOCK].templates?.['accordion'] || {};\n  const { icons, semanticIcon, transformWidth = 800 } = accordionConfig;\n\n  const tabsContainer = React.useRef();\n  const [mounted, setMounted] = React.useState(false);\n  const [initialWidth, setInitialWidth] = React.useState(transformWidth);\n\n  const schema = React.useMemo(\n    () =>\n      config.blocks.blocksConfig[TABS_BLOCK].templates?.['default']?.schema(\n        config,\n        props,\n      ) || {},\n    [props],\n  );\n\n  const getDataValue = React.useCallback(\n    (key) => {\n      return (\n        (schema.properties[key]?.value || data[key]) ??\n        schema.properties[key]?.defaultValue\n      );\n    },\n    [schema, data],\n  );\n\n  const items = tabsList.map((tab, index) => {\n    const title = tabs[tab].title;\n    const defaultTitle = `Tab ${index + 1}`;\n    const active = activeTabIndex === index;\n\n    return {\n      title: (\n        <>\n          {semanticIcon ? (\n            <Icon\n              className={active ? semanticIcon.opened : semanticIcon.closed}\n            />\n          ) : (\n            <VoltoIcon\n              name={active ? icons.opened : icons.closed}\n              size={icons.size}\n            />\n          )}\n          {title || defaultTitle}{' '}\n        </>\n      ),\n      getContent: () => <Tab {...props} tab={tab} content={tabs[tab]} />,\n      key: tab,\n      tabClassName: cx('ui button item title', { active }),\n      panelClassName: cx('ui bottom attached segment tab', {\n        active,\n      }),\n    };\n  });\n\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  React.useEffect(() => {\n    if (!mounted) return;\n    const { blockWidth, tabsTotalWidth } = tabsContainer.current?.state || {};\n    setInitialWidth(\n      tabsTotalWidth < blockWidth ? tabsTotalWidth + 1 : blockWidth + 1,\n    );\n  }, [mounted]);\n\n  return (\n    <>\n      <Tabs\n        ref={tabsContainer}\n        transformWidth={initialWidth}\n        className=\"tabs aa\"\n        selectedTabKey={tabsList[activeTabIndex]}\n        items={items}\n        onChange={(tab) => {\n          if (tab !== tabsList[activeTabIndex]) {\n            setActiveTab(tab);\n          } else {\n            setActiveTab(null);\n          }\n        }}\n        tabsWrapperClass={cx(\n          'ui pointing secondary menu',\n          getDataValue('menuColor'),\n          {\n            inverted: getDataValue('menuInverted'),\n          },\n        )}\n        showMore={false}\n      />\n    </>\n  );\n};\n\nexport default compose(withScrollToTarget, withRouter)(View);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}