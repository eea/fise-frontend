{"ast":null,"code":"import _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _isEqual from \"lodash/isEqual\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-forests-theme/src/customizations/volto/components/manage/Blocks/Video/Edit.jsx\";\nvar __jsx = React.createElement;\n/**\n * Edit video block.\n * @module components/manage/Blocks/Title/Edit\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, FormattedMessage, injectIntl } from 'react-intl';\nimport { Button, Input, Embed, Message } from 'semantic-ui-react';\nimport cx from 'classnames';\nimport { Icon, SidebarPortal, VideoSidebar } from '@plone/volto/components';\nimport clearSVG from '@plone/volto/icons/clear.svg';\nimport aheadSVG from '@plone/volto/icons/ahead.svg';\nimport videoBlockSVG from '@plone/volto/components/manage/Blocks/Video/block-video.svg';\nimport { isInternalURL, getParentUrl, flattenToAppURL } from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\nvar messages = defineMessages({\n  VideoFormDescription: {\n    \"id\": \"Specify a youtube video or playlist url\",\n    \"defaultMessage\": \"Specify a youtube video or playlist url\"\n  },\n  VideoBlockInputPlaceholder: {\n    \"id\": \"Type a Video (YouTube, Vimeo or mp4) URL\",\n    \"defaultMessage\": \"Type a Video (YouTube, Vimeo or mp4) URL\"\n  }\n});\n\n/**\n * Edit video block class.\n * @class Edit\n * @extends Component\n */\nvar Edit = /*#__PURE__*/function (_Component) {\n  _inherits(Edit, _Component);\n  var _super = _createSuper(Edit);\n  /**\n   * Property types.\n   * @property {Object} propTypes Property types.\n   * @static\n   */\n\n  /**\n   * Constructor\n   * @method constructor\n   * @param {Object} props Component properties\n   * @constructs WysiwygEditor\n   */\n  function Edit(props) {\n    var _this;\n    _classCallCheck(this, Edit);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"resetSubmitUrl\", function () {\n      _this.setState({\n        url: ''\n      });\n    });\n    _this.onChangeUrl = _this.onChangeUrl.bind(_assertThisInitialized(_this));\n    _this.onSubmitUrl = _this.onSubmitUrl.bind(_assertThisInitialized(_this));\n    _this.onKeyDownVariantMenuForm = _this.onKeyDownVariantMenuForm.bind(_assertThisInitialized(_this));\n    _this.state = {\n      url: ''\n    };\n    return _this;\n  }\n\n  /**\n   * Change url handler\n   * @method onChangeUrl\n   * @param {Object} target Target object\n   * @returns {undefined}\n   */\n  _createClass(Edit, [{\n    key: \"onChangeUrl\",\n    value: function onChangeUrl(_ref) {\n      var target = _ref.target;\n      this.setState({\n        url: target.value\n      });\n    }\n\n    /**\n     * @param {*} nextProps\n     * @returns {boolean}\n     * @memberof Edit\n     */\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props.selected || nextProps.selected || !_isEqual(this.props.data, nextProps.data);\n    }\n\n    /**\n     * Submit url handler\n     * @method onSubmitUrl\n     * @returns {undefined}\n     */\n  }, {\n    key: \"onSubmitUrl\",\n    value: function onSubmitUrl() {\n      this.props.onChangeBlock(this.props.block, _objectSpread(_objectSpread({}, this.props.data), {}, {\n        url: this.state.url\n      }));\n    }\n  }, {\n    key: \"onKeyDownVariantMenuForm\",\n    value:\n    /**\n     * Keydown handler on Variant Menu Form\n     * This is required since the ENTER key is already mapped to a onKeyDown\n     * event and needs to be overriden with a child onKeyDown.\n     * @method onKeyDownVariantMenuForm\n     * @param {Object} e Event object\n     * @returns {undefined}\n     */\n    function onKeyDownVariantMenuForm(e) {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        e.stopPropagation();\n        this.onSubmitUrl();\n      } else if (e.key === 'Escape') {\n        e.preventDefault();\n        e.stopPropagation();\n        // TODO: Do something on ESC key\n      }\n    }\n\n    /**\n     * Render method.\n     * @method render\n     * @returns {string} Markup for the component.\n     */\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var data = this.props.data;\n      var placeholder = this.props.data.placeholder || this.props.intl.formatMessage(messages.VideoBlockInputPlaceholder);\n      return __jsx(\"div\", {\n        className: cx('block video align', {\n          selected: this.props.selected,\n          center: !Boolean(this.props.data.align)\n        }, this.props.data.align),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 7\n        }\n      }, data.url ? __jsx(\"div\", {\n        className: cx('video-inner', {\n          'full-width': this.props.data.align === 'full'\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }\n      }, data.url.match('youtu') ? __jsx(React.Fragment, null, data.url.match('list') ? data.preview_image ? __jsx(Embed, {\n        url: \"https://www.youtube.com/embed/videoseries?list=\".concat(data.url.match(/^.*\\?list=(.*)$/)[1]),\n        placeholder: isInternalURL(data.preview_image) ? \"\".concat(flattenToAppURL(data.preview_image), \"/@@images/image\") : data.preview_image,\n        defaultActive: true,\n        autoplay: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }\n      }) : __jsx(Embed, {\n        url: \"https://www.youtube.com/embed/videoseries?list=\".concat(data.url.match(/^.*\\?list=(.*)$/)[1]),\n        icon: \"play\",\n        defaultActive: true,\n        autoplay: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }\n      }) : data.preview_image ? __jsx(Embed, {\n        id: data.url.match(/.be\\//) ? data.url.match(/^.*\\.be\\/(.*)/)[1] : data.url.match(/^.*\\?v=(.*)$/)[1],\n        source: \"youtube\",\n        placeholder: isInternalURL(data.preview_image) ? \"\".concat(flattenToAppURL(data.preview_image), \"/@@images/image\") : data.preview_image,\n        icon: \"play\",\n        autoplay: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 19\n        }\n      }) : __jsx(Embed, {\n        id: data.url.match(/.be\\//) ? data.url.match(/^.*\\.be\\/(.*)/)[1] : data.url.match(/^.*\\?v=(.*)$/)[1],\n        source: \"youtube\",\n        icon: \"play\",\n        defaultActive: true,\n        autoplay: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 19\n        }\n      })) : __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \"ui blocker\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }\n      }), data.url.match('vimeo') ? data.preview_image ? __jsx(Embed, {\n        id: data.url.match(/^.*\\.com\\/(.*)/)[1],\n        source: \"vimeo\",\n        placeholder: isInternalURL(data.preview_image) ? \"\".concat(flattenToAppURL(data.preview_image), \"/@@images/image\") : data.preview_image,\n        icon: \"play\",\n        autoplay: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }\n      }) : __jsx(Embed, {\n        id: data.url.match(/^.*\\.com\\/(.*)/)[1],\n        source: \"vimeo\",\n        icon: \"play\",\n        defaultActive: true,\n        autoplay: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }\n      }) : __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \"ui blocker\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }\n      }), data.url.match('.mp4') || data.url.includes('cmshare.eea.europa.eu') ?\n      // eslint-disable-next-line jsx-a11y/media-has-caption\n      __jsx(\"video\", {\n        src: isInternalURL(data.url.replace(getParentUrl(config.settings.apiPath), '')) ? \"\".concat(data.url, \"/@@download/file\") : data.url,\n        controls: true,\n        poster: data.preview_image ? isInternalURL(data.preview_image) ? \"\".concat(flattenToAppURL(data.preview_image), \"/@@images/image\") : data.preview_image : '',\n        type: \"video/mp4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 23\n        }\n      }) : __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 23\n        }\n      }, __jsx(Message, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 25\n        }\n      }, __jsx(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 27\n        }\n      }, __jsx(FormattedMessage, {\n        id: \"Please enter a valid URL by deleting the block and adding a new video block.\",\n        defaultMessage: \"Please enter a valid URL by deleting the block and adding a new video block.\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 29\n        }\n      }))))))) : __jsx(Message, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }\n      }, __jsx(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }\n      }, __jsx(\"img\", {\n        src: videoBlockSVG,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 15\n        }\n      }), __jsx(\"div\", {\n        className: \"toolbar-inner\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }\n      }, __jsx(Input, {\n        onKeyDown: this.onKeyDownVariantMenuForm,\n        onChange: this.onChangeUrl,\n        placeholder: placeholder,\n        value: this.state.url\n        // Prevents propagation to the Dropzone and the opening\n        // of the upload browser dialog\n        ,\n        onClick: function onClick(e) {\n          return e.stopPropagation();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 17\n        }\n      }), this.state.url && __jsx(Button.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 19\n        }\n      }, __jsx(Button, {\n        basic: true,\n        className: \"cancel\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          _this2.setState({\n            url: ''\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }\n      }, __jsx(Icon, {\n        name: clearSVG,\n        size: \"30px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 23\n        }\n      }))), __jsx(Button.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 17\n        }\n      }, __jsx(Button, {\n        basic: true,\n        primary: true,\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          _this2.onSubmitUrl();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 19\n        }\n      }, __jsx(Icon, {\n        name: aheadSVG,\n        size: \"30px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }\n      })))))), __jsx(SidebarPortal, {\n        selected: this.props.selected,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 9\n        }\n      }, __jsx(VideoSidebar, _extends({}, this.props, {\n        resetSubmitUrl: this.resetSubmitUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }\n      }))));\n    }\n  }]);\n  return Edit;\n}(Component);\n_defineProperty(Edit, \"propTypes\", {\n  selected: PropTypes.bool.isRequired,\n  block: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  onChangeBlock: PropTypes.func.isRequired,\n  onSelectBlock: PropTypes.func.isRequired,\n  onDeleteBlock: PropTypes.func.isRequired,\n  onFocusPreviousBlock: PropTypes.func.isRequired,\n  onFocusNextBlock: PropTypes.func.isRequired,\n  handleKeyDown: PropTypes.func.isRequired\n});\nexport default _c = injectIntl(Edit);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","PropTypes","defineMessages","FormattedMessage","injectIntl","Button","Input","Embed","Message","cx","Icon","SidebarPortal","VideoSidebar","clearSVG","aheadSVG","videoBlockSVG","isInternalURL","getParentUrl","flattenToAppURL","config","messages","VideoFormDescription","VideoBlockInputPlaceholder","Edit","props","setState","url","onChangeUrl","bind","onSubmitUrl","onKeyDownVariantMenuForm","state","target","value","nextProps","selected","data","onChangeBlock","block","e","key","preventDefault","stopPropagation","placeholder","intl","formatMessage","center","Boolean","align","match","preview_image","includes","replace","settings","apiPath","resetSubmitUrl","bool","isRequired","string","index","number","objectOf","any","func","onSelectBlock","onDeleteBlock","onFocusPreviousBlock","onFocusNextBlock","handleKeyDown"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-forests-theme/src/customizations/volto/components/manage/Blocks/Video/Edit.jsx"],"sourcesContent":["/**\n * Edit video block.\n * @module components/manage/Blocks/Title/Edit\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, FormattedMessage, injectIntl } from 'react-intl';\nimport { Button, Input, Embed, Message } from 'semantic-ui-react';\nimport cx from 'classnames';\nimport { isEqual } from 'lodash';\n\nimport { Icon, SidebarPortal, VideoSidebar } from '@plone/volto/components';\nimport clearSVG from '@plone/volto/icons/clear.svg';\nimport aheadSVG from '@plone/volto/icons/ahead.svg';\nimport videoBlockSVG from '@plone/volto/components/manage/Blocks/Video/block-video.svg';\nimport {\n  isInternalURL,\n  getParentUrl,\n  flattenToAppURL,\n} from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\n\nconst messages = defineMessages({\n  VideoFormDescription: {\n    id: 'Specify a youtube video or playlist url',\n    defaultMessage: 'Specify a youtube video or playlist url',\n  },\n  VideoBlockInputPlaceholder: {\n    id: 'Type a Video (YouTube, Vimeo or mp4) URL',\n    defaultMessage: 'Type a Video (YouTube, Vimeo or mp4) URL',\n  },\n});\n\n/**\n * Edit video block class.\n * @class Edit\n * @extends Component\n */\nclass Edit extends Component {\n  /**\n   * Property types.\n   * @property {Object} propTypes Property types.\n   * @static\n   */\n  static propTypes = {\n    selected: PropTypes.bool.isRequired,\n    block: PropTypes.string.isRequired,\n    index: PropTypes.number.isRequired,\n    data: PropTypes.objectOf(PropTypes.any).isRequired,\n    onChangeBlock: PropTypes.func.isRequired,\n    onSelectBlock: PropTypes.func.isRequired,\n    onDeleteBlock: PropTypes.func.isRequired,\n    onFocusPreviousBlock: PropTypes.func.isRequired,\n    onFocusNextBlock: PropTypes.func.isRequired,\n    handleKeyDown: PropTypes.func.isRequired,\n  };\n\n  /**\n   * Constructor\n   * @method constructor\n   * @param {Object} props Component properties\n   * @constructs WysiwygEditor\n   */\n  constructor(props) {\n    super(props);\n\n    this.onChangeUrl = this.onChangeUrl.bind(this);\n    this.onSubmitUrl = this.onSubmitUrl.bind(this);\n    this.onKeyDownVariantMenuForm = this.onKeyDownVariantMenuForm.bind(this);\n    this.state = {\n      url: '',\n    };\n  }\n\n  /**\n   * Change url handler\n   * @method onChangeUrl\n   * @param {Object} target Target object\n   * @returns {undefined}\n   */\n  onChangeUrl({ target }) {\n    this.setState({\n      url: target.value,\n    });\n  }\n\n  /**\n   * @param {*} nextProps\n   * @returns {boolean}\n   * @memberof Edit\n   */\n  shouldComponentUpdate(nextProps) {\n    return (\n      this.props.selected ||\n      nextProps.selected ||\n      !isEqual(this.props.data, nextProps.data)\n    );\n  }\n\n  /**\n   * Submit url handler\n   * @method onSubmitUrl\n   * @returns {undefined}\n   */\n  onSubmitUrl() {\n    this.props.onChangeBlock(this.props.block, {\n      ...this.props.data,\n      url: this.state.url,\n    });\n  }\n\n  resetSubmitUrl = () => {\n    this.setState({\n      url: '',\n    });\n  };\n\n  /**\n   * Keydown handler on Variant Menu Form\n   * This is required since the ENTER key is already mapped to a onKeyDown\n   * event and needs to be overriden with a child onKeyDown.\n   * @method onKeyDownVariantMenuForm\n   * @param {Object} e Event object\n   * @returns {undefined}\n   */\n  onKeyDownVariantMenuForm(e) {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      e.stopPropagation();\n      this.onSubmitUrl();\n    } else if (e.key === 'Escape') {\n      e.preventDefault();\n      e.stopPropagation();\n      // TODO: Do something on ESC key\n    }\n  }\n\n  /**\n   * Render method.\n   * @method render\n   * @returns {string} Markup for the component.\n   */\n  render() {\n    const { data } = this.props;\n    const placeholder =\n      this.props.data.placeholder ||\n      this.props.intl.formatMessage(messages.VideoBlockInputPlaceholder);\n    return (\n      <div\n        className={cx(\n          'block video align',\n          {\n            selected: this.props.selected,\n            center: !Boolean(this.props.data.align),\n          },\n          this.props.data.align,\n        )}\n      >\n        {data.url ? (\n          <div\n            className={cx('video-inner', {\n              'full-width': this.props.data.align === 'full',\n            })}\n          >\n            {data.url.match('youtu') ? (\n              <>\n                {data.url.match('list') ? (\n                  data.preview_image ? (\n                    <Embed\n                      url={`https://www.youtube.com/embed/videoseries?list=${\n                        data.url.match(/^.*\\?list=(.*)$/)[1]\n                      }`}\n                      placeholder={\n                        isInternalURL(data.preview_image)\n                          ? `${flattenToAppURL(\n                              data.preview_image,\n                            )}/@@images/image`\n                          : data.preview_image\n                      }\n                      defaultActive\n                      autoplay={false}\n                    />\n                  ) : (\n                    <Embed\n                      url={`https://www.youtube.com/embed/videoseries?list=${\n                        data.url.match(/^.*\\?list=(.*)$/)[1]\n                      }`}\n                      icon=\"play\"\n                      defaultActive\n                      autoplay={false}\n                    />\n                  )\n                ) : data.preview_image ? (\n                  <Embed\n                    id={\n                      data.url.match(/.be\\//)\n                        ? data.url.match(/^.*\\.be\\/(.*)/)[1]\n                        : data.url.match(/^.*\\?v=(.*)$/)[1]\n                    }\n                    source=\"youtube\"\n                    placeholder={\n                      isInternalURL(data.preview_image)\n                        ? `${flattenToAppURL(\n                            data.preview_image,\n                          )}/@@images/image`\n                        : data.preview_image\n                    }\n                    icon=\"play\"\n                    autoplay={false}\n                  />\n                ) : (\n                  <Embed\n                    id={\n                      data.url.match(/.be\\//)\n                        ? data.url.match(/^.*\\.be\\/(.*)/)[1]\n                        : data.url.match(/^.*\\?v=(.*)$/)[1]\n                    }\n                    source=\"youtube\"\n                    icon=\"play\"\n                    defaultActive\n                    autoplay={false}\n                  />\n                )}\n              </>\n            ) : (\n              <>\n                <div className=\"ui blocker\" />\n                {data.url.match('vimeo') ? (\n                  data.preview_image ? (\n                    <Embed\n                      id={data.url.match(/^.*\\.com\\/(.*)/)[1]}\n                      source=\"vimeo\"\n                      placeholder={\n                        isInternalURL(data.preview_image)\n                          ? `${flattenToAppURL(\n                              data.preview_image,\n                            )}/@@images/image`\n                          : data.preview_image\n                      }\n                      icon=\"play\"\n                      autoplay={false}\n                    />\n                  ) : (\n                    <Embed\n                      id={data.url.match(/^.*\\.com\\/(.*)/)[1]}\n                      source=\"vimeo\"\n                      icon=\"play\"\n                      defaultActive\n                      autoplay={false}\n                    />\n                  )\n                ) : (\n                  <>\n                    <div className=\"ui blocker\" />\n                    {data.url.match('.mp4') ||\n                    data.url.includes('cmshare.eea.europa.eu') ? (\n                      // eslint-disable-next-line jsx-a11y/media-has-caption\n                      <video\n                        src={\n                          isInternalURL(\n                            data.url.replace(\n                              getParentUrl(config.settings.apiPath),\n                              '',\n                            ),\n                          )\n                            ? `${data.url}/@@download/file`\n                            : data.url\n                        }\n                        controls\n                        poster={\n                          data.preview_image\n                            ? isInternalURL(data.preview_image)\n                              ? `${flattenToAppURL(\n                                  data.preview_image,\n                                )}/@@images/image`\n                              : data.preview_image\n                            : ''\n                        }\n                        type=\"video/mp4\"\n                      />\n                    ) : (\n                      <div>\n                        <Message>\n                          <center>\n                            <FormattedMessage\n                              id=\"Please enter a valid URL by deleting the block and adding a new video block.\"\n                              defaultMessage=\"Please enter a valid URL by deleting the block and adding a new video block.\"\n                            />\n                          </center>\n                        </Message>\n                      </div>\n                    )}\n                  </>\n                )}\n              </>\n            )}\n          </div>\n        ) : (\n          <Message>\n            <center>\n              <img src={videoBlockSVG} alt=\"\" />\n              <div className=\"toolbar-inner\">\n                <Input\n                  onKeyDown={this.onKeyDownVariantMenuForm}\n                  onChange={this.onChangeUrl}\n                  placeholder={placeholder}\n                  value={this.state.url}\n                  // Prevents propagation to the Dropzone and the opening\n                  // of the upload browser dialog\n                  onClick={(e) => e.stopPropagation()}\n                />\n                {this.state.url && (\n                  <Button.Group>\n                    <Button\n                      basic\n                      className=\"cancel\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        this.setState({ url: '' });\n                      }}\n                    >\n                      <Icon name={clearSVG} size=\"30px\" />\n                    </Button>\n                  </Button.Group>\n                )}\n                <Button.Group>\n                  <Button\n                    basic\n                    primary\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      this.onSubmitUrl();\n                    }}\n                  >\n                    <Icon name={aheadSVG} size=\"30px\" />\n                  </Button>\n                </Button.Group>\n              </div>\n            </center>\n          </Message>\n        )}\n        <SidebarPortal selected={this.props.selected}>\n          <VideoSidebar {...this.props} resetSubmitUrl={this.resetSubmitUrl} />\n        </SidebarPortal>\n      </div>\n    );\n  }\n}\n\nexport default injectIntl(Edit);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Specify a youtube video or playlist url","defaultMessage":"Specify a youtube video or playlist url"},{"id":"Type a Video (YouTube, Vimeo or mp4) URL","defaultMessage":"Type a Video (YouTube, Vimeo or mp4) URL"},{"id":"Please enter a valid URL by deleting the block and adding a new video block.","defaultMessage":"Please enter a valid URL by deleting the block and adding a new video block."}]}},"sourceType":"module","externalDependencies":[]}