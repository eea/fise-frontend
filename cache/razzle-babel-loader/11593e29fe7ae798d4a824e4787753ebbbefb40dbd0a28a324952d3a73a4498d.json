{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/components/DateRangeFacet.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Header } from 'semantic-ui-react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { compose } from 'redux';\nimport { Icon } from '@plone/volto/components';\nimport { connect } from 'react-redux';\nimport leftKey from '@plone/volto/icons/left-key.svg';\nimport rightKey from '@plone/volto/icons/right-key.svg';\nimport clearSVG from '@plone/volto/icons/clear.svg';\nimport 'react-dates/initialize';\nimport 'react-dates/lib/css/_datepicker.css';\nconst messages = defineMessages({\n  startDate: {\n    \"id\": \"Start Date\",\n    \"defaultMessage\": \"Start Date\"\n  },\n  endDate: {\n    \"id\": \"End Date\",\n    \"defaultMessage\": \"End Date\"\n  }\n});\nconst PrevIcon = () => __jsx(\"div\", {\n  className: \"prev-icon\",\n  style: {\n    color: '#000',\n    left: '22px',\n    padding: '5px',\n    position: 'absolute',\n    top: '15px'\n  }\n  // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n  ,\n  tabIndex: \"0\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 3\n  }\n}, __jsx(Icon, {\n  name: leftKey,\n  size: \"30px\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }\n}));\nconst NextIcon = () => __jsx(\"div\", {\n  className: \"next-icon\",\n  style: {\n    color: '#000',\n    right: '22px',\n    padding: '5px',\n    position: 'absolute',\n    top: '15px'\n  }\n  // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n  ,\n  tabIndex: \"0\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 3\n  }\n}, __jsx(Icon, {\n  name: rightKey,\n  size: \"30px\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }\n}));\nconst CloseIcon = () => __jsx(Icon, {\n  name: clearSVG,\n  size: \"24px\",\n  className: \"close\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 25\n  }\n});\nconst DateRangeFacet = props => {\n  var _facet$title, _facet$field;\n  const {\n    facet,\n    isEditMode,\n    onChange,\n    value,\n    reactDates,\n    intl,\n    lang\n  } = props;\n  const moment = props.moment.default;\n  const {\n    DateRangePicker\n  } = reactDates;\n  const {\n    0: focused,\n    1: setFocused\n  } = useState(null);\n  return __jsx(\"div\", {\n    className: \"daterange-facet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, __jsx(Header, {\n    as: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, (_facet$title = facet === null || facet === void 0 ? void 0 : facet.title) !== null && _facet$title !== void 0 ? _facet$title : facet === null || facet === void 0 ? void 0 : (_facet$field = facet.field) === null || _facet$field === void 0 ? void 0 : _facet$field.label), __jsx(\"div\", {\n    className: \"ui form date-time-widget-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"ui input date-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, __jsx(DateRangePicker, {\n    startDate: value && value[0] ? moment(value[0]) : null,\n    startDateId: `${facet['@id']}-start-date`,\n    startDatePlaceholderText: intl.formatMessage(messages.startDate),\n    endDate: value && value[1] ? moment(value[1]) : null,\n    endDateId: `${facet['@id']}-end-date`,\n    endDatePlaceholderText: intl.formatMessage(messages.endDate),\n    numberOfMonths: 1,\n    disabled: isEditMode,\n    noBorder: true,\n    showClearDates: true,\n    customCloseIcon: __jsx(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 30\n      }\n    }),\n    displayFormat: moment.localeData(lang).longDateFormat('L'),\n    focusedInput: focused,\n    onFocusChange: focusedInput => setFocused(focusedInput),\n    onDatesChange: ({\n      startDate,\n      endDate\n    }) => {\n      onChange(facet.field.value, [startDate ? startDate.format('YYYY-MM-DD') : null, endDate ? endDate.format('YYYY-MM-DD') : null]);\n    },\n    isOutsideRange: () => false,\n    navPrev: __jsx(PrevIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 22\n      }\n    }),\n    navNext: __jsx(NextIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 22\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }))));\n};\nDateRangeFacet.stateToValue = ({\n  facetSettings,\n  index,\n  selectedValue\n}) => {\n  return selectedValue || [null, null];\n};\nDateRangeFacet.valueToQuery = ({\n  value,\n  facet\n}) => {\n  return value && typeof value[0] === 'string' && typeof value[1] === 'string' ? {\n    i: facet.field.value,\n    o: 'plone.app.querystring.operation.date.between',\n    v: value\n  } : null;\n};\nexport default compose(injectLazyLibs(['reactDates', 'moment']), connect(state => ({\n  lang: state.intl.locale\n})), injectIntl)(DateRangeFacet);","map":{"version":3,"names":["React","useState","Header","defineMessages","injectIntl","injectLazyLibs","compose","Icon","connect","leftKey","rightKey","clearSVG","messages","startDate","endDate","PrevIcon","color","left","padding","position","top","NextIcon","right","CloseIcon","DateRangeFacet","props","facet","isEditMode","onChange","value","reactDates","intl","lang","moment","default","DateRangePicker","focused","setFocused","title","field","label","formatMessage","localeData","longDateFormat","focusedInput","format","stateToValue","facetSettings","index","selectedValue","valueToQuery","i","o","v","state","locale"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/components/DateRangeFacet.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Header } from 'semantic-ui-react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { compose } from 'redux';\nimport { Icon } from '@plone/volto/components';\nimport { connect } from 'react-redux';\n\nimport leftKey from '@plone/volto/icons/left-key.svg';\nimport rightKey from '@plone/volto/icons/right-key.svg';\nimport clearSVG from '@plone/volto/icons/clear.svg';\n\nimport 'react-dates/initialize';\nimport 'react-dates/lib/css/_datepicker.css';\n\nconst messages = defineMessages({\n  startDate: {\n    id: 'Start Date',\n    defaultMessage: 'Start Date',\n  },\n  endDate: {\n    id: 'End Date',\n    defaultMessage: 'End Date',\n  },\n});\n\nconst PrevIcon = () => (\n  <div\n    className=\"prev-icon\"\n    style={{\n      color: '#000',\n      left: '22px',\n      padding: '5px',\n      position: 'absolute',\n      top: '15px',\n    }}\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    tabIndex=\"0\"\n  >\n    <Icon name={leftKey} size=\"30px\" />\n  </div>\n);\nconst NextIcon = () => (\n  <div\n    className=\"next-icon\"\n    style={{\n      color: '#000',\n      right: '22px',\n      padding: '5px',\n      position: 'absolute',\n      top: '15px',\n    }}\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    tabIndex=\"0\"\n  >\n    <Icon name={rightKey} size=\"30px\" />\n  </div>\n);\n\nconst CloseIcon = () => <Icon name={clearSVG} size=\"24px\" className=\"close\" />;\n\nconst DateRangeFacet = (props) => {\n  const { facet, isEditMode, onChange, value, reactDates, intl, lang } = props;\n  const moment = props.moment.default;\n  const { DateRangePicker } = reactDates;\n  const [focused, setFocused] = useState(null);\n\n  return (\n    <div className=\"daterange-facet\">\n      <Header as=\"h4\">{facet?.title ?? facet?.field?.label}</Header>\n      <div className=\"ui form date-time-widget-wrapper\">\n        <div className=\"ui input date-input\">\n          <DateRangePicker\n            startDate={value && value[0] ? moment(value[0]) : null}\n            startDateId={`${facet['@id']}-start-date`}\n            startDatePlaceholderText={intl.formatMessage(messages.startDate)}\n            endDate={value && value[1] ? moment(value[1]) : null}\n            endDateId={`${facet['@id']}-end-date`}\n            endDatePlaceholderText={intl.formatMessage(messages.endDate)}\n            numberOfMonths={1}\n            disabled={isEditMode}\n            noBorder\n            showClearDates\n            customCloseIcon={<CloseIcon />}\n            displayFormat={moment.localeData(lang).longDateFormat('L')}\n            focusedInput={focused}\n            onFocusChange={(focusedInput) => setFocused(focusedInput)}\n            onDatesChange={({ startDate, endDate }) => {\n              onChange(facet.field.value, [\n                startDate ? startDate.format('YYYY-MM-DD') : null,\n                endDate ? endDate.format('YYYY-MM-DD') : null,\n              ]);\n            }}\n            isOutsideRange={() => false}\n            navPrev={<PrevIcon />}\n            navNext={<NextIcon />}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nDateRangeFacet.stateToValue = ({ facetSettings, index, selectedValue }) => {\n  return selectedValue || [null, null];\n};\n\nDateRangeFacet.valueToQuery = ({ value, facet }) => {\n  return value && typeof value[0] === 'string' && typeof value[1] === 'string'\n    ? {\n        i: facet.field.value,\n        o: 'plone.app.querystring.operation.date.between',\n        v: value,\n      }\n    : null;\n};\n\nexport default compose(\n  injectLazyLibs(['reactDates', 'moment']),\n  connect((state) => ({\n    lang: state.intl.locale,\n  })),\n  injectIntl,\n)(DateRangeFacet);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Start Date","defaultMessage":"Start Date"},{"id":"End Date","defaultMessage":"End Date"}]}},"sourceType":"module","externalDependencies":[]}