{"ast":null,"code":"import _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-datablocks/src/components/manage/Blocks/SourcesBlock/Edit.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Button, Form, Grid, Accordion } from 'semantic-ui-react';\nimport { Field, Icon, TextWidget } from '@plone/volto/components';\nimport upSVG from '@plone/volto/icons/up-key.svg';\nimport downSVG from '@plone/volto/icons/down-key.svg';\nvar SourceEdit = function SourceEdit(_ref) {\n  _s();\n  var data = _ref.data,\n    onChangeBlock = _ref.onChangeBlock,\n    block = _ref.block;\n  var _useState = useState(0),\n    activeAccIndex = _useState[0],\n    setActiveAccIndex = _useState[1];\n  function handleAccClick(e, titleProps) {\n    var index = titleProps.index;\n    var newIndex = activeAccIndex === index ? -1 : index;\n    setActiveAccIndex(newIndex);\n  }\n  return __jsx(Accordion, {\n    fluid: true,\n    styled: true,\n    className: \"form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, __jsx(Accordion.Title, {\n    active: activeAccIndex === 0,\n    index: 0,\n    onClick: handleAccClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, \"Sources\", activeAccIndex === 0 ? __jsx(Icon, {\n    name: upSVG,\n    size: \"20px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  }) : __jsx(Icon, {\n    name: downSVG,\n    size: \"20px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }\n  })), __jsx(Accordion.Content, {\n    active: activeAccIndex === 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, data.chartSources && data.chartSources.length ? data.chartSources.map(function (item, index) {\n    return __jsx(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 15\n      }\n    }, __jsx(TextWidget, {\n      title: \"Source\",\n      id: \"chart-source_\".concat(index),\n      type: \"text\",\n      value: item.chart_source,\n      required: false,\n      onChange: function onChange(e, d) {\n        var dataClone = JSON.parse(JSON.stringify(data.chartSources));\n        dataClone[index].chart_source = d;\n        onChangeBlock(block, _objectSpread(_objectSpread({}, data), {}, {\n          chartSources: dataClone\n        }));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }), __jsx(TextWidget, {\n      title: \"Source Link\",\n      id: \"chart-source_link_\".concat(index),\n      type: \"text\",\n      value: item.chart_source_link,\n      required: false,\n      onChange: function onChange(e, d) {\n        var dataClone = JSON.parse(JSON.stringify(data.chartSources));\n        dataClone[index].chart_source_link = d;\n        onChangeBlock(block, _objectSpread(_objectSpread({}, data), {}, {\n          chartSources: dataClone\n        }));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }));\n  }) : '', __jsx(Form.Field, {\n    inline: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, __jsx(Grid, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, __jsx(Grid.Row, {\n    stretched: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, __jsx(Grid.Column, {\n    stretched: true,\n    columns: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    primary: true,\n    onClick: function onClick() {\n      var chartSources = data.chartSources && data.chartSources.length ? JSON.parse(JSON.stringify(data.chartSources)) : [];\n      chartSources.push({\n        chart_source_link: '',\n        chart_source: ''\n      });\n      onChangeBlock(block, _objectSpread(_objectSpread({}, data), {}, {\n        chartSources: chartSources\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, \"Add source\"))))))), __jsx(Accordion.Title, {\n    active: activeAccIndex === 1,\n    index: 1,\n    onClick: handleAccClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, \"Source (legacy)\", activeAccIndex === 1 ? __jsx(Icon, {\n    name: upSVG,\n    size: \"20px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }) : __jsx(Icon, {\n    name: downSVG,\n    size: \"20px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  })), __jsx(Accordion.Content, {\n    active: activeAccIndex === 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, __jsx(Field, {\n    title: \"Source\",\n    id: \"chart-source\",\n    type: \"text\",\n    value: data.chart_source || '',\n    required: false,\n    onChange: function onChange(e, d) {\n      return onChangeBlock(block, _objectSpread(_objectSpread({}, data), {}, {\n        chart_source: d\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }), __jsx(Field, {\n    title: \"Source Link\",\n    id: \"chart-source-link\",\n    type: \"text\",\n    value: data.chart_source_link || '',\n    required: false,\n    onChange: function onChange(e, d) {\n      return onChangeBlock(block, _objectSpread(_objectSpread({}, data), {}, {\n        chart_source_link: d\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  })));\n};\n_s(SourceEdit, \"Nd/EHIHxJ3hQ2yJkM8yeOL7E6LY=\");\n_c = SourceEdit;\nexport default SourceEdit;\nvar _c;\n$RefreshReg$(_c, \"SourceEdit\");","map":{"version":3,"names":["React","useState","Button","Form","Grid","Accordion","Field","Icon","TextWidget","upSVG","downSVG","SourceEdit","data","onChangeBlock","block","activeAccIndex","setActiveAccIndex","handleAccClick","e","titleProps","index","newIndex","chartSources","length","map","item","chart_source","d","dataClone","JSON","parse","stringify","chart_source_link","push"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-datablocks/src/components/manage/Blocks/SourcesBlock/Edit.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Form, Grid, Accordion } from 'semantic-ui-react';\nimport { Field, Icon, TextWidget } from '@plone/volto/components';\nimport upSVG from '@plone/volto/icons/up-key.svg';\nimport downSVG from '@plone/volto/icons/down-key.svg';\n\nconst SourceEdit = ({ data, onChangeBlock, block }) => {\n  const [activeAccIndex, setActiveAccIndex] = useState(0);\n\n  function handleAccClick(e, titleProps) {\n    const { index } = titleProps;\n    const newIndex = activeAccIndex === index ? -1 : index;\n\n    setActiveAccIndex(newIndex);\n  }\n\n  return (\n    <Accordion fluid styled className=\"form\">\n      <Accordion.Title\n        active={activeAccIndex === 0}\n        index={0}\n        onClick={handleAccClick}\n      >\n        Sources\n        {activeAccIndex === 0 ? (\n          <Icon name={upSVG} size=\"20px\" />\n        ) : (\n          <Icon name={downSVG} size=\"20px\" />\n        )}\n      </Accordion.Title>\n      <Accordion.Content active={activeAccIndex === 0}>\n        {data.chartSources && data.chartSources.length\n          ? data.chartSources.map((item, index) => (\n              <React.Fragment>\n                <TextWidget\n                  title=\"Source\"\n                  id={`chart-source_${index}`}\n                  type=\"text\"\n                  value={item.chart_source}\n                  required={false}\n                  onChange={(e, d) => {\n                    const dataClone = JSON.parse(\n                      JSON.stringify(data.chartSources),\n                    );\n                    dataClone[index].chart_source = d;\n                    onChangeBlock(block, {\n                      ...data,\n                      chartSources: dataClone,\n                    });\n                  }}\n                />\n                <TextWidget\n                  title=\"Source Link\"\n                  id={`chart-source_link_${index}`}\n                  type=\"text\"\n                  value={item.chart_source_link}\n                  required={false}\n                  onChange={(e, d) => {\n                    const dataClone = JSON.parse(\n                      JSON.stringify(data.chartSources),\n                    );\n                    dataClone[index].chart_source_link = d;\n                    onChangeBlock(block, {\n                      ...data,\n                      chartSources: dataClone,\n                    });\n                  }}\n                />\n              </React.Fragment>\n            ))\n          : ''}\n\n        <Form.Field inline>\n          <Grid>\n            <Grid.Row stretched>\n              <Grid.Column stretched columns={12}>\n                <div className=\"wrapper\">\n                  <Button\n                    primary\n                    onClick={() => {\n                      const chartSources =\n                        data.chartSources && data.chartSources.length\n                          ? JSON.parse(JSON.stringify(data.chartSources))\n                          : [];\n                      chartSources.push({\n                        chart_source_link: '',\n                        chart_source: '',\n                      });\n                      onChangeBlock(block, {\n                        ...data,\n                        chartSources: chartSources,\n                      });\n                    }}\n                  >\n                    Add source\n                  </Button>\n                </div>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </Form.Field>\n      </Accordion.Content>\n\n      <Accordion.Title\n        active={activeAccIndex === 1}\n        index={1}\n        onClick={handleAccClick}\n      >\n        Source (legacy)\n        {activeAccIndex === 1 ? (\n          <Icon name={upSVG} size=\"20px\" />\n        ) : (\n          <Icon name={downSVG} size=\"20px\" />\n        )}\n      </Accordion.Title>\n      <Accordion.Content active={activeAccIndex === 1}>\n        <Field\n          title=\"Source\"\n          id=\"chart-source\"\n          type=\"text\"\n          value={data.chart_source || ''}\n          required={false}\n          onChange={(e, d) =>\n            onChangeBlock(block, {\n              ...data,\n              chart_source: d,\n            })\n          }\n        />\n        <Field\n          title=\"Source Link\"\n          id=\"chart-source-link\"\n          type=\"text\"\n          value={data.chart_source_link || ''}\n          required={false}\n          onChange={(e, d) =>\n            onChangeBlock(block, {\n              ...data,\n              chart_source_link: d,\n            })\n          }\n        />\n      </Accordion.Content>\n    </Accordion>\n  );\n};\n\nexport default SourceEdit;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}