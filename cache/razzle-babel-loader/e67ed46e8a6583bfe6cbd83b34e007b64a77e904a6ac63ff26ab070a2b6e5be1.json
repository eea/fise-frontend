{"ast":null,"code":"import _isEqual from \"lodash/isEqual\";\nimport React from 'react';\nimport { usePrevious } from './usePrevious';\nimport useDeepCompareEffect from 'use-deep-compare-effect';\n\n/**\n * A pagination helper that tracks the query and resets pagination in case the\n * query changes.\n */\nexport const usePagination = (query, defaultPage = 1) => {\n  const previousQuery = usePrevious(query);\n  const [currentPage, setCurrentPage] = React.useState(defaultPage);\n  useDeepCompareEffect(() => {\n    setCurrentPage(defaultPage);\n  }, [query, previousQuery, defaultPage]);\n  return {\n    currentPage: previousQuery && !_isEqual(previousQuery, query) ? defaultPage : currentPage,\n    setCurrentPage\n  };\n};","map":{"version":3,"names":["React","usePrevious","useDeepCompareEffect","usePagination","query","defaultPage","previousQuery","currentPage","setCurrentPage","useState"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/helpers/Utils/usePagination.js"],"sourcesContent":["import React from 'react';\nimport { isEqual } from 'lodash';\nimport { usePrevious } from './usePrevious';\nimport useDeepCompareEffect from 'use-deep-compare-effect';\n\n/**\n * A pagination helper that tracks the query and resets pagination in case the\n * query changes.\n */\nexport const usePagination = (query, defaultPage = 1) => {\n  const previousQuery = usePrevious(query);\n  const [currentPage, setCurrentPage] = React.useState(defaultPage);\n\n  useDeepCompareEffect(() => {\n    setCurrentPage(defaultPage);\n  }, [query, previousQuery, defaultPage]);\n\n  return {\n    currentPage:\n      previousQuery && !isEqual(previousQuery, query)\n        ? defaultPage\n        : currentPage,\n    setCurrentPage,\n  };\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,WAAW,QAAQ,eAAe;AAC3C,OAAOC,oBAAoB,MAAM,yBAAyB;;AAE1D;AACA;AACA;AACA;AACA,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAK,EAAEC,WAAW,GAAG,CAAC,KAAK;EACvD,MAAMC,aAAa,GAAGL,WAAW,CAACG,KAAK,CAAC;EACxC,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGR,KAAK,CAACS,QAAQ,CAACJ,WAAW,CAAC;EAEjEH,oBAAoB,CAAC,MAAM;IACzBM,cAAc,CAACH,WAAW,CAAC;EAC7B,CAAC,EAAE,CAACD,KAAK,EAAEE,aAAa,EAAED,WAAW,CAAC,CAAC;EAEvC,OAAO;IACLE,WAAW,EACTD,aAAa,IAAI,CAAC,SAAQA,aAAa,EAAEF,KAAK,CAAC,GAC3CC,WAAW,GACXE,WAAW;IACjBC;EACF,CAAC;AACH,CAAC"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}