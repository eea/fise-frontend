{"ast":null,"code":"import _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nimport _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"block\", \"items\"];\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-listing-block/src/blocks/Listing/layout-templates/Carousel.jsx\",\n  _this2 = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport loadable from '@loadable/component';\nimport UniversalCard from '@eeacms/volto-listing-block/components/UniversalCard/UniversalCard';\nimport ResponsiveContainer from '@eeacms/volto-listing-block/components/ResponsiveContainer';\nvar Slider = loadable({\n  resolved: {},\n  chunkName: function chunkName() {\n    return \"react-slick\";\n  },\n  isReady: function isReady(props) {\n    var key = this.resolve(props);\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n    return false;\n  },\n  importAsync: function importAsync() {\n    return import( /* webpackChunkName: \"react-slick\" */'react-slick');\n  },\n  requireAsync: function requireAsync(props) {\n    var _this = this;\n    var key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(function (resolved) {\n      _this.resolved[key] = true;\n      return resolved;\n    });\n  },\n  requireSync: function requireSync(props) {\n    var id = this.resolve(props);\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n    return eval('module.require')(id);\n  },\n  resolve: function resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"react-slick\");\n    }\n    return eval('require.resolve')(\"react-slick\");\n  }\n});\n_c = Slider;\nvar tabletBreakpoint = 768;\nvar mobileBreakpoint = 480;\nvar getSlidesToShow = function getSlidesToShow(items, _slidesToShow) {\n  if (_slidesToShow <= 0) return 1;\n  if (items.length >= _slidesToShow) return parseInt(_slidesToShow);\n  return items.length;\n};\nvar getSlidesToScroll = function getSlidesToScroll(items, _slidesToShow, _slidesToScroll) {\n  if (_slidesToScroll <= 0) return 1;\n  var slidesToShow = getSlidesToShow(items, _slidesToShow);\n  if (slidesToShow >= _slidesToScroll) return parseInt(_slidesToScroll);\n  return slidesToShow;\n};\nvar Arrows = function Arrows(props) {\n  var _props$slider = props.slider,\n    slider = _props$slider === void 0 ? {} : _props$slider;\n  return __jsx(React.Fragment, null, __jsx(Button, {\n    \"aria-label\": \"Previous slide\",\n    className: \"slider-arrow prev-arrow tablet or lower hidden\",\n    icon: true,\n    onClick: function onClick() {\n      if (slider.current) {\n        slider.current.slickPrev();\n      }\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    className: \"ri-arrow-left-s-line\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  })), __jsx(Button, {\n    \"aria-label\": \"Next slide\",\n    className: \"slider-arrow next-arrow tablet or lower hidden\",\n    icon: true,\n    onClick: function onClick() {\n      if (slider.current) {\n        slider.current.slickNext();\n      }\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    className: \"ri-arrow-right-s-line\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  })));\n};\n_c2 = Arrows;\nvar CardsCarousel = function CardsCarousel(_ref) {\n  _s();\n  var block = _ref.block,\n    items = _ref.items,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var slider = React.useRef(null);\n  var _React$useState = React.useState({\n      dots: true,\n      infinite: true,\n      arrows: false,\n      lazyLoad: 'progressive',\n      slidesToShow: getSlidesToShow(items, rest.slidesToShow || 4),\n      slidesToScroll: getSlidesToScroll(items, rest.slidesToShow || 4, rest.slidesToScroll || 1),\n      responsive: [{\n        breakpoint: tabletBreakpoint,\n        settings: {\n          slidesToShow: 3,\n          slidesToScroll: 1,\n          arrows: false\n        }\n      }, {\n        breakpoint: mobileBreakpoint,\n        settings: {\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          arrows: false\n        }\n      }]\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    settings = _React$useState2[0];\n  return __jsx(ResponsiveContainer, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, function (_ref2) {\n    var parentWidth = _ref2.parentWidth;\n    return parentWidth ? __jsx(\"div\", {\n      className: \"cards-carousel\",\n      style: {\n        width: \"\".concat(parentWidth, \"px\"),\n        margin: '0 auto'\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, __jsx(Slider, _extends({}, settings, {\n      ref: slider,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }), items.map(function (item, index) {\n      return __jsx(UniversalCard, _extends({\n        key: \"card-\".concat(block, \"-\").concat(index)\n      }, rest, {\n        block: block,\n        item: item,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }));\n    })), items.length > settings.slidesToShow && __jsx(Arrows, {\n      slider: slider,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 54\n      }\n    })) : null;\n  });\n};\n_s(CardsCarousel, \"6gTlZ16lH7JAk/MCJFewQP451Ic=\");\n_c3 = CardsCarousel;\nCardsCarousel.schemaEnhancer = function (args) {\n  var schema = args.schema;\n  // const schema = UniversalCard.schemaEnhancer(args);\n\n  schema.fieldsets.splice(1, 0, {\n    id: 'carousel',\n    title: 'Carousel',\n    fields: ['slidesToShow', 'slidesToScroll']\n  });\n  return _objectSpread(_objectSpread({}, schema), {}, {\n    // fieldsets: [...schema.fieldsets, ,],\n    properties: _objectSpread(_objectSpread({}, schema.properties), {}, {\n      slidesToShow: {\n        title: 'Slides to show',\n        type: 'number',\n        \"default\": 4,\n        minimum: 1\n      },\n      slidesToScroll: {\n        title: 'Slides to scroll',\n        type: 'number',\n        \"default\": 1,\n        minimum: 1\n      }\n    })\n  });\n};\nexport default CardsCarousel;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Slider\");\n$RefreshReg$(_c2, \"Arrows\");\n$RefreshReg$(_c3, \"CardsCarousel\");","map":{"version":3,"names":["React","Button","Icon","loadable","UniversalCard","ResponsiveContainer","Slider","tabletBreakpoint","mobileBreakpoint","getSlidesToShow","items","_slidesToShow","length","parseInt","getSlidesToScroll","_slidesToScroll","slidesToShow","Arrows","props","slider","current","slickPrev","slickNext","CardsCarousel","block","rest","useRef","useState","dots","infinite","arrows","lazyLoad","slidesToScroll","responsive","breakpoint","settings","parentWidth","width","margin","map","item","index","schemaEnhancer","args","schema","fieldsets","splice","id","title","fields","properties","type","minimum"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-listing-block/src/blocks/Listing/layout-templates/Carousel.jsx"],"sourcesContent":["import React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport loadable from '@loadable/component';\n\nimport UniversalCard from '@eeacms/volto-listing-block/components/UniversalCard/UniversalCard';\nimport ResponsiveContainer from '@eeacms/volto-listing-block/components/ResponsiveContainer';\n\nconst Slider = loadable(() => import('react-slick'));\n\nconst tabletBreakpoint = 768;\nconst mobileBreakpoint = 480;\n\nconst getSlidesToShow = (items, _slidesToShow) => {\n  if (_slidesToShow <= 0) return 1;\n  if (items.length >= _slidesToShow) return parseInt(_slidesToShow);\n  return items.length;\n};\n\nconst getSlidesToScroll = (items, _slidesToShow, _slidesToScroll) => {\n  if (_slidesToScroll <= 0) return 1;\n  const slidesToShow = getSlidesToShow(items, _slidesToShow);\n  if (slidesToShow >= _slidesToScroll) return parseInt(_slidesToScroll);\n  return slidesToShow;\n};\n\nconst Arrows = (props) => {\n  const { slider = {} } = props;\n\n  return (\n    <>\n      <Button\n        aria-label=\"Previous slide\"\n        className=\"slider-arrow prev-arrow tablet or lower hidden\"\n        icon\n        onClick={() => {\n          if (slider.current) {\n            slider.current.slickPrev();\n          }\n        }}\n      >\n        <Icon className=\"ri-arrow-left-s-line\" />\n      </Button>\n      <Button\n        aria-label=\"Next slide\"\n        className=\"slider-arrow next-arrow tablet or lower hidden\"\n        icon\n        onClick={() => {\n          if (slider.current) {\n            slider.current.slickNext();\n          }\n        }}\n      >\n        <Icon className=\"ri-arrow-right-s-line\" />\n      </Button>\n    </>\n  );\n};\n\nconst CardsCarousel = ({ block, items, ...rest }) => {\n  const slider = React.useRef(null);\n  const [settings] = React.useState({\n    dots: true,\n    infinite: true,\n    arrows: false,\n    lazyLoad: 'progressive',\n    slidesToShow: getSlidesToShow(items, rest.slidesToShow || 4),\n    slidesToScroll: getSlidesToScroll(\n      items,\n      rest.slidesToShow || 4,\n      rest.slidesToScroll || 1,\n    ),\n    responsive: [\n      {\n        breakpoint: tabletBreakpoint,\n        settings: {\n          slidesToShow: 3,\n          slidesToScroll: 1,\n          arrows: false,\n        },\n      },\n      {\n        breakpoint: mobileBreakpoint,\n        settings: {\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          arrows: false,\n        },\n      },\n    ],\n  });\n\n  return (\n    <ResponsiveContainer>\n      {({ parentWidth }) =>\n        parentWidth ? (\n          <div\n            className=\"cards-carousel\"\n            style={{ width: `${parentWidth}px`, margin: '0 auto' }}\n          >\n            <Slider {...settings} ref={slider}>\n              {items.map((item, index) => (\n                <UniversalCard\n                  key={`card-${block}-${index}`}\n                  {...rest}\n                  block={block}\n                  item={item}\n                />\n              ))}\n            </Slider>\n            {items.length > settings.slidesToShow && <Arrows slider={slider} />}\n          </div>\n        ) : null\n      }\n    </ResponsiveContainer>\n  );\n};\n\nCardsCarousel.schemaEnhancer = (args) => {\n  const { schema } = args;\n  // const schema = UniversalCard.schemaEnhancer(args);\n\n  schema.fieldsets.splice(1, 0, {\n    id: 'carousel',\n    title: 'Carousel',\n    fields: ['slidesToShow', 'slidesToScroll'],\n  });\n\n  return {\n    ...schema,\n    // fieldsets: [...schema.fieldsets, ,],\n    properties: {\n      ...schema.properties,\n      slidesToShow: {\n        title: 'Slides to show',\n        type: 'number',\n        default: 4,\n        minimum: 1,\n      },\n      slidesToScroll: {\n        title: 'Slides to scroll',\n        type: 'number',\n        default: 1,\n        minimum: 1,\n      },\n    },\n  };\n};\n\nexport default CardsCarousel;\n"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,EAAEC,IAAI,QAAQ,mBAAmB;AAChD,OAAOC,QAAQ,MAAM,qBAAqB;AAE1C,OAAOC,aAAa,MAAM,oEAAoE;AAC9F,OAAOC,mBAAmB,MAAM,4DAA4D;AAE5F,IAAMC,MAAM,GAAGH,QAAQ;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA,aAAC;IAAA,OAAM,MAAM,uCAAC,aAAa,CAAC;EAAA;EAAA;IAAA;IAAA;IAAA;IAAA;MAAA;MAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA;IAAA;MAAA;IAAA;IAAA;EAAA;AAAA,EAAC;AAAC,KAA/CG,MAAM;AAEZ,IAAMC,gBAAgB,GAAG,GAAG;AAC5B,IAAMC,gBAAgB,GAAG,GAAG;AAE5B,IAAMC,eAAe,GAAG,SAAlBA,eAAe,CAAIC,KAAK,EAAEC,aAAa,EAAK;EAChD,IAAIA,aAAa,IAAI,CAAC,EAAE,OAAO,CAAC;EAChC,IAAID,KAAK,CAACE,MAAM,IAAID,aAAa,EAAE,OAAOE,QAAQ,CAACF,aAAa,CAAC;EACjE,OAAOD,KAAK,CAACE,MAAM;AACrB,CAAC;AAED,IAAME,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIJ,KAAK,EAAEC,aAAa,EAAEI,eAAe,EAAK;EACnE,IAAIA,eAAe,IAAI,CAAC,EAAE,OAAO,CAAC;EAClC,IAAMC,YAAY,GAAGP,eAAe,CAACC,KAAK,EAAEC,aAAa,CAAC;EAC1D,IAAIK,YAAY,IAAID,eAAe,EAAE,OAAOF,QAAQ,CAACE,eAAe,CAAC;EACrE,OAAOC,YAAY;AACrB,CAAC;AAED,IAAMC,MAAM,GAAG,SAATA,MAAM,CAAIC,KAAK,EAAK;EACxB,oBAAwBA,KAAK,CAArBC,MAAM;IAANA,MAAM,8BAAG,CAAC,CAAC;EAEnB,OACE,4BACE,MAAC,MAAM;IACL,cAAW,gBAAgB;IAC3B,SAAS,EAAC,gDAAgD;IAC1D,IAAI;IACJ,OAAO,EAAE,mBAAM;MACb,IAAIA,MAAM,CAACC,OAAO,EAAE;QAClBD,MAAM,CAACC,OAAO,CAACC,SAAS,EAAE;MAC5B;IACF,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEF,MAAC,IAAI;IAAC,SAAS,EAAC,sBAAsB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAClC,EACT,MAAC,MAAM;IACL,cAAW,YAAY;IACvB,SAAS,EAAC,gDAAgD;IAC1D,IAAI;IACJ,OAAO,EAAE,mBAAM;MACb,IAAIF,MAAM,CAACC,OAAO,EAAE;QAClBD,MAAM,CAACC,OAAO,CAACE,SAAS,EAAE;MAC5B;IACF,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEF,MAAC,IAAI;IAAC,SAAS,EAAC,uBAAuB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACnC,CACR;AAEP,CAAC;AAAC,MA/BIL,MAAM;AAiCZ,IAAMM,aAAa,GAAG,SAAhBA,aAAa,OAAkC;EAAA;EAAA,IAA5BC,KAAK,QAALA,KAAK;IAAEd,KAAK,QAALA,KAAK;IAAKe,IAAI;EAC5C,IAAMN,MAAM,GAAGnB,KAAK,CAAC0B,MAAM,CAAC,IAAI,CAAC;EACjC,sBAAmB1B,KAAK,CAAC2B,QAAQ,CAAC;MAChCC,IAAI,EAAE,IAAI;MACVC,QAAQ,EAAE,IAAI;MACdC,MAAM,EAAE,KAAK;MACbC,QAAQ,EAAE,aAAa;MACvBf,YAAY,EAAEP,eAAe,CAACC,KAAK,EAAEe,IAAI,CAACT,YAAY,IAAI,CAAC,CAAC;MAC5DgB,cAAc,EAAElB,iBAAiB,CAC/BJ,KAAK,EACLe,IAAI,CAACT,YAAY,IAAI,CAAC,EACtBS,IAAI,CAACO,cAAc,IAAI,CAAC,CACzB;MACDC,UAAU,EAAE,CACV;QACEC,UAAU,EAAE3B,gBAAgB;QAC5B4B,QAAQ,EAAE;UACRnB,YAAY,EAAE,CAAC;UACfgB,cAAc,EAAE,CAAC;UACjBF,MAAM,EAAE;QACV;MACF,CAAC,EACD;QACEI,UAAU,EAAE1B,gBAAgB;QAC5B2B,QAAQ,EAAE;UACRnB,YAAY,EAAE,CAAC;UACfgB,cAAc,EAAE,CAAC;UACjBF,MAAM,EAAE;QACV;MACF,CAAC;IAEL,CAAC,CAAC;IAAA;IA7BKK,QAAQ;EA+Bf,OACE,MAAC,mBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACjB;IAAA,IAAGC,WAAW,SAAXA,WAAW;IAAA,OACbA,WAAW,GACT;MACE,SAAS,EAAC,gBAAgB;MAC1B,KAAK,EAAE;QAAEC,KAAK,YAAKD,WAAW,OAAI;QAAEE,MAAM,EAAE;MAAS,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAEvD,MAAC,MAAM,eAAKH,QAAQ;MAAE,GAAG,EAAEhB,MAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,IAC/BT,KAAK,CAAC6B,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;MAAA,OACrB,MAAC,aAAa;QACZ,GAAG,iBAAUjB,KAAK,cAAIiB,KAAK;MAAG,GAC1BhB,IAAI;QACR,KAAK,EAAED,KAAM;QACb,IAAI,EAAEgB,IAAK;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACX;IAAA,CACH,CAAC,CACK,EACR9B,KAAK,CAACE,MAAM,GAAGuB,QAAQ,CAACnB,YAAY,IAAI,MAAC,MAAM;MAAC,MAAM,EAAEG,MAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG,CAC/D,GACJ,IAAI;EAAA,EAEU;AAE1B,CAAC;AAAC,GAzDII,aAAa;AAAA,MAAbA,aAAa;AA2DnBA,aAAa,CAACmB,cAAc,GAAG,UAACC,IAAI,EAAK;EACvC,IAAQC,MAAM,GAAKD,IAAI,CAAfC,MAAM;EACd;;EAEAA,MAAM,CAACC,SAAS,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC5BC,EAAE,EAAE,UAAU;IACdC,KAAK,EAAE,UAAU;IACjBC,MAAM,EAAE,CAAC,cAAc,EAAE,gBAAgB;EAC3C,CAAC,CAAC;EAEF,uCACKL,MAAM;IACT;IACAM,UAAU,kCACLN,MAAM,CAACM,UAAU;MACpBlC,YAAY,EAAE;QACZgC,KAAK,EAAE,gBAAgB;QACvBG,IAAI,EAAE,QAAQ;QACd,WAAS,CAAC;QACVC,OAAO,EAAE;MACX,CAAC;MACDpB,cAAc,EAAE;QACdgB,KAAK,EAAE,kBAAkB;QACzBG,IAAI,EAAE,QAAQ;QACd,WAAS,CAAC;QACVC,OAAO,EAAE;MACX;IAAC;EACF;AAEL,CAAC;AAED,eAAe7B,aAAa;AAAC;AAAA;AAAA;AAAA"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}