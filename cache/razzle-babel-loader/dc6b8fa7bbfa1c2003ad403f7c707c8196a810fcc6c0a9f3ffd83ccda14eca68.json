{"ast":null,"code":"import loadable from '@loadable/component';\nvar SentryBrowser = loadable.lib({\n  resolved: {},\n  chunkName: function chunkName() {\n    return \"s_entry-browser\";\n  },\n  isReady: function isReady(props) {\n    var key = this.resolve(props);\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n    return false;\n  },\n  importAsync: function importAsync() {\n    return import( /* webpackChunkName: \"s_entry-browser\" */'@sentry/browser');\n  },\n  requireAsync: function requireAsync(props) {\n    var _this = this;\n    var key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(function (resolved) {\n      _this.resolved[key] = true;\n      return resolved;\n    });\n  },\n  requireSync: function requireSync(props) {\n    var id = this.resolve(props);\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n    return eval('module.require')(id);\n  },\n  resolve: function resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"@sentry/browser\");\n    }\n    return eval('require.resolve')(\"@sentry/browser\");\n  }\n});\nvar SentryNode = loadable.lib({\n  resolved: {},\n  chunkName: function chunkName() {\n    return \"s_entry-browser\";\n  },\n  isReady: function isReady(props) {\n    var key = this.resolve(props);\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n    return false;\n  },\n  importAsync: function importAsync() {\n    return import( /* webpackChunkName: \"s_entry-browser\" */'@sentry/browser');\n  },\n  requireAsync: function requireAsync(props) {\n    var _this = this;\n    var key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(function (resolved) {\n      _this.resolved[key] = true;\n      return resolved;\n    });\n  },\n  requireSync: function requireSync(props) {\n    var id = this.resolve(props);\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n    return eval('module.require')(id);\n  },\n  resolve: function resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"@sentry/browser\");\n    }\n    return eval('require.resolve')(\"@sentry/browser\");\n  }\n});\nvar crashReporter = function crashReporter(store) {\n  return function (next) {\n    return function (action) {\n      try {\n        return next(action);\n      } catch (error) {\n        var _SENTRY__, _process, _process$env, _window, _window$env;\n        if ((_SENTRY__ = __SENTRY__) !== null && _SENTRY__ !== void 0 && _SENTRY__.SENTRY_DSN || (_process = process) !== null && _process !== void 0 && (_process$env = _process.env) !== null && _process$env !== void 0 && _process$env.RAZZLE_SENTRY_DSN || (_window = window) !== null && _window !== void 0 && (_window$env = _window.env) !== null && _window$env !== void 0 && _window$env.RAZZLE_SENTRY_DSN) {\n          var loader = __CLIENT__ ? SentryBrowser : SentryNode;\n          loader.load().then(function (Sentry) {\n            Sentry.withScope(function (scope) {\n              scope.setExtras({\n                action: action,\n                state: store.getState()\n              });\n              Sentry.captureException(error);\n            });\n          });\n        }\n        throw error;\n      }\n    };\n  };\n};\nexport default crashReporter;","map":{"version":3,"names":["loadable","SentryBrowser","lib","SentryNode","crashReporter","store","next","action","error","__SENTRY__","SENTRY_DSN","process","env","RAZZLE_SENTRY_DSN","window","loader","__CLIENT__","load","then","Sentry","withScope","scope","setExtras","state","getState","captureException"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/middleware/crashReporter.js"],"sourcesContent":["import loadable from '@loadable/component';\n\nconst SentryBrowser = loadable.lib(() =>\n  import(/* webpackChunkName: \"s_entry-browser\" */ '@sentry/browser'),\n);\nconst SentryNode = loadable.lib(() =>\n  import(/* webpackChunkName: \"s_entry-browser\" */ '@sentry/browser'),\n);\n\nconst crashReporter = (store) => (next) => (action) => {\n  try {\n    return next(action);\n  } catch (error) {\n    if (\n      __SENTRY__?.SENTRY_DSN ||\n      process?.env?.RAZZLE_SENTRY_DSN ||\n      window?.env?.RAZZLE_SENTRY_DSN\n    ) {\n      const loader = __CLIENT__ ? SentryBrowser : SentryNode;\n      loader.load().then((Sentry) => {\n        Sentry.withScope((scope) => {\n          scope.setExtras({\n            action,\n            state: store.getState(),\n          });\n          Sentry.captureException(error);\n        });\n      });\n    }\n    throw error;\n  }\n};\n\nexport default crashReporter;\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,qBAAqB;AAE1C,IAAMC,aAAa,GAAGD,QAAQ,CAACE,GAAG;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA,aAAC;IAAA,OACjC,MAAM,2CAA2C,iBAAiB,CAAC;EAAA;EAAA;IAAA;IAAA;IAAA;IAAA;MAAA;MAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA;IAAA;MAAA;IAAA;IAAA;EAAA;AAAA,EACpE;AACD,IAAMC,UAAU,GAAGH,QAAQ,CAACE,GAAG;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA,aAAC;IAAA,OAC9B,MAAM,2CAA2C,iBAAiB,CAAC;EAAA;EAAA;IAAA;IAAA;IAAA;IAAA;MAAA;MAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA;EAAA;IAAA;MAAA;IAAA;IAAA;EAAA;AAAA,EACpE;AAED,IAAME,aAAa,GAAG,SAAhBA,aAAa,CAAIC,KAAK;EAAA,OAAK,UAACC,IAAI;IAAA,OAAK,UAACC,MAAM,EAAK;MACrD,IAAI;QACF,OAAOD,IAAI,CAACC,MAAM,CAAC;MACrB,CAAC,CAAC,OAAOC,KAAK,EAAE;QAAA;QACd,IACE,aAAAC,UAAU,sCAAV,UAAYC,UAAU,gBACtBC,OAAO,qDAAP,SAASC,GAAG,yCAAZ,aAAcC,iBAAiB,eAC/BC,MAAM,mDAAN,QAAQF,GAAG,wCAAX,YAAaC,iBAAiB,EAC9B;UACA,IAAME,MAAM,GAAGC,UAAU,GAAGf,aAAa,GAAGE,UAAU;UACtDY,MAAM,CAACE,IAAI,EAAE,CAACC,IAAI,CAAC,UAACC,MAAM,EAAK;YAC7BA,MAAM,CAACC,SAAS,CAAC,UAACC,KAAK,EAAK;cAC1BA,KAAK,CAACC,SAAS,CAAC;gBACdf,MAAM,EAANA,MAAM;gBACNgB,KAAK,EAAElB,KAAK,CAACmB,QAAQ;cACvB,CAAC,CAAC;cACFL,MAAM,CAACM,gBAAgB,CAACjB,KAAK,CAAC;YAChC,CAAC,CAAC;UACJ,CAAC,CAAC;QACJ;QACA,MAAMA,KAAK;MACb;IACF,CAAC;EAAA;AAAA;AAED,eAAeJ,aAAa"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}