{"ast":null,"code":"import _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nimport _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-tabs-block/src/hocs/waitForNodes.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nvar TIMEOUT = 2000;\nexport default function waitForNodes(WrappedComponent) {\n  var _this = this,\n    _s = $RefreshSig$();\n  return _s(function (props) {\n    _s();\n    var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      readyToRender = _React$useState2[0],\n      setReadyToRender = _React$useState2[1];\n    var clock = React.useRef(null);\n    var time = React.useRef(0);\n    var nodes = React.useRef(props.nodes);\n    React.useEffect(function () {\n      nodes.current = props.nodes;\n      /* eslint-disable-next-line */\n    }, [props.nodes]);\n    React.useEffect(function () {\n      clock.current = setInterval(function () {\n        if (nodes.current.filter(function (node) {\n          return !node.current;\n        }).length === 0) {\n          setReadyToRender(true);\n          clearInterval(clock.current);\n          time.current = 0;\n          return;\n        }\n        if (time.current >= TIMEOUT) {\n          clearInterval(clock.current);\n          time.current = 0;\n          return;\n        }\n        time.current += 100;\n      }, 100);\n      return function () {\n        clearInterval(clock.current);\n        time.current = 0;\n      };\n      /* eslint-disable-next-line */\n    }, []);\n    if (!readyToRender) return '';\n    return __jsx(WrappedComponent, _extends({}, props, {\n      readyToRender: readyToRender,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }\n    }));\n  }, \"4W6jqBioBGQIkMIMxVGR4uHn0Cg=\");\n}","map":{"version":3,"names":["React","TIMEOUT","waitForNodes","WrappedComponent","props","useState","readyToRender","setReadyToRender","clock","useRef","time","nodes","useEffect","current","setInterval","filter","node","length","clearInterval"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-tabs-block/src/hocs/waitForNodes.jsx"],"sourcesContent":["import React from 'react';\n\nconst TIMEOUT = 2000;\n\nexport default function waitForNodes(WrappedComponent) {\n  return (props) => {\n    const [readyToRender, setReadyToRender] = React.useState(false);\n    const clock = React.useRef(null);\n    const time = React.useRef(0);\n    const nodes = React.useRef(props.nodes);\n\n    React.useEffect(() => {\n      nodes.current = props.nodes;\n      /* eslint-disable-next-line */\n    }, [props.nodes]);\n\n    React.useEffect(() => {\n      clock.current = setInterval(() => {\n        if (nodes.current.filter((node) => !node.current).length === 0) {\n          setReadyToRender(true);\n          clearInterval(clock.current);\n          time.current = 0;\n          return;\n        }\n        if (time.current >= TIMEOUT) {\n          clearInterval(clock.current);\n          time.current = 0;\n          return;\n        }\n        time.current += 100;\n      }, 100);\n      return () => {\n        clearInterval(clock.current);\n        time.current = 0;\n      };\n      /* eslint-disable-next-line */\n    }, []);\n\n    if (!readyToRender) return '';\n    return <WrappedComponent {...props} readyToRender={readyToRender} />;\n  };\n}\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,IAAMC,OAAO,GAAG,IAAI;AAEpB,eAAe,SAASC,YAAY,CAACC,gBAAgB,EAAE;EAAA;IAAA;EACrD,UAAO,UAACC,KAAK,EAAK;IAAA;IAChB,sBAA0CJ,KAAK,CAACK,QAAQ,CAAC,KAAK,CAAC;MAAA;MAAxDC,aAAa;MAAEC,gBAAgB;IACtC,IAAMC,KAAK,GAAGR,KAAK,CAACS,MAAM,CAAC,IAAI,CAAC;IAChC,IAAMC,IAAI,GAAGV,KAAK,CAACS,MAAM,CAAC,CAAC,CAAC;IAC5B,IAAME,KAAK,GAAGX,KAAK,CAACS,MAAM,CAACL,KAAK,CAACO,KAAK,CAAC;IAEvCX,KAAK,CAACY,SAAS,CAAC,YAAM;MACpBD,KAAK,CAACE,OAAO,GAAGT,KAAK,CAACO,KAAK;MAC3B;IACF,CAAC,EAAE,CAACP,KAAK,CAACO,KAAK,CAAC,CAAC;IAEjBX,KAAK,CAACY,SAAS,CAAC,YAAM;MACpBJ,KAAK,CAACK,OAAO,GAAGC,WAAW,CAAC,YAAM;QAChC,IAAIH,KAAK,CAACE,OAAO,CAACE,MAAM,CAAC,UAACC,IAAI;UAAA,OAAK,CAACA,IAAI,CAACH,OAAO;QAAA,EAAC,CAACI,MAAM,KAAK,CAAC,EAAE;UAC9DV,gBAAgB,CAAC,IAAI,CAAC;UACtBW,aAAa,CAACV,KAAK,CAACK,OAAO,CAAC;UAC5BH,IAAI,CAACG,OAAO,GAAG,CAAC;UAChB;QACF;QACA,IAAIH,IAAI,CAACG,OAAO,IAAIZ,OAAO,EAAE;UAC3BiB,aAAa,CAACV,KAAK,CAACK,OAAO,CAAC;UAC5BH,IAAI,CAACG,OAAO,GAAG,CAAC;UAChB;QACF;QACAH,IAAI,CAACG,OAAO,IAAI,GAAG;MACrB,CAAC,EAAE,GAAG,CAAC;MACP,OAAO,YAAM;QACXK,aAAa,CAACV,KAAK,CAACK,OAAO,CAAC;QAC5BH,IAAI,CAACG,OAAO,GAAG,CAAC;MAClB,CAAC;MACD;IACF,CAAC,EAAE,EAAE,CAAC;IAEN,IAAI,CAACP,aAAa,EAAE,OAAO,EAAE;IAC7B,OAAO,MAAC,gBAAgB,eAAKF,KAAK;MAAE,aAAa,EAAEE,aAAc;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAG;EACtE,CAAC;AACH"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}