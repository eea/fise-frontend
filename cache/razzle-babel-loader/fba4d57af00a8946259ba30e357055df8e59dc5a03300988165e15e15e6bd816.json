{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/components/DateRangeFacet.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Header } from 'semantic-ui-react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { compose } from 'redux';\nimport { Icon } from '@plone/volto/components';\nimport { connect } from 'react-redux';\nimport leftKey from '@plone/volto/icons/left-key.svg';\nimport rightKey from '@plone/volto/icons/right-key.svg';\nimport clearSVG from '@plone/volto/icons/clear.svg';\nimport 'react-dates/initialize';\nimport 'react-dates/lib/css/_datepicker.css';\nvar messages = defineMessages({\n  startDate: {\n    \"id\": \"Start Date\",\n    \"defaultMessage\": \"Start Date\"\n  },\n  endDate: {\n    \"id\": \"End Date\",\n    \"defaultMessage\": \"End Date\"\n  }\n});\nvar PrevIcon = function PrevIcon() {\n  return __jsx(\"div\", {\n    className: \"prev-icon\",\n    style: {\n      color: '#000',\n      left: '22px',\n      padding: '5px',\n      position: 'absolute',\n      top: '15px'\n    }\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    ,\n    tabIndex: \"0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 3\n    }\n  }, __jsx(Icon, {\n    name: leftKey,\n    size: \"30px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }));\n};\n_c = PrevIcon;\nvar NextIcon = function NextIcon() {\n  return __jsx(\"div\", {\n    className: \"next-icon\",\n    style: {\n      color: '#000',\n      right: '22px',\n      padding: '5px',\n      position: 'absolute',\n      top: '15px'\n    }\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    ,\n    tabIndex: \"0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 3\n    }\n  }, __jsx(Icon, {\n    name: rightKey,\n    size: \"30px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }));\n};\n_c2 = NextIcon;\nvar CloseIcon = function CloseIcon() {\n  return __jsx(Icon, {\n    name: clearSVG,\n    size: \"24px\",\n    className: \"close\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  });\n};\n_c3 = CloseIcon;\nvar DateRangeFacet = function DateRangeFacet(props) {\n  _s();\n  var _facet$title, _facet$field;\n  var facet = props.facet,\n    isEditMode = props.isEditMode,\n    onChange = props.onChange,\n    value = props.value,\n    reactDates = props.reactDates,\n    intl = props.intl,\n    lang = props.lang;\n  var moment = props.moment[\"default\"];\n  var DateRangePicker = reactDates.DateRangePicker;\n  var _useState = useState(null),\n    focused = _useState[0],\n    setFocused = _useState[1];\n  return __jsx(\"div\", {\n    className: \"daterange-facet\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, __jsx(Header, {\n    as: \"h4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, (_facet$title = facet === null || facet === void 0 ? void 0 : facet.title) !== null && _facet$title !== void 0 ? _facet$title : facet === null || facet === void 0 ? void 0 : (_facet$field = facet.field) === null || _facet$field === void 0 ? void 0 : _facet$field.label), __jsx(\"div\", {\n    className: \"ui form date-time-widget-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"ui input date-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, __jsx(DateRangePicker, {\n    startDate: value && value[0] ? moment(value[0]) : null,\n    startDateId: \"\".concat(facet['@id'], \"-start-date\"),\n    startDatePlaceholderText: intl.formatMessage(messages.startDate),\n    endDate: value && value[1] ? moment(value[1]) : null,\n    endDateId: \"\".concat(facet['@id'], \"-end-date\"),\n    endDatePlaceholderText: intl.formatMessage(messages.endDate),\n    numberOfMonths: 1,\n    disabled: isEditMode,\n    noBorder: true,\n    showClearDates: true,\n    customCloseIcon: __jsx(CloseIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 30\n      }\n    }),\n    displayFormat: moment.localeData(lang).longDateFormat('L'),\n    focusedInput: focused,\n    onFocusChange: function onFocusChange(focusedInput) {\n      return setFocused(focusedInput);\n    },\n    onDatesChange: function onDatesChange(_ref) {\n      var startDate = _ref.startDate,\n        endDate = _ref.endDate;\n      onChange(facet.field.value, [startDate ? startDate.format('YYYY-MM-DD') : null, endDate ? endDate.format('YYYY-MM-DD') : null]);\n    },\n    isOutsideRange: function isOutsideRange() {\n      return false;\n    },\n    navPrev: __jsx(PrevIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 22\n      }\n    }),\n    navNext: __jsx(NextIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 22\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }))));\n};\n_s(DateRangeFacet, \"6LAaG0zLb107Z/ylGF2cWYVKR44=\");\n_c4 = DateRangeFacet;\nDateRangeFacet.stateToValue = function (_ref2) {\n  var facetSettings = _ref2.facetSettings,\n    index = _ref2.index,\n    selectedValue = _ref2.selectedValue;\n  return selectedValue || [null, null];\n};\nDateRangeFacet.valueToQuery = function (_ref3) {\n  var value = _ref3.value,\n    facet = _ref3.facet;\n  return value && typeof value[0] === 'string' && typeof value[1] === 'string' ? {\n    i: facet.field.value,\n    o: 'plone.app.querystring.operation.date.between',\n    v: value\n  } : null;\n};\nexport default compose(injectLazyLibs(['reactDates', 'moment']), connect(function (state) {\n  return {\n    lang: state.intl.locale\n  };\n}), injectIntl)(DateRangeFacet);\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"PrevIcon\");\n$RefreshReg$(_c2, \"NextIcon\");\n$RefreshReg$(_c3, \"CloseIcon\");\n$RefreshReg$(_c4, \"DateRangeFacet\");","map":{"version":3,"names":["React","useState","Header","defineMessages","injectIntl","injectLazyLibs","compose","Icon","connect","leftKey","rightKey","clearSVG","messages","startDate","endDate","PrevIcon","color","left","padding","position","top","NextIcon","right","CloseIcon","DateRangeFacet","props","facet","isEditMode","onChange","value","reactDates","intl","lang","moment","DateRangePicker","focused","setFocused","title","field","label","formatMessage","localeData","longDateFormat","focusedInput","format","stateToValue","facetSettings","index","selectedValue","valueToQuery","i","o","v","state","locale"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/components/DateRangeFacet.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Header } from 'semantic-ui-react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { compose } from 'redux';\nimport { Icon } from '@plone/volto/components';\nimport { connect } from 'react-redux';\n\nimport leftKey from '@plone/volto/icons/left-key.svg';\nimport rightKey from '@plone/volto/icons/right-key.svg';\nimport clearSVG from '@plone/volto/icons/clear.svg';\n\nimport 'react-dates/initialize';\nimport 'react-dates/lib/css/_datepicker.css';\n\nconst messages = defineMessages({\n  startDate: {\n    id: 'Start Date',\n    defaultMessage: 'Start Date',\n  },\n  endDate: {\n    id: 'End Date',\n    defaultMessage: 'End Date',\n  },\n});\n\nconst PrevIcon = () => (\n  <div\n    className=\"prev-icon\"\n    style={{\n      color: '#000',\n      left: '22px',\n      padding: '5px',\n      position: 'absolute',\n      top: '15px',\n    }}\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    tabIndex=\"0\"\n  >\n    <Icon name={leftKey} size=\"30px\" />\n  </div>\n);\nconst NextIcon = () => (\n  <div\n    className=\"next-icon\"\n    style={{\n      color: '#000',\n      right: '22px',\n      padding: '5px',\n      position: 'absolute',\n      top: '15px',\n    }}\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    tabIndex=\"0\"\n  >\n    <Icon name={rightKey} size=\"30px\" />\n  </div>\n);\n\nconst CloseIcon = () => <Icon name={clearSVG} size=\"24px\" className=\"close\" />;\n\nconst DateRangeFacet = (props) => {\n  const { facet, isEditMode, onChange, value, reactDates, intl, lang } = props;\n  const moment = props.moment.default;\n  const { DateRangePicker } = reactDates;\n  const [focused, setFocused] = useState(null);\n\n  return (\n    <div className=\"daterange-facet\">\n      <Header as=\"h4\">{facet?.title ?? facet?.field?.label}</Header>\n      <div className=\"ui form date-time-widget-wrapper\">\n        <div className=\"ui input date-input\">\n          <DateRangePicker\n            startDate={value && value[0] ? moment(value[0]) : null}\n            startDateId={`${facet['@id']}-start-date`}\n            startDatePlaceholderText={intl.formatMessage(messages.startDate)}\n            endDate={value && value[1] ? moment(value[1]) : null}\n            endDateId={`${facet['@id']}-end-date`}\n            endDatePlaceholderText={intl.formatMessage(messages.endDate)}\n            numberOfMonths={1}\n            disabled={isEditMode}\n            noBorder\n            showClearDates\n            customCloseIcon={<CloseIcon />}\n            displayFormat={moment.localeData(lang).longDateFormat('L')}\n            focusedInput={focused}\n            onFocusChange={(focusedInput) => setFocused(focusedInput)}\n            onDatesChange={({ startDate, endDate }) => {\n              onChange(facet.field.value, [\n                startDate ? startDate.format('YYYY-MM-DD') : null,\n                endDate ? endDate.format('YYYY-MM-DD') : null,\n              ]);\n            }}\n            isOutsideRange={() => false}\n            navPrev={<PrevIcon />}\n            navNext={<NextIcon />}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nDateRangeFacet.stateToValue = ({ facetSettings, index, selectedValue }) => {\n  return selectedValue || [null, null];\n};\n\nDateRangeFacet.valueToQuery = ({ value, facet }) => {\n  return value && typeof value[0] === 'string' && typeof value[1] === 'string'\n    ? {\n        i: facet.field.value,\n        o: 'plone.app.querystring.operation.date.between',\n        v: value,\n      }\n    : null;\n};\n\nexport default compose(\n  injectLazyLibs(['reactDates', 'moment']),\n  connect((state) => ({\n    lang: state.intl.locale,\n  })),\n  injectIntl,\n)(DateRangeFacet);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Start Date","defaultMessage":"Start Date"},{"id":"End Date","defaultMessage":"End Date"}]}},"sourceType":"module","externalDependencies":[]}