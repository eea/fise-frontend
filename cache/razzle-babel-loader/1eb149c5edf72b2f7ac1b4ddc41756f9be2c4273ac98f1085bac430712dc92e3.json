{"ast":null,"code":"import _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { combineReducers, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { save, load } from 'redux-localstorage-simple';\nimport config from '@plone/volto/registry';\nimport reducers from '@root/reducers';\nimport { api, crashReporter, blacklistRoutes, protectLoadStart, protectLoadEnd, loadProtector } from '@plone/volto/middleware';\nvar configureStore = function configureStore(initialState, history, apiHelper) {\n  var stack = [blacklistRoutes, protectLoadStart, routerMiddleware(history), crashReporter, thunk].concat(_toConsumableArray(apiHelper ? [api(apiHelper)] : []), [protectLoadEnd], _toConsumableArray(__CLIENT__ ? [save({\n    states: config.settings.persistentReducers,\n    debounce: 500\n  })] : []));\n  stack = config.settings.storeExtenders.reduce(function (acc, extender) {\n    return extender(acc);\n  }, stack);\n  var middlewares = composeWithDevTools(applyMiddleware.apply(void 0, _toConsumableArray(stack)));\n  var store = createStore(combineReducers(_objectSpread(_objectSpread(_objectSpread({\n    router: connectRouter(history)\n  }, reducers), config.addonReducers), {}, {\n    loadProtector: loadProtector\n  })), _objectSpread(_objectSpread({}, initialState), __CLIENT__ ? load({\n    states: config.settings.persistentReducers\n  }) : {}), middlewares);\n  return store;\n};\nexport default configureStore;","map":{"version":3,"names":["combineReducers","createStore","applyMiddleware","thunk","composeWithDevTools","connectRouter","routerMiddleware","save","load","config","reducers","api","crashReporter","blacklistRoutes","protectLoadStart","protectLoadEnd","loadProtector","configureStore","initialState","history","apiHelper","stack","__CLIENT__","states","settings","persistentReducers","debounce","storeExtenders","reduce","acc","extender","middlewares","store","router","addonReducers"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/store.js"],"sourcesContent":["import { combineReducers, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { save, load } from 'redux-localstorage-simple';\n\nimport config from '@plone/volto/registry';\nimport reducers from '@root/reducers';\n\nimport {\n  api,\n  crashReporter,\n  blacklistRoutes,\n  protectLoadStart,\n  protectLoadEnd,\n  loadProtector,\n} from '@plone/volto/middleware';\n\nconst configureStore = (initialState, history, apiHelper) => {\n  let stack = [\n    blacklistRoutes,\n    protectLoadStart,\n    routerMiddleware(history),\n    crashReporter,\n    thunk,\n    ...(apiHelper ? [api(apiHelper)] : []),\n    protectLoadEnd,\n    ...(__CLIENT__\n      ? [save({ states: config.settings.persistentReducers, debounce: 500 })]\n      : []),\n  ];\n  stack = config.settings.storeExtenders.reduce(\n    (acc, extender) => extender(acc),\n    stack,\n  );\n  const middlewares = composeWithDevTools(applyMiddleware(...stack));\n  const store = createStore(\n    combineReducers({\n      router: connectRouter(history),\n      ...reducers,\n      ...config.addonReducers,\n      loadProtector,\n    }),\n    {\n      ...initialState,\n      ...(__CLIENT__\n        ? load({ states: config.settings.persistentReducers })\n        : {}),\n    },\n    middlewares,\n  );\n\n  return store;\n};\n\nexport default configureStore;\n"],"mappings":";;AAAA,SAASA,eAAe,EAAEC,WAAW,EAAEC,eAAe,QAAQ,OAAO;AACrE,OAAOC,KAAK,MAAM,aAAa;AAC/B,SAASC,mBAAmB,QAAQ,0CAA0C;AAC9E,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,wBAAwB;AACxE,SAASC,IAAI,EAAEC,IAAI,QAAQ,2BAA2B;AAEtD,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,OAAOC,QAAQ,MAAM,gBAAgB;AAErC,SACEC,GAAG,EACHC,aAAa,EACbC,eAAe,EACfC,gBAAgB,EAChBC,cAAc,EACdC,aAAa,QACR,yBAAyB;AAEhC,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIC,YAAY,EAAEC,OAAO,EAAEC,SAAS,EAAK;EAC3D,IAAIC,KAAK,IACPR,eAAe,EACfC,gBAAgB,EAChBR,gBAAgB,CAACa,OAAO,CAAC,EACzBP,aAAa,EACbT,KAAK,4BACDiB,SAAS,GAAG,CAACT,GAAG,CAACS,SAAS,CAAC,CAAC,GAAG,EAAE,IACrCL,cAAc,sBACVO,UAAU,GACV,CAACf,IAAI,CAAC;IAAEgB,MAAM,EAAEd,MAAM,CAACe,QAAQ,CAACC,kBAAkB;IAAEC,QAAQ,EAAE;EAAI,CAAC,CAAC,CAAC,GACrE,EAAE,EACP;EACDL,KAAK,GAAGZ,MAAM,CAACe,QAAQ,CAACG,cAAc,CAACC,MAAM,CAC3C,UAACC,GAAG,EAAEC,QAAQ;IAAA,OAAKA,QAAQ,CAACD,GAAG,CAAC;EAAA,GAChCR,KAAK,CACN;EACD,IAAMU,WAAW,GAAG3B,mBAAmB,CAACF,eAAe,kCAAImB,KAAK,EAAC,CAAC;EAClE,IAAMW,KAAK,GAAG/B,WAAW,CACvBD,eAAe;IACbiC,MAAM,EAAE5B,aAAa,CAACc,OAAO;EAAC,GAC3BT,QAAQ,GACRD,MAAM,CAACyB,aAAa;IACvBlB,aAAa,EAAbA;EAAa,GACb,kCAEGE,YAAY,GACXI,UAAU,GACVd,IAAI,CAAC;IAAEe,MAAM,EAAEd,MAAM,CAACe,QAAQ,CAACC;EAAmB,CAAC,CAAC,GACpD,CAAC,CAAC,GAERM,WAAW,CACZ;EAED,OAAOC,KAAK;AACd,CAAC;AAED,eAAef,cAAc"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}