{"ast":null,"code":"import _toConsumableArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/components/SortOn.jsx\",\n  _this = this;\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Button } from 'semantic-ui-react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport cx from 'classnames';\nimport { compose } from 'redux';\nimport { Icon } from '@plone/volto/components';\nimport { Option, DropdownIndicator } from '@plone/volto/components/manage/Widgets/SelectStyling';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { selectTheme, sortOnSelectStyles } from './SelectStyling';\nimport upSVG from '@plone/volto/icons/sort-up.svg';\nimport downSVG from '@plone/volto/icons/sort-down.svg';\nvar messages = defineMessages({\n  noSelection: {\n    \"id\": \"No selection\",\n    \"defaultMessage\": \"No selection\"\n  },\n  sortOn: {\n    \"id\": \"Sort on\",\n    \"defaultMessage\": \"Sort on\"\n  },\n  ascending: {\n    \"id\": \"Ascending\",\n    \"defaultMessage\": \"Ascending\"\n  },\n  descending: {\n    \"id\": \"Descending\",\n    \"defaultMessage\": \"Descending\"\n  }\n});\nvar SortOn = function SortOn(props) {\n  var _data$query, _sortable_indexes$act;\n  var _props$data = props.data,\n    data = _props$data === void 0 ? {} : _props$data,\n    reactSelect = props.reactSelect,\n    _props$sortOn = props.sortOn,\n    sortOn = _props$sortOn === void 0 ? null : _props$sortOn,\n    _props$sortOrder = props.sortOrder,\n    sortOrder = _props$sortOrder === void 0 ? null : _props$sortOrder,\n    setSortOn = props.setSortOn,\n    setSortOrder = props.setSortOrder,\n    isEditMode = props.isEditMode,\n    _props$querystring = props.querystring,\n    querystring = _props$querystring === void 0 ? {} : _props$querystring,\n    intl = props.intl;\n  var sortable_indexes = querystring.sortable_indexes;\n  var Select = reactSelect[\"default\"];\n  var activeSortOn = sortOn || (data === null || data === void 0 ? void 0 : (_data$query = data.query) === null || _data$query === void 0 ? void 0 : _data$query.sort_on) || '';\n  var _data$sortOnOptions = data.sortOnOptions,\n    sortOnOptions = _data$sortOnOptions === void 0 ? [] : _data$sortOnOptions;\n  var value = {\n    value: activeSortOn || intl.formatMessage(messages.noSelection),\n    label: activeSortOn && sortable_indexes ? (_sortable_indexes$act = sortable_indexes[activeSortOn]) === null || _sortable_indexes$act === void 0 ? void 0 : _sortable_indexes$act.title : activeSortOn || intl.formatMessage(messages.noSelection)\n  };\n  return __jsx(\"div\", {\n    className: \"search-sort-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"search-sort-on\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, data.sortOnLabel && __jsx(\"span\", {\n    className: \"sort-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, data.sortOnLabel), __jsx(Select, {\n    id: \"select-search-sort-on\",\n    name: \"select-searchblock-sort-on\",\n    className: \"search-react-select-container\",\n    classNamePrefix: \"react-select\",\n    placeholder: intl.formatMessage(messages.sortOn),\n    styles: sortOnSelectStyles,\n    theme: selectTheme,\n    components: {\n      DropdownIndicator: DropdownIndicator,\n      Option: Option\n    },\n    options: _toConsumableArray(sortOnOptions.map(function (k) {\n      var _sortable_indexes$k;\n      return {\n        value: k,\n        label: ((_sortable_indexes$k = sortable_indexes[k]) === null || _sortable_indexes$k === void 0 ? void 0 : _sortable_indexes$k.title) || k\n      };\n    })),\n    value: value,\n    onChange: function onChange(data) {\n      !isEditMode && setSortOn(data.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), __jsx(Button, {\n    icon: true,\n    basic: true,\n    compact: true,\n    title: intl.formatMessage(messages.ascending),\n    className: cx({\n      active: sortOrder === 'ascending'\n    }),\n    onClick: function onClick() {\n      !isEditMode && setSortOrder('ascending');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    name: upSVG,\n    size: \"25px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  })), __jsx(Button, {\n    icon: true,\n    basic: true,\n    compact: true,\n    title: intl.formatMessage(messages.descending),\n    className: cx({\n      active: sortOrder === 'descending'\n    }),\n    onClick: function onClick() {\n      !isEditMode && setSortOrder('descending');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    name: downSVG,\n    size: \"25px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  })));\n};\n_c = SortOn;\nexport default compose(injectIntl, injectLazyLibs(['reactSelect']))(SortOn);\nvar _c;\n$RefreshReg$(_c, \"SortOn\");","map":{"version":3,"names":["React","Button","defineMessages","injectIntl","cx","compose","Icon","Option","DropdownIndicator","injectLazyLibs","selectTheme","sortOnSelectStyles","upSVG","downSVG","messages","noSelection","sortOn","ascending","descending","SortOn","props","data","reactSelect","sortOrder","setSortOn","setSortOrder","isEditMode","querystring","intl","sortable_indexes","Select","activeSortOn","query","sort_on","sortOnOptions","value","formatMessage","label","title","sortOnLabel","map","k","active"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/components/SortOn.jsx"],"sourcesContent":["import React from 'react';\nimport { Button } from 'semantic-ui-react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport cx from 'classnames';\nimport { compose } from 'redux';\nimport { Icon } from '@plone/volto/components';\nimport {\n  Option,\n  DropdownIndicator,\n} from '@plone/volto/components/manage/Widgets/SelectStyling';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { selectTheme, sortOnSelectStyles } from './SelectStyling';\n\nimport upSVG from '@plone/volto/icons/sort-up.svg';\nimport downSVG from '@plone/volto/icons/sort-down.svg';\n\nconst messages = defineMessages({\n  noSelection: {\n    id: 'No selection',\n    defaultMessage: 'No selection',\n  },\n  sortOn: {\n    id: 'Sort on',\n    defaultMessage: 'Sort on',\n  },\n  ascending: {\n    id: 'Ascending',\n    defaultMessage: 'Ascending',\n  },\n  descending: {\n    id: 'Descending',\n    defaultMessage: 'Descending',\n  },\n});\n\nconst SortOn = (props) => {\n  const {\n    data = {},\n    reactSelect,\n    sortOn = null,\n    sortOrder = null,\n    setSortOn,\n    setSortOrder,\n    isEditMode,\n    querystring = {},\n    intl,\n  } = props;\n  const { sortable_indexes } = querystring;\n  const Select = reactSelect.default;\n\n  const activeSortOn = sortOn || data?.query?.sort_on || '';\n\n  const { sortOnOptions = [] } = data;\n  const value = {\n    value: activeSortOn || intl.formatMessage(messages.noSelection),\n    label:\n      activeSortOn && sortable_indexes\n        ? sortable_indexes[activeSortOn]?.title\n        : activeSortOn || intl.formatMessage(messages.noSelection),\n  };\n\n  return (\n    <div className=\"search-sort-wrapper\">\n      <div className=\"search-sort-on\">\n        {data.sortOnLabel && (\n          <span className=\"sort-label\">{data.sortOnLabel}</span>\n        )}\n        <Select\n          id=\"select-search-sort-on\"\n          name=\"select-searchblock-sort-on\"\n          className=\"search-react-select-container\"\n          classNamePrefix=\"react-select\"\n          placeholder={intl.formatMessage(messages.sortOn)}\n          styles={sortOnSelectStyles}\n          theme={selectTheme}\n          components={{ DropdownIndicator, Option }}\n          options={[\n            ...sortOnOptions.map((k) => ({\n              value: k,\n              label: sortable_indexes[k]?.title || k,\n            })),\n          ]}\n          value={value}\n          onChange={(data) => {\n            !isEditMode && setSortOn(data.value);\n          }}\n        />\n      </div>\n      <Button\n        icon\n        basic\n        compact\n        title={intl.formatMessage(messages.ascending)}\n        className={cx({\n          active: sortOrder === 'ascending',\n        })}\n        onClick={() => {\n          !isEditMode && setSortOrder('ascending');\n        }}\n      >\n        <Icon name={upSVG} size=\"25px\" />\n      </Button>\n      <Button\n        icon\n        basic\n        compact\n        title={intl.formatMessage(messages.descending)}\n        className={cx({\n          active: sortOrder === 'descending',\n        })}\n        onClick={() => {\n          !isEditMode && setSortOrder('descending');\n        }}\n      >\n        <Icon name={downSVG} size=\"25px\" />\n      </Button>\n    </div>\n  );\n};\n\nexport default compose(injectIntl, injectLazyLibs(['reactSelect']))(SortOn);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"No selection","defaultMessage":"No selection"},{"id":"Sort on","defaultMessage":"Sort on"},{"id":"Ascending","defaultMessage":"Ascending"},{"id":"Descending","defaultMessage":"Descending"}]}},"sourceType":"module","externalDependencies":[]}