{"ast":null,"code":"const _excluded = [\"block\", \"items\"];\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-listing-block/src/blocks/Listing/layout-templates/Carousel.jsx\";\nvar __jsx = React.createElement;\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport loadable from '@loadable/component';\nimport UniversalCard from '@eeacms/volto-listing-block/components/UniversalCard/UniversalCard';\nimport ResponsiveContainer from '@eeacms/volto-listing-block/components/ResponsiveContainer';\nconst Slider = loadable({\n  resolved: {},\n  chunkName() {\n    return \"react-slick\";\n  },\n  isReady(props) {\n    var key = this.resolve(props);\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n    return false;\n  },\n  importAsync: () => import( /* webpackChunkName: \"react-slick\" */'react-slick'),\n  requireAsync(props) {\n    var _this = this;\n    var key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(function (resolved) {\n      _this.resolved[key] = true;\n      return resolved;\n    });\n  },\n  requireSync(props) {\n    var id = this.resolve(props);\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n    return eval('module.require')(id);\n  },\n  resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"react-slick\");\n    }\n    return eval('require.resolve')(\"react-slick\");\n  }\n});\nconst tabletBreakpoint = 768;\nconst mobileBreakpoint = 480;\nconst getSlidesToShow = (items, _slidesToShow) => {\n  if (_slidesToShow <= 0) return 1;\n  if (items.length >= _slidesToShow) return parseInt(_slidesToShow);\n  return items.length;\n};\nconst getSlidesToScroll = (items, _slidesToShow, _slidesToScroll) => {\n  if (_slidesToScroll <= 0) return 1;\n  const slidesToShow = getSlidesToShow(items, _slidesToShow);\n  if (slidesToShow >= _slidesToScroll) return parseInt(_slidesToScroll);\n  return slidesToShow;\n};\nconst Arrows = props => {\n  const {\n    slider = {}\n  } = props;\n  return __jsx(React.Fragment, null, __jsx(Button, {\n    \"aria-label\": \"Previous slide\",\n    className: \"slider-arrow prev-arrow tablet or lower hidden\",\n    icon: true,\n    onClick: () => {\n      if (slider.current) {\n        slider.current.slickPrev();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    className: \"ri-arrow-left-s-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  })), __jsx(Button, {\n    \"aria-label\": \"Next slide\",\n    className: \"slider-arrow next-arrow tablet or lower hidden\",\n    icon: true,\n    onClick: () => {\n      if (slider.current) {\n        slider.current.slickNext();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    className: \"ri-arrow-right-s-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  })));\n};\nconst CardsCarousel = _ref => {\n  let {\n      block,\n      items\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  const slider = React.useRef(null);\n  const [settings] = React.useState({\n    dots: true,\n    infinite: true,\n    arrows: false,\n    lazyLoad: 'progressive',\n    slidesToShow: getSlidesToShow(items, rest.slidesToShow || 4),\n    slidesToScroll: getSlidesToScroll(items, rest.slidesToShow || 4, rest.slidesToScroll || 1),\n    responsive: [{\n      breakpoint: tabletBreakpoint,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 1,\n        arrows: false\n      }\n    }, {\n      breakpoint: mobileBreakpoint,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        arrows: false\n      }\n    }]\n  });\n  return __jsx(ResponsiveContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, ({\n    parentWidth\n  }) => parentWidth ? __jsx(\"div\", {\n    className: \"cards-carousel\",\n    style: {\n      width: `${parentWidth}px`,\n      margin: '0 auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, __jsx(Slider, _extends({}, settings, {\n    ref: slider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), items.map((item, index) => __jsx(UniversalCard, _extends({\n    key: `card-${block}-${index}`\n  }, rest, {\n    block: block,\n    item: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  })))), items.length > settings.slidesToShow && __jsx(Arrows, {\n    slider: slider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 54\n    }\n  })) : null);\n};\nCardsCarousel.schemaEnhancer = args => {\n  const {\n    schema\n  } = args;\n  // const schema = UniversalCard.schemaEnhancer(args);\n\n  schema.fieldsets.splice(1, 0, {\n    id: 'carousel',\n    title: 'Carousel',\n    fields: ['slidesToShow', 'slidesToScroll']\n  });\n  return _objectSpread(_objectSpread({}, schema), {}, {\n    // fieldsets: [...schema.fieldsets, ,],\n    properties: _objectSpread(_objectSpread({}, schema.properties), {}, {\n      slidesToShow: {\n        title: 'Slides to show',\n        type: 'number',\n        default: 4,\n        minimum: 1\n      },\n      slidesToScroll: {\n        title: 'Slides to scroll',\n        type: 'number',\n        default: 1,\n        minimum: 1\n      }\n    })\n  });\n};\nexport default CardsCarousel;","map":{"version":3,"names":["React","Button","Icon","loadable","UniversalCard","ResponsiveContainer","Slider","tabletBreakpoint","mobileBreakpoint","getSlidesToShow","items","_slidesToShow","length","parseInt","getSlidesToScroll","_slidesToScroll","slidesToShow","Arrows","props","slider","current","slickPrev","slickNext","CardsCarousel","block","rest","useRef","settings","useState","dots","infinite","arrows","lazyLoad","slidesToScroll","responsive","breakpoint","parentWidth","width","margin","map","item","index","schemaEnhancer","args","schema","fieldsets","splice","id","title","fields","properties","type","default","minimum"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-listing-block/src/blocks/Listing/layout-templates/Carousel.jsx"],"sourcesContent":["import React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport loadable from '@loadable/component';\n\nimport UniversalCard from '@eeacms/volto-listing-block/components/UniversalCard/UniversalCard';\nimport ResponsiveContainer from '@eeacms/volto-listing-block/components/ResponsiveContainer';\n\nconst Slider = loadable(() => import('react-slick'));\n\nconst tabletBreakpoint = 768;\nconst mobileBreakpoint = 480;\n\nconst getSlidesToShow = (items, _slidesToShow) => {\n  if (_slidesToShow <= 0) return 1;\n  if (items.length >= _slidesToShow) return parseInt(_slidesToShow);\n  return items.length;\n};\n\nconst getSlidesToScroll = (items, _slidesToShow, _slidesToScroll) => {\n  if (_slidesToScroll <= 0) return 1;\n  const slidesToShow = getSlidesToShow(items, _slidesToShow);\n  if (slidesToShow >= _slidesToScroll) return parseInt(_slidesToScroll);\n  return slidesToShow;\n};\n\nconst Arrows = (props) => {\n  const { slider = {} } = props;\n\n  return (\n    <>\n      <Button\n        aria-label=\"Previous slide\"\n        className=\"slider-arrow prev-arrow tablet or lower hidden\"\n        icon\n        onClick={() => {\n          if (slider.current) {\n            slider.current.slickPrev();\n          }\n        }}\n      >\n        <Icon className=\"ri-arrow-left-s-line\" />\n      </Button>\n      <Button\n        aria-label=\"Next slide\"\n        className=\"slider-arrow next-arrow tablet or lower hidden\"\n        icon\n        onClick={() => {\n          if (slider.current) {\n            slider.current.slickNext();\n          }\n        }}\n      >\n        <Icon className=\"ri-arrow-right-s-line\" />\n      </Button>\n    </>\n  );\n};\n\nconst CardsCarousel = ({ block, items, ...rest }) => {\n  const slider = React.useRef(null);\n  const [settings] = React.useState({\n    dots: true,\n    infinite: true,\n    arrows: false,\n    lazyLoad: 'progressive',\n    slidesToShow: getSlidesToShow(items, rest.slidesToShow || 4),\n    slidesToScroll: getSlidesToScroll(\n      items,\n      rest.slidesToShow || 4,\n      rest.slidesToScroll || 1,\n    ),\n    responsive: [\n      {\n        breakpoint: tabletBreakpoint,\n        settings: {\n          slidesToShow: 3,\n          slidesToScroll: 1,\n          arrows: false,\n        },\n      },\n      {\n        breakpoint: mobileBreakpoint,\n        settings: {\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          arrows: false,\n        },\n      },\n    ],\n  });\n\n  return (\n    <ResponsiveContainer>\n      {({ parentWidth }) =>\n        parentWidth ? (\n          <div\n            className=\"cards-carousel\"\n            style={{ width: `${parentWidth}px`, margin: '0 auto' }}\n          >\n            <Slider {...settings} ref={slider}>\n              {items.map((item, index) => (\n                <UniversalCard\n                  key={`card-${block}-${index}`}\n                  {...rest}\n                  block={block}\n                  item={item}\n                />\n              ))}\n            </Slider>\n            {items.length > settings.slidesToShow && <Arrows slider={slider} />}\n          </div>\n        ) : null\n      }\n    </ResponsiveContainer>\n  );\n};\n\nCardsCarousel.schemaEnhancer = (args) => {\n  const { schema } = args;\n  // const schema = UniversalCard.schemaEnhancer(args);\n\n  schema.fieldsets.splice(1, 0, {\n    id: 'carousel',\n    title: 'Carousel',\n    fields: ['slidesToShow', 'slidesToScroll'],\n  });\n\n  return {\n    ...schema,\n    // fieldsets: [...schema.fieldsets, ,],\n    properties: {\n      ...schema.properties,\n      slidesToShow: {\n        title: 'Slides to show',\n        type: 'number',\n        default: 4,\n        minimum: 1,\n      },\n      slidesToScroll: {\n        title: 'Slides to scroll',\n        type: 'number',\n        default: 1,\n        minimum: 1,\n      },\n    },\n  };\n};\n\nexport default CardsCarousel;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}