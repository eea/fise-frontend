{"ast":null,"code":"import _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-plotlycharts/src/ConnectedChart2/Download.jsx\",\n  _this = this;\nvar __jsx = React.createElement;\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react';\nimport downloadSVG from '../static/download-cloud-fill.svg';\n// import { Icon } from '@plone/volto/components';\n\nimport { trackLink } from '@eeacms/volto-matomo/utils';\n// import { Button } from 'semantic-ui-react';\n\nfunction getHeaders(headers) {\n  var str = '';\n  headers.forEach(function (header) {\n    if (str !== '') str += ',';\n    if (header.includes(',')) {\n      str += \"\\\"\".concat(header, \"\\\"\");\n    } else {\n      str += header;\n    }\n  });\n  return str + '\\r\\n';\n}\nfunction getData(array) {\n  var str = '';\n  for (var i = 0; i < array.length; i++) {\n    var row = '';\n    for (var key in array[i]) {\n      var column = array[i][key];\n      if (row !== '') row += ',';\n      if (typeof column === 'number' && column.toString().includes(',') || typeof column === 'string' && column.includes(',')) {\n        row += \"\\\"\".concat(column, \"\\\"\");\n      } else {\n        row += column;\n      }\n    }\n    str += row + '\\r\\n';\n  }\n  return str;\n}\nfunction convertToCSV(array) {\n  var readme = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var headers = Object.keys(array[0]);\n  var str = getHeaders(headers);\n  str += getData(array);\n  for (var i = 0; i < 5; i++) {\n    str += '\\r\\n';\n  }\n  readme.forEach(function (text) {\n    str += text + '\\r\\n';\n  });\n  return str;\n}\nfunction convertMatrixToCSV(matrix) {\n  var readme = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var str = '';\n  matrix.forEach(function (array) {\n    str += getHeaders(Object.keys(array[0]));\n    str += getData(array);\n    for (var i = 0; i < 2; i++) {\n      str += '\\r\\n';\n    }\n  });\n  for (var i = 0; i < 3; i++) {\n    str += '\\r\\n';\n  }\n  readme.forEach(function (text) {\n    str += text + '\\r\\n';\n  });\n  return str;\n}\nfunction exportCSVFile(csv) {\n  var title = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'data';\n  var fileTitle = title.toLowerCase().replace(' ', '_');\n  var exportedFilenmae = fileTitle.includes('.csv') ? fileTitle : fileTitle + '.csv';\n  trackLink({\n    href: window.location.href + exportedFilenmae,\n    linkType: 'download'\n  });\n  var blob = new Blob([csv], {\n    type: 'text/csv;charset=utf-8;'\n  });\n  if (navigator.msSaveBlob) {\n    // IE 10+\n    navigator.msSaveBlob(blob, exportedFilenmae);\n  } else {\n    var link = document.createElement('a');\n    if (link.download !== undefined) {\n      // feature detection\n      // Browsers that support HTML5 download attribute\n      if (document) {\n        var url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', exportedFilenmae);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    }\n  }\n}\nvar spreadCoreMetadata = function spreadCoreMetadata(core_metadata, maxRowsProvData) {\n  var spread_metadata = {};\n  Object.keys(core_metadata).forEach(function (key) {\n    if (core_metadata[key].length > 0) {\n      core_metadata[key].forEach(function (item) {\n        Object.keys(item).forEach(function (subkey) {\n          if (!spread_metadata['Core metadata']) {\n            spread_metadata['Core metadata'] = [' '];\n          } else {\n            spread_metadata['Core metadata'].push(' ');\n          }\n          if (!spread_metadata[\"\".concat(key, \"_\").concat(subkey)]) {\n            spread_metadata[\"\".concat(key, \"_\").concat(subkey)] = [item[subkey]];\n          } else {\n            spread_metadata[\"\".concat(key, \"_\").concat(subkey)].push(item[subkey]);\n          }\n        });\n      });\n    }\n  });\n  var coreMaxRows = Object.values(spread_metadata).reduce(function (a, b) {\n    return a.length > b.length ? a : b;\n  }).length;\n  var maxRows = maxRowsProvData > coreMaxRows ? maxRowsProvData : coreMaxRows;\n  var evenMatrix = spread_metadata;\n  Object.entries(evenMatrix).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      key = _ref2[0],\n      items = _ref2[1];\n    if (items.length < maxRows) {\n      for (var i = items.length; i < maxRows; i++) {\n        items.push('');\n      }\n    }\n  });\n  return evenMatrix;\n};\nvar Download = function Download(props) {\n  var title = props.title,\n    provider_data = props.provider_data,\n    provider_metadata = props.provider_metadata,\n    providers_data = props.providers_data,\n    providers_metadata = props.providers_metadata,\n    core_metadata = props.core_metadata,\n    include_core_metadata_download = props.include_core_metadata_download;\n  var handleDownloadData = function handleDownloadData() {\n    var _core_metadata$data_p, _core_metadata$other_, _core_metadata$tempor;\n    var array = [];\n    var readme = provider_metadata !== null && provider_metadata !== void 0 && provider_metadata.readme ? [provider_metadata === null || provider_metadata === void 0 ? void 0 : provider_metadata.readme] : [];\n    var mappedData = _objectSpread({}, provider_data);\n    Object.entries(mappedData).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        items = _ref4[1];\n      items.forEach(function (item, index) {\n        if (!array[index]) array[index] = {};\n        array[index][key] = item;\n      });\n    });\n    var hasCoreMetadata = (core_metadata === null || core_metadata === void 0 ? void 0 : (_core_metadata$data_p = core_metadata.data_provenance) === null || _core_metadata$data_p === void 0 ? void 0 : _core_metadata$data_p.length) > 0 || (core_metadata === null || core_metadata === void 0 ? void 0 : (_core_metadata$other_ = core_metadata.other_organisation) === null || _core_metadata$other_ === void 0 ? void 0 : _core_metadata$other_.length) > 0 || (core_metadata === null || core_metadata === void 0 ? void 0 : (_core_metadata$tempor = core_metadata.temporal_coverage) === null || _core_metadata$tempor === void 0 ? void 0 : _core_metadata$tempor.length) > 0;\n    if (include_core_metadata_download && hasCoreMetadata) {\n      var maxRowsMappedData = Object.values(mappedData).reduce(function (a, b) {\n        return a.length > b.length ? a : b;\n      }).length;\n      Object.entries(spreadCoreMetadata(core_metadata, maxRowsMappedData)).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n          key = _ref6[0],\n          items = _ref6[1];\n        items.forEach(function (item, index) {\n          if (!array[index]) array[index] = {};\n          array[index][key] = item;\n        });\n      });\n    }\n    var csv = convertToCSV(array, readme);\n    exportCSVFile(csv, title);\n  };\n  var handleDownloadMultipleData = function handleDownloadMultipleData() {\n    var array = [];\n    var readme = [];\n    Object.keys(providers_data).forEach(function (pKey, pIndex) {\n      if (!array[pIndex]) array[pIndex] = [];\n      Object.entries(providers_data[pKey]).forEach(function (_ref7) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          items = _ref8[1];\n        items.forEach(function (item, index) {\n          if (!array[pIndex][index]) array[pIndex][index] = {};\n          array[pIndex][index][key] = item;\n          index++;\n        });\n      });\n    });\n    Object.keys(providers_metadata).forEach(function (pKey) {\n      if (providers_metadata[pKey].readme) {\n        readme.push(providers_metadata[pKey].readme);\n      }\n    });\n    var csv = convertMatrixToCSV(array, readme);\n    exportCSVFile(csv, title);\n  };\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"plotly-download-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }, provider_data && __jsx(\"img\", {\n    className: \"discreet plotly-download-button\",\n    title: \"Download data\",\n    alt: \"Download data\",\n    onClick: function onClick() {\n      return handleDownloadData();\n    },\n    src: downloadSVG,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }), providers_data && __jsx(\"img\", {\n    className: \"discreet plotly-download-button\",\n    title: \"Download data\",\n    alt: \"Download data\",\n    onClick: function onClick() {\n      return handleDownloadMultipleData();\n    },\n    src: downloadSVG,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  })));\n};\n_c = Download;\nexport default Download;\nvar _c;\n$RefreshReg$(_c, \"Download\");","map":{"version":3,"names":["React","downloadSVG","trackLink","getHeaders","headers","str","forEach","header","includes","getData","array","i","length","row","key","column","toString","convertToCSV","readme","Object","keys","text","convertMatrixToCSV","matrix","exportCSVFile","csv","title","fileTitle","toLowerCase","replace","exportedFilenmae","href","window","location","linkType","blob","Blob","type","navigator","msSaveBlob","link","document","createElement","download","undefined","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","spreadCoreMetadata","core_metadata","maxRowsProvData","spread_metadata","item","subkey","push","coreMaxRows","values","reduce","a","b","maxRows","evenMatrix","entries","items","Download","props","provider_data","provider_metadata","providers_data","providers_metadata","include_core_metadata_download","handleDownloadData","mappedData","index","hasCoreMetadata","data_provenance","other_organisation","temporal_coverage","maxRowsMappedData","handleDownloadMultipleData","pKey","pIndex"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-plotlycharts/src/ConnectedChart2/Download.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react';\nimport downloadSVG from '../static/download-cloud-fill.svg';\n// import { Icon } from '@plone/volto/components';\n\nimport { trackLink } from '@eeacms/volto-matomo/utils';\n// import { Button } from 'semantic-ui-react';\n\nfunction getHeaders(headers) {\n  let str = '';\n  headers.forEach((header) => {\n    if (str !== '') str += ',';\n    if (header.includes(',')) {\n      str += `\"${header}\"`;\n    } else {\n      str += header;\n    }\n  });\n  return str + '\\r\\n';\n}\n\nfunction getData(array) {\n  let str = '';\n  for (let i = 0; i < array.length; i++) {\n    let row = '';\n    for (let key in array[i]) {\n      const column = array[i][key];\n      if (row !== '') row += ',';\n      if (\n        (typeof column === 'number' && column.toString().includes(',')) ||\n        (typeof column === 'string' && column.includes(','))\n      ) {\n        row += `\"${column}\"`;\n      } else {\n        row += column;\n      }\n    }\n\n    str += row + '\\r\\n';\n  }\n\n  return str;\n}\n\nfunction convertToCSV(array, readme = []) {\n  const headers = Object.keys(array[0]);\n  let str = getHeaders(headers);\n\n  str += getData(array);\n\n  for (let i = 0; i < 5; i++) {\n    str += '\\r\\n';\n  }\n\n  readme.forEach((text) => {\n    str += text + '\\r\\n';\n  });\n\n  return str;\n}\n\nfunction convertMatrixToCSV(matrix, readme = []) {\n  let str = '';\n\n  matrix.forEach((array) => {\n    str += getHeaders(Object.keys(array[0]));\n    str += getData(array);\n    for (let i = 0; i < 2; i++) {\n      str += '\\r\\n';\n    }\n  });\n\n  for (let i = 0; i < 3; i++) {\n    str += '\\r\\n';\n  }\n\n  readme.forEach((text) => {\n    str += text + '\\r\\n';\n  });\n\n  return str;\n}\n\nfunction exportCSVFile(csv, title = 'data') {\n  let fileTitle = title.toLowerCase().replace(' ', '_');\n  let exportedFilenmae = fileTitle.includes('.csv')\n    ? fileTitle\n    : fileTitle + '.csv';\n  trackLink({\n    href: window.location.href + exportedFilenmae,\n    linkType: 'download',\n  });\n\n  let blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n  if (navigator.msSaveBlob) {\n    // IE 10+\n    navigator.msSaveBlob(blob, exportedFilenmae);\n  } else {\n    let link = document.createElement('a');\n    if (link.download !== undefined) {\n      // feature detection\n      // Browsers that support HTML5 download attribute\n      if (document) {\n        let url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', exportedFilenmae);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    }\n  }\n}\n\nconst spreadCoreMetadata = (core_metadata, maxRowsProvData) => {\n  let spread_metadata = {};\n  Object.keys(core_metadata).forEach((key) => {\n    if (core_metadata[key].length > 0) {\n      core_metadata[key].forEach((item) => {\n        Object.keys(item).forEach((subkey) => {\n          if (!spread_metadata['Core metadata']) {\n            spread_metadata['Core metadata'] = [' '];\n          } else {\n            spread_metadata['Core metadata'].push(' ');\n          }\n          if (!spread_metadata[`${key}_${subkey}`]) {\n            spread_metadata[`${key}_${subkey}`] = [item[subkey]];\n          } else {\n            spread_metadata[`${key}_${subkey}`].push(item[subkey]);\n          }\n        });\n      });\n    }\n  });\n\n  const coreMaxRows = Object.values(spread_metadata).reduce((a, b) =>\n    a.length > b.length ? a : b,\n  ).length;\n\n  const maxRows = maxRowsProvData > coreMaxRows ? maxRowsProvData : coreMaxRows;\n\n  let evenMatrix = spread_metadata;\n  Object.entries(evenMatrix).forEach(([key, items]) => {\n    if (items.length < maxRows) {\n      for (let i = items.length; i < maxRows; i++) {\n        items.push('');\n      }\n    }\n  });\n  return evenMatrix;\n};\n\nconst Download = (props) => {\n  const {\n    // sources,\n    // className,\n    title,\n    provider_data,\n    provider_metadata,\n    providers_data,\n    providers_metadata,\n    core_metadata,\n    include_core_metadata_download,\n  } = props;\n  const handleDownloadData = () => {\n    let array = [];\n    let readme = provider_metadata?.readme ? [provider_metadata?.readme] : [];\n    const mappedData = {\n      ...provider_data,\n    };\n    Object.entries(mappedData).forEach(([key, items]) => {\n      items.forEach((item, index) => {\n        if (!array[index]) array[index] = {};\n        array[index][key] = item;\n      });\n    });\n    const hasCoreMetadata =\n      core_metadata?.data_provenance?.length > 0 ||\n      core_metadata?.other_organisation?.length > 0 ||\n      core_metadata?.temporal_coverage?.length > 0;\n\n    if (include_core_metadata_download && hasCoreMetadata) {\n      const maxRowsMappedData = Object.values(mappedData).reduce((a, b) =>\n        a.length > b.length ? a : b,\n      ).length;\n\n      Object.entries(\n        spreadCoreMetadata(core_metadata, maxRowsMappedData),\n      ).forEach(([key, items]) => {\n        items.forEach((item, index) => {\n          if (!array[index]) array[index] = {};\n          array[index][key] = item;\n        });\n      });\n    }\n\n    const csv = convertToCSV(array, readme);\n    exportCSVFile(csv, title);\n  };\n\n  const handleDownloadMultipleData = () => {\n    let array = [];\n    let readme = [];\n    Object.keys(providers_data).forEach((pKey, pIndex) => {\n      if (!array[pIndex]) array[pIndex] = [];\n      Object.entries(providers_data[pKey]).forEach(([key, items]) => {\n        items.forEach((item, index) => {\n          if (!array[pIndex][index]) array[pIndex][index] = {};\n          array[pIndex][index][key] = item;\n          index++;\n        });\n      });\n    });\n    Object.keys(providers_metadata).forEach((pKey) => {\n      if (providers_metadata[pKey].readme) {\n        readme.push(providers_metadata[pKey].readme);\n      }\n    });\n    const csv = convertMatrixToCSV(array, readme);\n    exportCSVFile(csv, title);\n  };\n\n  return (\n    <>\n      <div className=\"plotly-download-container\">\n        {provider_data && (\n          <img\n            className=\"discreet plotly-download-button\"\n            title=\"Download data\"\n            alt=\"Download data\"\n            onClick={() => handleDownloadData()}\n            src={downloadSVG}\n          />\n        )}\n\n        {providers_data && (\n          <img\n            className=\"discreet plotly-download-button\"\n            title=\"Download data\"\n            alt=\"Download data\"\n            onClick={() => handleDownloadMultipleData()}\n            src={downloadSVG}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Download;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}