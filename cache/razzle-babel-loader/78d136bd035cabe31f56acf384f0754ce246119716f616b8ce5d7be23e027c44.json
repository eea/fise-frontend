{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/layout/TopSideFacets.jsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from 'react';\nimport { flushSync } from 'react-dom';\nimport { defineMessages, useIntl } from 'react-intl';\nimport { Button, Grid } from 'semantic-ui-react';\nimport { SearchInput, SearchDetails, Facets, FilterList, SortOn, ViewSwitcher } from '../components';\nconst messages = defineMessages({\n  searchButtonText: {\n    \"id\": \"Search\",\n    \"defaultMessage\": \"Search\"\n  }\n});\nconst FacetWrapper = ({\n  children\n}) => __jsx(Grid.Column, {\n  mobile: 12,\n  tablet: 4,\n  computer: 3,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 3\n  }\n}, children);\nconst TopSideFacets = props => {\n  var _data$facets;\n  const {\n    children,\n    data,\n    totalItems,\n    facets,\n    setFacets,\n    setSortOn,\n    setSortOrder,\n    sortOn,\n    sortOrder,\n    onTriggerSearch,\n    searchedText,\n    // search text for previous search\n    searchText,\n    // search text currently being entered (controlled input)\n    isEditMode,\n    querystring = {}\n    // searchData,\n    // mode = 'view',\n    // variation,\n  } = props;\n  const {\n    showSearchButton\n  } = data;\n  const isLive = !showSearchButton;\n  const intl = useIntl();\n  return __jsx(Grid, {\n    className: \"searchBlock-facets\",\n    stackable: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, data.headline && __jsx(Grid.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, __jsx(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, __jsx(\"h2\", {\n    className: \"headline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, data.headline))), __jsx(Grid.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, __jsx(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, (Object.keys(data).includes('showSearchInput') ? data.showSearchInput : true) && __jsx(\"div\", {\n    className: \"search-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, __jsx(SearchInput, _extends({}, props, {\n    isLive: isLive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  })), data.showSearchButton && __jsx(Button, {\n    primary: true,\n    onClick: () => onTriggerSearch(searchText),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, data.searchButtonLabel || intl.formatMessage(messages.searchButtonText))), __jsx(\"div\", {\n    className: \"search-filters-sort\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, __jsx(FilterList, _extends({}, props, {\n    isEditMode: isEditMode,\n    setFacets: f => {\n      flushSync(() => {\n        setFacets(f);\n        onTriggerSearch(searchedText || '', f);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  })), data.showSortOn && __jsx(SortOn, {\n    data: data,\n    querystring: querystring,\n    isEditMode: isEditMode,\n    sortOn: sortOn,\n    sortOrder: sortOrder,\n    setSortOn: sortOn => {\n      flushSync(() => {\n        setSortOn(sortOn);\n        onTriggerSearch(searchedText || '', facets, sortOn);\n      });\n    },\n    setSortOrder: sortOrder => {\n      flushSync(() => {\n        setSortOrder(sortOrder);\n        onTriggerSearch(searchedText || '', facets, sortOn, sortOrder);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }), data.availableViews && data.availableViews.length > 1 && __jsx(ViewSwitcher, _extends({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }))), ((_data$facets = data.facets) === null || _data$facets === void 0 ? void 0 : _data$facets.length) > 0 && __jsx(\"div\", {\n    className: \"facets\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, data.facetsTitle && __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 36\n    }\n  }, data.facetsTitle), __jsx(Grid, {\n    verticalAlign: \"bottom\",\n    columns: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, __jsx(Facets, {\n    data: data,\n    querystring: querystring,\n    facets: facets,\n    setFacets: f => {\n      flushSync(() => {\n        setFacets(f);\n        onTriggerSearch(searchedText || '', f);\n      });\n    },\n    facetWrapper: FacetWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }))), __jsx(SearchDetails, {\n    text: searchedText,\n    total: totalItems,\n    as: \"h5\",\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }))), __jsx(Grid.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, __jsx(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, children)));\n};\nexport default TopSideFacets;","map":{"version":3,"names":["React","flushSync","defineMessages","useIntl","Button","Grid","SearchInput","SearchDetails","Facets","FilterList","SortOn","ViewSwitcher","messages","searchButtonText","FacetWrapper","children","TopSideFacets","props","data","totalItems","facets","setFacets","setSortOn","setSortOrder","sortOn","sortOrder","onTriggerSearch","searchedText","searchText","isEditMode","querystring","showSearchButton","isLive","intl","headline","Object","keys","includes","showSearchInput","searchButtonLabel","formatMessage","f","showSortOn","availableViews","length","facetsTitle"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/layout/TopSideFacets.jsx"],"sourcesContent":["import React from 'react';\nimport { flushSync } from 'react-dom';\nimport { defineMessages, useIntl } from 'react-intl';\nimport { Button, Grid } from 'semantic-ui-react';\n\nimport {\n  SearchInput,\n  SearchDetails,\n  Facets,\n  FilterList,\n  SortOn,\n  ViewSwitcher,\n} from '../components';\n\nconst messages = defineMessages({\n  searchButtonText: {\n    id: 'Search',\n    defaultMessage: 'Search',\n  },\n});\n\nconst FacetWrapper = ({ children }) => (\n  <Grid.Column mobile={12} tablet={4} computer={3}>\n    {children}\n  </Grid.Column>\n);\n\nconst TopSideFacets = (props) => {\n  const {\n    children,\n    data,\n    totalItems,\n    facets,\n    setFacets,\n    setSortOn,\n    setSortOrder,\n    sortOn,\n    sortOrder,\n    onTriggerSearch,\n    searchedText, // search text for previous search\n    searchText, // search text currently being entered (controlled input)\n    isEditMode,\n    querystring = {},\n    // searchData,\n    // mode = 'view',\n    // variation,\n  } = props;\n  const { showSearchButton } = data;\n  const isLive = !showSearchButton;\n  const intl = useIntl();\n\n  return (\n    <Grid className=\"searchBlock-facets\" stackable>\n      {data.headline && (\n        <Grid.Row>\n          <Grid.Column>\n            <h2 className=\"headline\">{data.headline}</h2>\n          </Grid.Column>\n        </Grid.Row>\n      )}\n\n      <Grid.Row>\n        <Grid.Column>\n          {(Object.keys(data).includes('showSearchInput')\n            ? data.showSearchInput\n            : true) && (\n            <div className=\"search-wrapper\">\n              <SearchInput {...props} isLive={isLive} />\n              {data.showSearchButton && (\n                <Button primary onClick={() => onTriggerSearch(searchText)}>\n                  {data.searchButtonLabel ||\n                    intl.formatMessage(messages.searchButtonText)}\n                </Button>\n              )}\n            </div>\n          )}\n\n          <div className=\"search-filters-sort\">\n            <FilterList\n              {...props}\n              isEditMode={isEditMode}\n              setFacets={(f) => {\n                flushSync(() => {\n                  setFacets(f);\n                  onTriggerSearch(searchedText || '', f);\n                });\n              }}\n            />\n\n            {data.showSortOn && (\n              <SortOn\n                data={data}\n                querystring={querystring}\n                isEditMode={isEditMode}\n                sortOn={sortOn}\n                sortOrder={sortOrder}\n                setSortOn={(sortOn) => {\n                  flushSync(() => {\n                    setSortOn(sortOn);\n                    onTriggerSearch(searchedText || '', facets, sortOn);\n                  });\n                }}\n                setSortOrder={(sortOrder) => {\n                  flushSync(() => {\n                    setSortOrder(sortOrder);\n                    onTriggerSearch(\n                      searchedText || '',\n                      facets,\n                      sortOn,\n                      sortOrder,\n                    );\n                  });\n                }}\n              />\n            )}\n            {data.availableViews && data.availableViews.length > 1 && (\n              <ViewSwitcher {...props} />\n            )}\n          </div>\n          {data.facets?.length > 0 && (\n            <div className=\"facets\">\n              {data.facetsTitle && <h3>{data.facetsTitle}</h3>}\n              <Grid verticalAlign=\"bottom\" columns={12}>\n                <Facets\n                  data={data}\n                  querystring={querystring}\n                  facets={facets}\n                  setFacets={(f) => {\n                    flushSync(() => {\n                      setFacets(f);\n                      onTriggerSearch(searchedText || '', f);\n                    });\n                  }}\n                  facetWrapper={FacetWrapper}\n                />\n              </Grid>\n            </div>\n          )}\n          <SearchDetails\n            text={searchedText}\n            total={totalItems}\n            as=\"h5\"\n            data={data}\n          />\n        </Grid.Column>\n      </Grid.Row>\n\n      <Grid.Row>\n        <Grid.Column>{children}</Grid.Column>\n      </Grid.Row>\n    </Grid>\n  );\n};\n\nexport default TopSideFacets;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Search","defaultMessage":"Search"}]}},"sourceType":"module","externalDependencies":[]}