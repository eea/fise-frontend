{"ast":null,"code":"import _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _isString from \"lodash/isString\";\nimport _isObject from \"lodash/isObject\";\nimport _isArray from \"lodash/isArray\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-addons-forest/src/SearchBlock/View.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Form, Input } from 'semantic-ui-react';\nimport { compose } from 'redux';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport qs from 'query-string';\nimport { Icon } from '@plone/volto/components';\nimport zoomSVG from '@plone/volto/icons/zoom.svg';\nimport clearSVG from '@plone/volto/icons/clear.svg';\nimport config from '@plone/volto/registry';\nimport { quickResetSearchContent, quickSearchContent } from '../actions';\nimport Highlighter from 'react-highlight-words';\nimport './style.css';\nvar messages = defineMessages({\n  search: {\n    \"id\": \"Search\",\n    \"defaultMessage\": \"Search\"\n  },\n  searchSite: {\n    \"id\": \"Search Site\",\n    \"defaultMessage\": \"Search Site\"\n  }\n});\n\n/**\n * View search block component.\n * @class View\n * @extends Component\n */\nvar View = /*#__PURE__*/function (_Component) {\n  _inherits(View, _Component);\n  var _super = _createSuper(View);\n  function View(props) {\n    var _this;\n    _classCallCheck(this, View);\n    _this = _super.call(this, props);\n    _this.state = {\n      text: '',\n      apiRoot: new URL(config.settings.apiPath).pathname,\n      active: false,\n      query: {}\n    };\n    _this.linkFormContainer = /*#__PURE__*/React.createRef();\n    _this.linkInput = /*#__PURE__*/React.createRef();\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.handleClickOutside = _this.handleClickOutside.bind(_assertThisInitialized(_this));\n    _this.onSelectItem = _this.onSelectItem.bind(_assertThisInitialized(_this));\n    _this.onClose = _this.onClose.bind(_assertThisInitialized(_this));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.makeQuery = _this.makeQuery.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(View, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props$data, _this$props$data$quer, _this$props$data2, _this$props$data2$que;\n      if ((_this$props$data = this.props.data) !== null && _this$props$data !== void 0 && (_this$props$data$quer = _this$props$data.query) !== null && _this$props$data$quer !== void 0 && _this$props$data$quer.value && _isString(this.props.data.query.value)) {\n        var query = JSON.parse(this.props.data.query.value);\n        this.setState({\n          query: query\n        });\n      } else if ((_this$props$data2 = this.props.data) !== null && _this$props$data2 !== void 0 && (_this$props$data2$que = _this$props$data2.query) !== null && _this$props$data2$que !== void 0 && _this$props$data2$que.value && _isObject(this.props.data.query.value)) {\n        this.setState({\n          query: this.props.data.query.value\n        });\n      }\n      this.props.quickResetSearchContent();\n      document.addEventListener('mousedown', this.handleClickOutside, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('mousedown', this.handleClickOutside, false);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _prevProps$location,\n        _prevProps$location$s,\n        _this$props,\n        _this$props$location,\n        _this$props$location$,\n        _this2 = this,\n        _prevProps$data$query,\n        _this$props$data$quer2;\n      if ((_prevProps$location = prevProps.location) !== null && _prevProps$location !== void 0 && (_prevProps$location$s = _prevProps$location.state) !== null && _prevProps$location$s !== void 0 && _prevProps$location$s.text && (_this$props = this.props) !== null && _this$props !== void 0 && (_this$props$location = _this$props.location) !== null && _this$props$location !== void 0 && (_this$props$location$ = _this$props$location.state) !== null && _this$props$location$ !== void 0 && _this$props$location$.text) {\n        if (prevProps.location.state.text !== this.props.location.state.text) {\n          var _this$props2, _this$props2$location, _this$props2$location2;\n          this.setState({\n            text: (_this$props2 = this.props) === null || _this$props2 === void 0 ? void 0 : (_this$props2$location = _this$props2.location) === null || _this$props2$location === void 0 ? void 0 : (_this$props2$location2 = _this$props2$location.state) === null || _this$props2$location2 === void 0 ? void 0 : _this$props2$location2.text\n          }, function () {\n            var _this2$props$data, _this2$props$data2;\n            var title = (_this2$props$data = _this2.props.data) !== null && _this2$props$data !== void 0 && _this2$props$data.title ? \"&title=\".concat(_this2.props.data.title.value) : '';\n            var description = (_this2$props$data2 = _this2.props.data) !== null && _this2$props$data2 !== void 0 && _this2$props$data2.description ? \"&description=\".concat(_this2.props.data.description.value) : '';\n            _this2.props.history.push({\n              pathname: \"/search\",\n              search: \"?SearchableText=\".concat(_this2.state.text).concat(_this2.makeQuery()).concat(title).concat(description),\n              state: {\n                text: _this2.state.text\n              }\n            });\n          });\n        }\n      }\n      if (((_prevProps$data$query = prevProps.data.query) === null || _prevProps$data$query === void 0 ? void 0 : _prevProps$data$query.value) !== ((_this$props$data$quer2 = this.props.data.query) === null || _this$props$data$quer2 === void 0 ? void 0 : _this$props$data$quer2.value)) {\n        if (this.props.data.query.value && _isString(this.props.data.query.value)) {\n          var query = JSON.parse(this.props.data.query.value);\n          this.setState({\n            query: query\n          });\n        } else if (this.props.data.query.value && _isObject(this.props.data.query.value)) {\n          this.setState({\n            query: this.props.data.query.value\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(event) {\n      var _this$props$data3, _this$props$data4;\n      var title = (_this$props$data3 = this.props.data) !== null && _this$props$data3 !== void 0 && _this$props$data3.title ? \"&title=\".concat(this.props.data.title.value) : '';\n      var description = (_this$props$data4 = this.props.data) !== null && _this$props$data4 !== void 0 && _this$props$data4.description ? \"&description=\".concat(this.props.data.description.value) : '';\n      this.props.history.push({\n        pathname: \"/search\",\n        search: \"?SearchableText=\".concat(this.state.text).concat(this.makeQuery()).concat(title).concat(description),\n        state: {\n          text: this.state.text\n        }\n      });\n      this.setState({\n        active: false\n      });\n      event && event.preventDefault();\n    }\n  }, {\n    key: \"handleClickOutside\",\n    value: function handleClickOutside(e) {\n      if (this.linkFormContainer && !this.linkFormContainer.current.contains(e.target)) {\n        return this.setState({\n          active: false\n        });\n      } else {\n        this.setState({\n          active: true\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(event, _ref) {\n      var value = _ref.value;\n      if (value && value !== '') {\n        this.props.quickSearchContent('', _objectSpread({\n          SearchableText: \"*\".concat(value, \"*\")\n        }, this.makeQueryObject()));\n      } else {\n        this.props.quickResetSearchContent();\n      }\n      this.setState({\n        text: value\n      });\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      this.props.quickResetSearchContent();\n      this.setState({\n        active: false\n      });\n    }\n  }, {\n    key: \"onSelectItem\",\n    value: function onSelectItem(item) {\n      (item === null || item === void 0 ? void 0 : item['@id']) && this.props.history.push(item['@id']);\n      this.props.handleClose();\n      this.setState({\n        active: false\n      });\n    }\n  }, {\n    key: \"makeQuery\",\n    value: function makeQuery() {\n      var query = '';\n      this.state.query.properties && _isObject(this.state.query.properties) && Object.entries(this.state.query.properties).forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n          itemKey = _ref3[0],\n          item = _ref3[1];\n        if (_isArray(item.value)) {\n          item.value.forEach(function (value) {\n            query += \"&\".concat(itemKey, \":query=\").concat(value);\n          });\n        } else if (item.value) {\n          query += \"&\".concat(itemKey, \":query=\").concat(item.value);\n        }\n      });\n      return query;\n    }\n  }, {\n    key: \"makeQueryObject\",\n    value: function makeQueryObject() {\n      var queryObj = {};\n      this.state.query.properties && _isObject(this.state.query.properties) && Object.entries(this.state.query.properties).forEach(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n          itemKey = _ref5[0],\n          item = _ref5[1];\n        if (_isArray(item.value)) {\n          queryObj[itemKey] = item.value;\n        } else if (item.value) {\n          queryObj[itemKey] = [];\n          queryObj[itemKey].push(item.value);\n        }\n      });\n      return queryObj;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$data5,\n        _this$props$data5$sea,\n        _this$props$data6,\n        _this$props$data6$pla,\n        _this3 = this,\n        _this$props$data7,\n        _this$props$data7$sea,\n        _this$props$data8,\n        _this$props$data8$but,\n        _this$props$data9,\n        _this$props$data9$but;\n      return __jsx(\"div\", {\n        ref: this.linkFormContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 7\n        }\n      }, __jsx(Form, {\n        className: \"searchform\",\n        autoComplete: \"off\",\n        action: \"/search\",\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 9\n        }\n      }, __jsx(Form.Field, {\n        className: \"searchbox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }\n      }, __jsx(\"div\", {\n        style: {\n          width: '100%',\n          position: 'relative',\n          marginRight: (_this$props$data5 = this.props.data) !== null && _this$props$data5 !== void 0 && (_this$props$data5$sea = _this$props$data5.searchButton) !== null && _this$props$data5$sea !== void 0 && _this$props$data5$sea.value ? '1rem' : '0'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }\n      }, __jsx(Icon, {\n        className: \"searchIcon\",\n        onClick: this.onSubmit,\n        name: zoomSVG,\n        size: \"26px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 15\n        }\n      }), __jsx(Input, {\n        ref: this.linkInput,\n        \"aria-label\": this.props.intl.formatMessage(messages.search),\n        placeholder: ((_this$props$data6 = this.props.data) === null || _this$props$data6 === void 0 ? void 0 : (_this$props$data6$pla = _this$props$data6.placeholder) === null || _this$props$data6$pla === void 0 ? void 0 : _this$props$data6$pla.value) || this.props.intl.formatMessage(messages.searchSite),\n        title: this.props.intl.formatMessage(messages.search),\n        onChange: this.onChange,\n        value: this.state.text,\n        name: \"SearchableText\",\n        transparent: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }\n      }), this.state.text.length ? __jsx(Icon, {\n        className: \"clearIcon\",\n        name: clearSVG,\n        size: \"26px\",\n        onClick: function onClick() {\n          _this3.setState({\n            text: ''\n          });\n          _this3.onClose();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 17\n        }\n      }) : '', this.state.active && this.props.search && this.props.search.length ? __jsx(\"ul\", {\n        className: \"floating_search_results\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }\n      }, this.props.search.map(function (item, index) {\n        var _this3$state$text;\n        return __jsx(\"li\", {\n          key: \"\".concat(index, \"_\").concat(item['@id']),\n          onClick: function onClick() {\n            return _this3.onSelectItem(item);\n          },\n          role: \"presentation\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 23\n          }\n        }, __jsx(Highlighter, {\n          highlightClassName: \"highlight\",\n          searchWords: ((_this3$state$text = _this3.state.text) === null || _this3$state$text === void 0 ? void 0 : _this3$state$text.split(' ')) || [],\n          autoEscape: true,\n          textToHighlight: item.title,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }\n        }));\n      })) : ''), (_this$props$data7 = this.props.data) !== null && _this$props$data7 !== void 0 && (_this$props$data7$sea = _this$props$data7.searchButton) !== null && _this$props$data7$sea !== void 0 && _this$props$data7$sea.value ? __jsx(\"button\", {\n        \"aria-label\": this.props.intl.formatMessage(messages.search),\n        className: (_this$props$data8 = this.props.data) === null || _this$props$data8 === void 0 ? void 0 : (_this$props$data8$but = _this$props$data8.buttonClassName) === null || _this$props$data8$but === void 0 ? void 0 : _this$props$data8$but.value,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 15\n        }\n      }, (_this$props$data9 = this.props.data) === null || _this$props$data9 === void 0 ? void 0 : (_this$props$data9$but = _this$props$data9.buttonText) === null || _this$props$data9$but === void 0 ? void 0 : _this$props$data9$but.value) : '')));\n    }\n  }]);\n  return View;\n}(Component);\n/**\n * Property types.\n * @property {Object} propTypes Property types.\n * @static\n */\nView.propTypes = {\n  //   data: PropTypes.objectOf(PropTypes.any).isRequired,\n};\nexport default compose(withRouter, injectIntl, connect(function (state, props) {\n  return {\n    search: state.quicksearch.items,\n    path: qs.parse(props.location.search).path\n  };\n}, {\n  quickResetSearchContent: quickResetSearchContent,\n  quickSearchContent: quickSearchContent\n}))(View);","map":{"version":3,"names":["React","Component","withRouter","Form","Input","compose","defineMessages","injectIntl","connect","qs","Icon","zoomSVG","clearSVG","config","quickResetSearchContent","quickSearchContent","Highlighter","messages","search","searchSite","View","props","state","text","apiRoot","URL","settings","apiPath","pathname","active","query","linkFormContainer","createRef","linkInput","onSubmit","bind","handleClickOutside","onSelectItem","onClose","onChange","makeQuery","data","value","JSON","parse","setState","document","addEventListener","removeEventListener","prevProps","location","title","description","history","push","event","preventDefault","e","current","contains","target","SearchableText","makeQueryObject","item","handleClose","properties","Object","entries","forEach","itemKey","queryObj","width","position","marginRight","searchButton","intl","formatMessage","placeholder","length","map","index","split","buttonClassName","buttonText","propTypes","quicksearch","items","path"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-addons-forest/src/SearchBlock/View.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Form, Input } from 'semantic-ui-react';\nimport { compose } from 'redux';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport qs from 'query-string';\nimport { isArray, isObject, isString } from 'lodash';\nimport { Icon } from '@plone/volto/components';\nimport zoomSVG from '@plone/volto/icons/zoom.svg';\nimport clearSVG from '@plone/volto/icons/clear.svg';\nimport config from '@plone/volto/registry';\nimport { quickResetSearchContent, quickSearchContent } from '../actions';\nimport Highlighter from 'react-highlight-words';\nimport './style.css';\n\nconst messages = defineMessages({\n  search: {\n    id: 'Search',\n    defaultMessage: 'Search',\n  },\n  searchSite: {\n    id: 'Search Site',\n    defaultMessage: 'Search Site',\n  },\n});\n\n/**\n * View search block component.\n * @class View\n * @extends Component\n */\nclass View extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: '',\n      apiRoot: new URL(config.settings.apiPath).pathname,\n      active: false,\n      query: {},\n    };\n    this.linkFormContainer = React.createRef();\n    this.linkInput = React.createRef();\n    this.onSubmit = this.onSubmit.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n    this.onSelectItem = this.onSelectItem.bind(this);\n    this.onClose = this.onClose.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.makeQuery = this.makeQuery.bind(this);\n  }\n\n  componentDidMount() {\n    if (\n      this.props.data?.query?.value &&\n      isString(this.props.data.query.value)\n    ) {\n      const query = JSON.parse(this.props.data.query.value);\n      this.setState({ query });\n    } else if (\n      this.props.data?.query?.value &&\n      isObject(this.props.data.query.value)\n    ) {\n      this.setState({ query: this.props.data.query.value });\n    }\n    this.props.quickResetSearchContent();\n    document.addEventListener('mousedown', this.handleClickOutside, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside, false);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.location?.state?.text && this.props?.location?.state?.text) {\n      if (prevProps.location.state.text !== this.props.location.state.text) {\n        this.setState(\n          {\n            text: this.props?.location?.state?.text,\n          },\n          () => {\n            const title = this.props.data?.title\n              ? `&title=${this.props.data.title.value}`\n              : '';\n            const description = this.props.data?.description\n              ? `&description=${this.props.data.description.value}`\n              : '';\n            this.props.history.push({\n              pathname: `/search`,\n              search: `?SearchableText=${\n                this.state.text\n              }${this.makeQuery()}${title}${description}`,\n              state: { text: this.state.text },\n            });\n          },\n        );\n      }\n    }\n    if (prevProps.data.query?.value !== this.props.data.query?.value) {\n      if (\n        this.props.data.query.value &&\n        isString(this.props.data.query.value)\n      ) {\n        const query = JSON.parse(this.props.data.query.value);\n        this.setState({ query });\n      } else if (\n        this.props.data.query.value &&\n        isObject(this.props.data.query.value)\n      ) {\n        this.setState({ query: this.props.data.query.value });\n      }\n    }\n  }\n\n  onSubmit(event) {\n    const title = this.props.data?.title\n      ? `&title=${this.props.data.title.value}`\n      : '';\n    const description = this.props.data?.description\n      ? `&description=${this.props.data.description.value}`\n      : '';\n    this.props.history.push({\n      pathname: `/search`,\n      search: `?SearchableText=${\n        this.state.text\n      }${this.makeQuery()}${title}${description}`,\n      state: { text: this.state.text },\n    });\n    this.setState({ active: false });\n    event && event.preventDefault();\n  }\n\n  handleClickOutside(e) {\n    if (\n      this.linkFormContainer &&\n      !this.linkFormContainer.current.contains(e.target)\n    ) {\n      return this.setState({ active: false });\n    } else {\n      this.setState({ active: true });\n    }\n  }\n\n  onChange(event, { value }) {\n    if (value && value !== '') {\n      this.props.quickSearchContent('', {\n        SearchableText: `*${value}*`,\n        ...this.makeQueryObject(),\n      });\n    } else {\n      this.props.quickResetSearchContent();\n    }\n    this.setState({ text: value });\n  }\n\n  onClose() {\n    this.props.quickResetSearchContent();\n    this.setState({ active: false });\n  }\n\n  onSelectItem(item) {\n    item?.['@id'] && this.props.history.push(item['@id']);\n    this.props.handleClose();\n    this.setState({ active: false });\n  }\n  makeQuery() {\n    let query = '';\n    this.state.query.properties &&\n      isObject(this.state.query.properties) &&\n      Object.entries(this.state.query.properties).forEach(([itemKey, item]) => {\n        if (isArray(item.value)) {\n          item.value.forEach((value) => {\n            query += `&${itemKey}:query=${value}`;\n          });\n        } else if (item.value) {\n          query += `&${itemKey}:query=${item.value}`;\n        }\n      });\n    return query;\n  }\n\n  makeQueryObject() {\n    const queryObj = {};\n    this.state.query.properties &&\n      isObject(this.state.query.properties) &&\n      Object.entries(this.state.query.properties).forEach(([itemKey, item]) => {\n        if (isArray(item.value)) {\n          queryObj[itemKey] = item.value;\n        } else if (item.value) {\n          queryObj[itemKey] = [];\n          queryObj[itemKey].push(item.value);\n        }\n      });\n    return queryObj;\n  }\n\n  render() {\n    return (\n      <div ref={this.linkFormContainer}>\n        <Form\n          className=\"searchform\"\n          autoComplete=\"off\"\n          action=\"/search\"\n          onSubmit={this.onSubmit}\n        >\n          <Form.Field className=\"searchbox\">\n            <div\n              style={{\n                width: '100%',\n                position: 'relative',\n                marginRight: this.props.data?.searchButton?.value\n                  ? '1rem'\n                  : '0',\n              }}\n            >\n              <Icon\n                className=\"searchIcon\"\n                onClick={this.onSubmit}\n                name={zoomSVG}\n                size=\"26px\"\n              />\n              <Input\n                ref={this.linkInput}\n                aria-label={this.props.intl.formatMessage(messages.search)}\n                placeholder={\n                  this.props.data?.placeholder?.value ||\n                  this.props.intl.formatMessage(messages.searchSite)\n                }\n                title={this.props.intl.formatMessage(messages.search)}\n                onChange={this.onChange}\n                value={this.state.text}\n                name=\"SearchableText\"\n                transparent\n              />\n              {this.state.text.length ? (\n                <Icon\n                  className=\"clearIcon\"\n                  name={clearSVG}\n                  size=\"26px\"\n                  onClick={() => {\n                    this.setState({\n                      text: '',\n                    });\n                    this.onClose();\n                  }}\n                />\n              ) : (\n                ''\n              )}\n              {this.state.active &&\n              this.props.search &&\n              this.props.search.length ? (\n                <ul className=\"floating_search_results\">\n                  {this.props.search.map((item, index) => {\n                    return (\n                      <li\n                        key={`${index}_${item['@id']}`}\n                        onClick={() => this.onSelectItem(item)}\n                        role=\"presentation\"\n                      >\n                        <Highlighter\n                          highlightClassName=\"highlight\"\n                          searchWords={this.state.text?.split(' ') || []}\n                          autoEscape={true}\n                          textToHighlight={item.title}\n                        />\n                      </li>\n                    );\n                  })}\n                </ul>\n              ) : (\n                ''\n              )}\n            </div>\n            {this.props.data?.searchButton?.value ? (\n              <button\n                aria-label={this.props.intl.formatMessage(messages.search)}\n                className={this.props.data?.buttonClassName?.value}\n              >\n                {this.props.data?.buttonText?.value}\n              </button>\n            ) : (\n              ''\n            )}\n          </Form.Field>\n        </Form>\n      </div>\n    );\n  }\n}\n\n/**\n * Property types.\n * @property {Object} propTypes Property types.\n * @static\n */\nView.propTypes = {\n  //   data: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default compose(\n  withRouter,\n  injectIntl,\n  connect(\n    (state, props) => ({\n      search: state.quicksearch.items,\n      path: qs.parse(props.location.search).path,\n    }),\n    { quickResetSearchContent, quickSearchContent },\n  ),\n)(View);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Search","defaultMessage":"Search"},{"id":"Search Site","defaultMessage":"Search Site"}]}},"sourceType":"module","externalDependencies":[]}