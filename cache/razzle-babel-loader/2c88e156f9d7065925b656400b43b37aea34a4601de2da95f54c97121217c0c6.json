{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-forests-theme/src/components/theme/Header/HeaderImage.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { Placeholder } from 'semantic-ui-react';\nimport { flattenToAppURL } from '@plone/volto/helpers';\nimport HeaderNavigation from './HeaderNavigation';\nimport { connect } from 'react-redux';\nfunction HeaderImage(props) {\n  const isBig = props.bigImage ? props.bigImage : false;\n  const headerDimension = isBig ? 600 : 280;\n  const [contentCount, setContentCount] = React.useState(0);\n  const hasMetadata = props.metadata && props.metadata !== '<p><br/></p>'; //this is the DefaultEditor empty text\n\n  const imageContent = false && window.document ? window.document.getElementsByClassName('header-image-content') : '';\n  const ccount = imageContent && imageContent[0] ? imageContent[0].childElementCount : 0;\n  const pathName = props.pathname;\n  const hideHeaderContent = ['/header', '/head', '/footer'].includes(pathName);\n  React.useEffect(() => {\n    if (false) {\n      setContentCount(ccount);\n    }\n  }, [ccount]);\n  return props.url ? __jsx(\"div\", {\n    className: `header-image-wrapper ${isBig ? 'header-image-big' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(LazyLoadImage, {\n    className: \"header-image\"\n    // alt={image.alt}\n    ,\n    height: headerDimension,\n    effect: \"blur\",\n    style: {\n      backgroundImage: `url(${flattenToAppURL(props.url)})`\n    },\n    width: '100%',\n    visibleByDefault: true,\n    placeholder: __jsx(Placeholder, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, __jsx(Placeholder.Image, {\n      rectangular: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"header-image-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), !hideHeaderContent && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, props.content && contentCount === 0 ? __jsx(\"div\", {\n    className: \"header-image-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, props.content.title), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, props.content.description)) : __jsx(\"div\", {\n    className: \"header-image-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })), hasMetadata && __jsx(\"div\", {\n    className: \"header-meta-data\",\n    dangerouslySetInnerHTML: {\n      __html: props.metadata\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), props.navigationItems && props.leadNavigation && __jsx(HeaderNavigation, {\n    items: props.navigationItems,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  })) : __jsx(Placeholder, {\n    className: \"header-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, __jsx(Placeholder.Image, {\n    rectangular: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"header-image-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }));\n}\nexport default connect(state => ({\n  content: state.content.data\n}))(HeaderImage);","map":{"version":3,"names":["React","LazyLoadImage","Placeholder","flattenToAppURL","HeaderNavigation","connect","HeaderImage","props","isBig","bigImage","headerDimension","contentCount","setContentCount","useState","hasMetadata","metadata","imageContent","window","document","getElementsByClassName","ccount","childElementCount","pathName","pathname","hideHeaderContent","includes","useEffect","url","backgroundImage","content","title","description","__html","navigationItems","leadNavigation","state","data"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-forests-theme/src/components/theme/Header/HeaderImage.jsx"],"sourcesContent":["import React from 'react';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { Placeholder } from 'semantic-ui-react';\nimport { flattenToAppURL } from '@plone/volto/helpers';\nimport HeaderNavigation from './HeaderNavigation';\nimport { connect } from 'react-redux';\n\nfunction HeaderImage(props) {\n  const isBig = props.bigImage ? props.bigImage : false;\n  const headerDimension = isBig ? 600 : 280;\n  const [contentCount, setContentCount] = React.useState(0);\n\n  const hasMetadata = props.metadata && props.metadata !== '<p><br/></p>'; //this is the DefaultEditor empty text\n\n  const imageContent =\n    typeof window !== 'undefined' && window.document\n      ? window.document.getElementsByClassName('header-image-content')\n      : '';\n  const ccount =\n    imageContent && imageContent[0] ? imageContent[0].childElementCount : 0;\n\n  const pathName = props.pathname;\n  const hideHeaderContent = ['/header', '/head', '/footer'].includes(pathName);\n\n  React.useEffect(() => {\n    if (typeof window !== 'undefined') {\n      setContentCount(ccount);\n    }\n  }, [ccount]);\n\n  return props.url ? (\n    <div className={`header-image-wrapper ${isBig ? 'header-image-big' : ''}`}>\n      <LazyLoadImage\n        className=\"header-image\"\n        // alt={image.alt}\n        height={headerDimension}\n        effect=\"blur\"\n        style={{ backgroundImage: `url(${flattenToAppURL(props.url)})` }}\n        width={'100%'}\n        visibleByDefault={true}\n        placeholder={\n          <Placeholder>\n            <Placeholder.Image rectangular />\n          </Placeholder>\n        }\n      />\n      <div className=\"header-image-overlay\" />\n      {!hideHeaderContent && (\n        <React.Fragment>\n          {props.content && contentCount === 0 ? (\n            <div className=\"header-image-content\">\n              <h1>{props.content.title}</h1>\n              <p>{props.content.description}</p>\n            </div>\n          ) : (\n            <div className=\"header-image-content\" />\n          )}\n        </React.Fragment>\n      )}\n      {hasMetadata && (\n        <div\n          className=\"header-meta-data\"\n          dangerouslySetInnerHTML={{ __html: props.metadata }}\n        />\n      )}\n      {props.navigationItems && props.leadNavigation && (\n        <HeaderNavigation items={props.navigationItems} />\n      )}\n    </div>\n  ) : (\n    <Placeholder className=\"header-image\">\n      <Placeholder.Image rectangular />\n      <div className=\"header-image-content\" />\n    </Placeholder>\n  );\n}\n\nexport default connect((state) => ({\n  content: state.content.data,\n}))(HeaderImage);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}