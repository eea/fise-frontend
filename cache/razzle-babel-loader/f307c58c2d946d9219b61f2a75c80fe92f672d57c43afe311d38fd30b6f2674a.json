{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-accordion-block/src/components/manage/Blocks/Accordion/AccordionEdit.jsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { Icon as VoltoIcon } from '@plone/volto/components';\nimport cx from 'classnames';\nimport React from 'react';\nimport AnimateHeight from 'react-animate-height';\nimport { Accordion, Input, Icon } from 'semantic-ui-react';\nimport config from '@plone/volto/registry';\nexport default (props => {\n  var _accordionConfig$defa, _props$data, _props$data2, _props$data3, _props$data4;\n  const {\n    children,\n    handleTitleChange,\n    handleTitleClick,\n    uid,\n    panel,\n    data,\n    index\n  } = props;\n  const [activeIndex, setActiveIndex] = React.useState([0]);\n  const accordionConfig = config.blocks.blocksConfig.accordion;\n  const {\n    titleIcons\n  } = accordionConfig;\n  const handleClick = (e, itemProps) => {\n    const {\n      index\n    } = itemProps;\n    if (data.non_exclusive) {\n      const newIndex = activeIndex.indexOf(index) === -1 ? [...activeIndex, index] : activeIndex.filter(item => item !== index);\n      setActiveIndex(newIndex);\n    } else {\n      const newIndex = activeIndex.indexOf(index) === -1 ? [index] : activeIndex.filter(item => item !== index);\n      setActiveIndex(newIndex);\n    }\n  };\n  const isExclusive = index => {\n    return activeIndex.includes(index);\n  };\n  React.useEffect(() => {\n    return data.collapsed ? setActiveIndex([]) : setActiveIndex([0]);\n  }, [data.collapsed]);\n  return __jsx(Accordion, _extends({\n    className: data.styles ? data.styles.theme : accordionConfig === null || accordionConfig === void 0 ? void 0 : (_accordionConfig$defa = accordionConfig.defaults) === null || _accordionConfig$defa === void 0 ? void 0 : _accordionConfig$defa.theme\n  }, accordionConfig.options, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }), __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, __jsx(Accordion.Title, {\n    as: data.title_size,\n    active: isExclusive(index),\n    index: index,\n    onClick: handleClick,\n    className: cx('accordion-title', {\n      'align-arrow-left': !(props !== null && props !== void 0 && (_props$data = props.data) !== null && _props$data !== void 0 && _props$data.right_arrows),\n      'align-arrow-right': props === null || props === void 0 ? void 0 : (_props$data2 = props.data) === null || _props$data2 === void 0 ? void 0 : _props$data2.right_arrows\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, accordionConfig.semanticIcon ? __jsx(Icon, {\n    className: accordionConfig.semanticIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }) : isExclusive(index) ? __jsx(VoltoIcon, {\n    name: props !== null && props !== void 0 && (_props$data3 = props.data) !== null && _props$data3 !== void 0 && _props$data3.right_arrows ? titleIcons.opened.rightPosition : titleIcons.opened.leftPosition,\n    size: titleIcons.size,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }) : __jsx(VoltoIcon, {\n    name: props !== null && props !== void 0 && (_props$data4 = props.data) !== null && _props$data4 !== void 0 && _props$data4.right_arrows ? titleIcons.closed.rightPosition : titleIcons.closed.leftPosition,\n    size: titleIcons.size,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), !data.readOnlyTitles ? __jsx(Input, {\n    fluid: true,\n    className: \"input-accordion-title\",\n    transparent: true,\n    placeholder: \"Enter Title\",\n    value: (panel === null || panel === void 0 ? void 0 : panel.title) || '',\n    onClick: e => {\n      handleTitleClick();\n      e.stopPropagation();\n    },\n    onChange: e => handleTitleChange(e, [uid, panel]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }) : __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, panel === null || panel === void 0 ? void 0 : panel.title)), __jsx(AnimateHeight, {\n    animateOpacity: true,\n    duration: 500,\n    height: isExclusive(index) ? 'auto' : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, __jsx(Accordion.Content, {\n    active: isExclusive(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, children))));\n});","map":{"version":3,"names":["Icon","VoltoIcon","cx","React","AnimateHeight","Accordion","Input","config","props","children","handleTitleChange","handleTitleClick","uid","panel","data","index","activeIndex","setActiveIndex","useState","accordionConfig","blocks","blocksConfig","accordion","titleIcons","handleClick","e","itemProps","non_exclusive","newIndex","indexOf","filter","item","isExclusive","includes","useEffect","collapsed","styles","theme","defaults","options","title_size","right_arrows","semanticIcon","opened","rightPosition","leftPosition","size","closed","readOnlyTitles","title","stopPropagation"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-accordion-block/src/components/manage/Blocks/Accordion/AccordionEdit.jsx"],"sourcesContent":["import { Icon as VoltoIcon } from '@plone/volto/components';\nimport cx from 'classnames';\nimport React from 'react';\nimport AnimateHeight from 'react-animate-height';\nimport { Accordion, Input, Icon } from 'semantic-ui-react';\nimport config from '@plone/volto/registry';\n\nexport default (props) => {\n  const {\n    children,\n    handleTitleChange,\n    handleTitleClick,\n    uid,\n    panel,\n    data,\n    index,\n  } = props;\n  const [activeIndex, setActiveIndex] = React.useState([0]);\n  const accordionConfig = config.blocks.blocksConfig.accordion;\n  const { titleIcons } = accordionConfig;\n\n  const handleClick = (e, itemProps) => {\n    const { index } = itemProps;\n    if (data.non_exclusive) {\n      const newIndex =\n        activeIndex.indexOf(index) === -1\n          ? [...activeIndex, index]\n          : activeIndex.filter((item) => item !== index);\n\n      setActiveIndex(newIndex);\n    } else {\n      const newIndex =\n        activeIndex.indexOf(index) === -1\n          ? [index]\n          : activeIndex.filter((item) => item !== index);\n\n      setActiveIndex(newIndex);\n    }\n  };\n\n  const isExclusive = (index) => {\n    return activeIndex.includes(index);\n  };\n\n  React.useEffect(() => {\n    return data.collapsed ? setActiveIndex([]) : setActiveIndex([0]);\n  }, [data.collapsed]);\n\n  return (\n    <Accordion\n      className={\n        data.styles ? data.styles.theme : accordionConfig?.defaults?.theme\n      }\n      {...accordionConfig.options}\n    >\n      <React.Fragment>\n        <Accordion.Title\n          as={data.title_size}\n          active={isExclusive(index)}\n          index={index}\n          onClick={handleClick}\n          className={cx('accordion-title', {\n            'align-arrow-left': !props?.data?.right_arrows,\n            'align-arrow-right': props?.data?.right_arrows,\n          })}\n        >\n          {accordionConfig.semanticIcon ? (\n            <Icon className={accordionConfig.semanticIcon} />\n          ) : isExclusive(index) ? (\n            <VoltoIcon\n              name={\n                props?.data?.right_arrows\n                  ? titleIcons.opened.rightPosition\n                  : titleIcons.opened.leftPosition\n              }\n              size={titleIcons.size}\n            />\n          ) : (\n            <VoltoIcon\n              name={\n                props?.data?.right_arrows\n                  ? titleIcons.closed.rightPosition\n                  : titleIcons.closed.leftPosition\n              }\n              size={titleIcons.size}\n            />\n          )}\n          {!data.readOnlyTitles ? (\n            <Input\n              fluid\n              className=\"input-accordion-title\"\n              transparent\n              placeholder=\"Enter Title\"\n              value={panel?.title || ''}\n              onClick={(e) => {\n                handleTitleClick();\n                e.stopPropagation();\n              }}\n              onChange={(e) => handleTitleChange(e, [uid, panel])}\n            />\n          ) : (\n            <span>{panel?.title}</span>\n          )}\n        </Accordion.Title>\n        <AnimateHeight\n          animateOpacity\n          duration={500}\n          height={isExclusive(index) ? 'auto' : 0}\n        >\n          <Accordion.Content active={isExclusive(index)}>\n            {children}\n          </Accordion.Content>\n        </AnimateHeight>\n      </React.Fragment>\n    </Accordion>\n  );\n};\n"],"mappings":";;;AAAA,SAASA,IAAI,IAAIC,SAAS,QAAQ,yBAAyB;AAC3D,OAAOC,EAAE,MAAM,YAAY;AAC3B,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,aAAa,MAAM,sBAAsB;AAChD,SAASC,SAAS,EAAEC,KAAK,EAAEN,IAAI,QAAQ,mBAAmB;AAC1D,OAAOO,MAAM,MAAM,uBAAuB;AAE1C,gBAAgBC,KAAK,IAAK;EAAA;EACxB,MAAM;IACJC,QAAQ;IACRC,iBAAiB;IACjBC,gBAAgB;IAChBC,GAAG;IACHC,KAAK;IACLC,IAAI;IACJC;EACF,CAAC,GAAGP,KAAK;EACT,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGd,KAAK,CAACe,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACzD,MAAMC,eAAe,GAAGZ,MAAM,CAACa,MAAM,CAACC,YAAY,CAACC,SAAS;EAC5D,MAAM;IAAEC;EAAW,CAAC,GAAGJ,eAAe;EAEtC,MAAMK,WAAW,GAAG,CAACC,CAAC,EAAEC,SAAS,KAAK;IACpC,MAAM;MAAEX;IAAM,CAAC,GAAGW,SAAS;IAC3B,IAAIZ,IAAI,CAACa,aAAa,EAAE;MACtB,MAAMC,QAAQ,GACZZ,WAAW,CAACa,OAAO,CAACd,KAAK,CAAC,KAAK,CAAC,CAAC,GAC7B,CAAC,GAAGC,WAAW,EAAED,KAAK,CAAC,GACvBC,WAAW,CAACc,MAAM,CAAEC,IAAI,IAAKA,IAAI,KAAKhB,KAAK,CAAC;MAElDE,cAAc,CAACW,QAAQ,CAAC;IAC1B,CAAC,MAAM;MACL,MAAMA,QAAQ,GACZZ,WAAW,CAACa,OAAO,CAACd,KAAK,CAAC,KAAK,CAAC,CAAC,GAC7B,CAACA,KAAK,CAAC,GACPC,WAAW,CAACc,MAAM,CAAEC,IAAI,IAAKA,IAAI,KAAKhB,KAAK,CAAC;MAElDE,cAAc,CAACW,QAAQ,CAAC;IAC1B;EACF,CAAC;EAED,MAAMI,WAAW,GAAIjB,KAAK,IAAK;IAC7B,OAAOC,WAAW,CAACiB,QAAQ,CAAClB,KAAK,CAAC;EACpC,CAAC;EAEDZ,KAAK,CAAC+B,SAAS,CAAC,MAAM;IACpB,OAAOpB,IAAI,CAACqB,SAAS,GAAGlB,cAAc,CAAC,EAAE,CAAC,GAAGA,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;EAClE,CAAC,EAAE,CAACH,IAAI,CAACqB,SAAS,CAAC,CAAC;EAEpB,OACE,MAAC,SAAS;IACR,SAAS,EACPrB,IAAI,CAACsB,MAAM,GAAGtB,IAAI,CAACsB,MAAM,CAACC,KAAK,GAAGlB,eAAe,aAAfA,eAAe,gDAAfA,eAAe,CAAEmB,QAAQ,0DAAzB,sBAA2BD;EAC9D,GACGlB,eAAe,CAACoB,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,IAE3B,MAAC,KAAK,CAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACb,MAAC,SAAS,CAAC,KAAK;IACd,EAAE,EAAEzB,IAAI,CAAC0B,UAAW;IACpB,MAAM,EAAER,WAAW,CAACjB,KAAK,CAAE;IAC3B,KAAK,EAAEA,KAAM;IACb,OAAO,EAAES,WAAY;IACrB,SAAS,EAAEtB,EAAE,CAAC,iBAAiB,EAAE;MAC/B,kBAAkB,EAAE,EAACM,KAAK,aAALA,KAAK,8BAALA,KAAK,CAAEM,IAAI,wCAAX,YAAa2B,YAAY;MAC9C,mBAAmB,EAAEjC,KAAK,aAALA,KAAK,uCAALA,KAAK,CAAEM,IAAI,iDAAX,aAAa2B;IACpC,CAAC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEFtB,eAAe,CAACuB,YAAY,GAC3B,MAAC,IAAI;IAAC,SAAS,EAAEvB,eAAe,CAACuB,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,GAC/CV,WAAW,CAACjB,KAAK,CAAC,GACpB,MAAC,SAAS;IACR,IAAI,EACFP,KAAK,aAALA,KAAK,+BAALA,KAAK,CAAEM,IAAI,yCAAX,aAAa2B,YAAY,GACrBlB,UAAU,CAACoB,MAAM,CAACC,aAAa,GAC/BrB,UAAU,CAACoB,MAAM,CAACE,YACvB;IACD,IAAI,EAAEtB,UAAU,CAACuB,IAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACtB,GAEF,MAAC,SAAS;IACR,IAAI,EACFtC,KAAK,aAALA,KAAK,+BAALA,KAAK,CAAEM,IAAI,yCAAX,aAAa2B,YAAY,GACrBlB,UAAU,CAACwB,MAAM,CAACH,aAAa,GAC/BrB,UAAU,CAACwB,MAAM,CAACF,YACvB;IACD,IAAI,EAAEtB,UAAU,CAACuB,IAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAEzB,EACA,CAAChC,IAAI,CAACkC,cAAc,GACnB,MAAC,KAAK;IACJ,KAAK;IACL,SAAS,EAAC,uBAAuB;IACjC,WAAW;IACX,WAAW,EAAC,aAAa;IACzB,KAAK,EAAE,CAAAnC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEoC,KAAK,KAAI,EAAG;IAC1B,OAAO,EAAGxB,CAAC,IAAK;MACdd,gBAAgB,EAAE;MAClBc,CAAC,CAACyB,eAAe,EAAE;IACrB,CAAE;IACF,QAAQ,EAAGzB,CAAC,IAAKf,iBAAiB,CAACe,CAAC,EAAE,CAACb,GAAG,EAAEC,KAAK,CAAC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACpD,GAEF;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAOA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEoC,KAAK,CACpB,CACe,EAClB,MAAC,aAAa;IACZ,cAAc;IACd,QAAQ,EAAE,GAAI;IACd,MAAM,EAAEjB,WAAW,CAACjB,KAAK,CAAC,GAAG,MAAM,GAAG,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAExC,MAAC,SAAS,CAAC,OAAO;IAAC,MAAM,EAAEiB,WAAW,CAACjB,KAAK,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAC3CN,QAAQ,CACS,CACN,CACD,CACP;AAEhB,CAAC"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}