{"ast":null,"code":"import _toConsumableArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-block-style/src/index.js\",\n  _this = this;\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { BlockStyleWrapperEdit, BlockStyleWrapperView } from './BlockStyleWrapper';\nimport StyleSelectWidget from './Widgets/StyleSelect';\nimport AlignWidget from './Widgets/Align';\nimport StretchWidget from './Widgets/Stretch';\nimport TextAlignWidget from './Widgets/TextAlign';\nimport SliderWidget from './Widgets/Slider';\nimport SizeWidget from './Widgets/Size';\nimport SimpleColorPicker from './Widgets/SimpleColorPicker';\nimport QuadSizeWidget from './Widgets/QuadSize';\nimport './styles.less';\n\n/**\n * Given a block's config object, it wrapps the view and edit in style wrappers\n */\nexport var applyStyleWrapperToBlock = function applyStyleWrapperToBlock(blockConfig) {\n  var BaseEditComponent = blockConfig.edit;\n  var EditComponent = BaseEditComponent;\n  if (!EditComponent._styleWrapped) {\n    EditComponent = function EditComponent(props) {\n      return __jsx(BlockStyleWrapperEdit, _extends({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 7\n        }\n      }), __jsx(BaseEditComponent, _extends({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 9\n        }\n      })));\n    };\n    EditComponent.displayName = \"<EditBlockWithStyleWrapperFor(\".concat(blockConfig.id, \")>\");\n    EditComponent._styleWrapped = true;\n  }\n  var BaseViewComponent = blockConfig.view;\n  var ViewComponent = BaseViewComponent;\n  if (!ViewComponent._styleWrapped) {\n    ViewComponent = function ViewComponent(props) {\n      return __jsx(BlockStyleWrapperView, _extends({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 7\n        }\n      }), __jsx(BaseViewComponent, _extends({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }\n      })));\n    };\n    ViewComponent.displayName = \"<ViewBlockWithStyleWrapperFor(\".concat(blockConfig.id, \")>\");\n    ViewComponent._styleWrapped = true;\n  }\n  return _objectSpread(_objectSpread({}, blockConfig), {}, {\n    view: ViewComponent,\n    edit: EditComponent\n  });\n};\nvar applyConfig = function applyConfig(config) {\n  var settings = config.settings;\n  var whitelist = settings.pluggableStylesBlocksWhitelist;\n  var blacklist = settings.pluggableStylesBlocksBlacklist;\n  var blocksConfig = config.blocks.blocksConfig;\n  var okBlocks = Object.keys(blocksConfig).filter(function (name) {\n    return (blacklist ? !blacklist.includes(name) : true) && (whitelist ? whitelist.includes(name) : true);\n  });\n  okBlocks.forEach(function (name) {\n    blocksConfig[name] = applyStyleWrapperToBlock(blocksConfig[name]);\n  });\n  config.widgets.widget.style_select = StyleSelectWidget;\n  config.widgets.widget.style_align = AlignWidget; // avoid conflict for now\n  config.widgets.widget.style_stretch = StretchWidget; // Make stretch widget\n  config.widgets.widget.style_text_align = TextAlignWidget; // avoid conflict for now\n  config.widgets.widget.style_size = SizeWidget; // avoid conflict for now\n  config.widgets.widget.style_simple_color = SimpleColorPicker;\n  config.widgets.widget.slider = SliderWidget;\n  config.widgets.widget.quad_size = QuadSizeWidget;\n\n  // types of blocks that natively integrate with the volto-block-style and\n  // allow passing the style as a prop;\n  config.settings.integratesBlockStyles = _toConsumableArray(config.settings.integratesBlockStyles || []);\n\n  // Restrict block settings to Layout\n  if (config.settings.layoutOnlyBlockStyles === undefined) {\n    config.settings.layoutOnlyBlockStyles = false;\n  }\n  config.settings.available_colors = ['#bbdbec', '#9dc6d4', '#5a93aa', '#005d7b', '#003d53', '#ebefc6', '#bdd494', '#6bb535', '#1e8339', '#025e37', '#464b0b', '#b5c234', '#777b1a', '#f4f1bc', '#e1e070', '#0070ae', '#fce6dc', '#f39a86', '#e73d5c', '#b92f47', '#8e1206', '#fff6a6', '#ffe525', '#f7a600', '#b94b19', '#8d4107', '#000000', '#6f6f6e', '#929291', '#bcbcbc', '#e3e3e3', '#ffffff'];\n  return config;\n};\nexport default applyConfig;\nexport var installDemoStyles = function installDemoStyles(config) {\n  config.settings.pluggableStyles = [].concat(_toConsumableArray(config.settings.pluggableStyles || []), [{\n    id: 'greenBox',\n    title: 'Green box',\n    cssClass: 'green-demo-box'\n  }, {\n    id: 'blueShade',\n    title: 'Blue Shade',\n    cssClass: 'blue-demo-box',\n    previewComponent: function previewComponent(props) {\n      return __jsx(\"div\", {\n        className: \"\".concat(props.className, \" preview-blue-demo-box\"),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }\n      }, props.children);\n    },\n    viewComponent: function viewComponent(props) {\n      return __jsx(\"div\", {\n        className: \"blue-demo-box\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }, props.children);\n    }\n    // TODO: support also editComponent ?\n  }]);\n\n  return config;\n};","map":{"version":3,"names":["React","BlockStyleWrapperEdit","BlockStyleWrapperView","StyleSelectWidget","AlignWidget","StretchWidget","TextAlignWidget","SliderWidget","SizeWidget","SimpleColorPicker","QuadSizeWidget","applyStyleWrapperToBlock","blockConfig","BaseEditComponent","edit","EditComponent","_styleWrapped","props","displayName","id","BaseViewComponent","view","ViewComponent","applyConfig","config","settings","whitelist","pluggableStylesBlocksWhitelist","blacklist","pluggableStylesBlocksBlacklist","blocksConfig","blocks","okBlocks","Object","keys","filter","name","includes","forEach","widgets","widget","style_select","style_align","style_stretch","style_text_align","style_size","style_simple_color","slider","quad_size","integratesBlockStyles","layoutOnlyBlockStyles","undefined","available_colors","installDemoStyles","pluggableStyles","title","cssClass","previewComponent","className","children","viewComponent"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-block-style/src/index.js"],"sourcesContent":["import React from 'react';\nimport {\n  BlockStyleWrapperEdit,\n  BlockStyleWrapperView,\n} from './BlockStyleWrapper';\nimport StyleSelectWidget from './Widgets/StyleSelect';\nimport AlignWidget from './Widgets/Align';\nimport StretchWidget from './Widgets/Stretch';\n\nimport TextAlignWidget from './Widgets/TextAlign';\nimport SliderWidget from './Widgets/Slider';\nimport SizeWidget from './Widgets/Size';\nimport SimpleColorPicker from './Widgets/SimpleColorPicker';\nimport QuadSizeWidget from './Widgets/QuadSize';\n\nimport './styles.less';\n\n/**\n * Given a block's config object, it wrapps the view and edit in style wrappers\n */\nexport const applyStyleWrapperToBlock = (blockConfig) => {\n  const BaseEditComponent = blockConfig.edit;\n  let EditComponent = BaseEditComponent;\n  if (!EditComponent._styleWrapped) {\n    EditComponent = (props) => (\n      <BlockStyleWrapperEdit {...props}>\n        <BaseEditComponent {...props} />\n      </BlockStyleWrapperEdit>\n    );\n    EditComponent.displayName = `<EditBlockWithStyleWrapperFor(${blockConfig.id})>`;\n    EditComponent._styleWrapped = true;\n  }\n\n  const BaseViewComponent = blockConfig.view;\n  let ViewComponent = BaseViewComponent;\n  if (!ViewComponent._styleWrapped) {\n    ViewComponent = (props) => (\n      <BlockStyleWrapperView {...props}>\n        <BaseViewComponent {...props} />\n      </BlockStyleWrapperView>\n    );\n    ViewComponent.displayName = `<ViewBlockWithStyleWrapperFor(${blockConfig.id})>`;\n    ViewComponent._styleWrapped = true;\n  }\n  return {\n    ...blockConfig,\n    view: ViewComponent,\n    edit: EditComponent,\n  };\n};\n\nconst applyConfig = (config) => {\n  const { settings } = config;\n  const whitelist = settings.pluggableStylesBlocksWhitelist;\n  const blacklist = settings.pluggableStylesBlocksBlacklist;\n  const { blocksConfig } = config.blocks;\n\n  const okBlocks = Object.keys(blocksConfig).filter(\n    (name) =>\n      (blacklist ? !blacklist.includes(name) : true) &&\n      (whitelist ? whitelist.includes(name) : true),\n  );\n  okBlocks.forEach((name) => {\n    blocksConfig[name] = applyStyleWrapperToBlock(blocksConfig[name]);\n  });\n\n  config.widgets.widget.style_select = StyleSelectWidget;\n  config.widgets.widget.style_align = AlignWidget; // avoid conflict for now\n  config.widgets.widget.style_stretch = StretchWidget; // Make stretch widget\n  config.widgets.widget.style_text_align = TextAlignWidget; // avoid conflict for now\n  config.widgets.widget.style_size = SizeWidget; // avoid conflict for now\n  config.widgets.widget.style_simple_color = SimpleColorPicker;\n  config.widgets.widget.slider = SliderWidget;\n  config.widgets.widget.quad_size = QuadSizeWidget;\n\n  // types of blocks that natively integrate with the volto-block-style and\n  // allow passing the style as a prop;\n  config.settings.integratesBlockStyles = [\n    ...(config.settings.integratesBlockStyles || []),\n  ];\n\n  // Restrict block settings to Layout\n  if (config.settings.layoutOnlyBlockStyles === undefined) {\n    config.settings.layoutOnlyBlockStyles = false;\n  }\n\n  config.settings.available_colors = [\n    '#bbdbec',\n    '#9dc6d4',\n    '#5a93aa',\n    '#005d7b',\n    '#003d53',\n    '#ebefc6',\n    '#bdd494',\n    '#6bb535',\n    '#1e8339',\n    '#025e37',\n    '#464b0b',\n    '#b5c234',\n    '#777b1a',\n    '#f4f1bc',\n    '#e1e070',\n    '#0070ae',\n    '#fce6dc',\n    '#f39a86',\n    '#e73d5c',\n    '#b92f47',\n    '#8e1206',\n    '#fff6a6',\n    '#ffe525',\n    '#f7a600',\n    '#b94b19',\n    '#8d4107',\n    '#000000',\n    '#6f6f6e',\n    '#929291',\n    '#bcbcbc',\n    '#e3e3e3',\n    '#ffffff',\n  ];\n\n  return config;\n};\n\nexport default applyConfig;\n\nexport const installDemoStyles = (config) => {\n  config.settings.pluggableStyles = [\n    ...(config.settings.pluggableStyles || []),\n    {\n      id: 'greenBox',\n      title: 'Green box',\n      cssClass: 'green-demo-box',\n    },\n    {\n      id: 'blueShade',\n      title: 'Blue Shade',\n      cssClass: 'blue-demo-box',\n      previewComponent: (props) => (\n        <div className={`${props.className} preview-blue-demo-box`}>\n          {props.children}\n        </div>\n      ),\n      viewComponent: (props) => (\n        <div className=\"blue-demo-box\">{props.children}</div>\n      ),\n      // TODO: support also editComponent ?\n    },\n  ];\n\n  return config;\n};\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}