{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-forests-theme/src/customizations/volto/components/manage/Blocks/Video/View.jsx\";\nvar __jsx = React.createElement;\n/**\n * View video block.\n * @module components/manage/Blocks/Video/View\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Embed } from 'semantic-ui-react';\nimport cx from 'classnames';\nimport { isInternalURL, getParentUrl, flattenToAppURL } from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\n\n/**\n * View video block class.\n * @class View\n * @extends Component\n */\nconst View = ({\n  data\n}) => __jsx(\"div\", {\n  className: cx('block video align', {\n    center: !Boolean(data.align)\n  }, data.align),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 3\n  }\n}, data.url && __jsx(\"div\", {\n  className: cx('video-inner', {\n    'full-width': data.align === 'full'\n  }),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 7\n  }\n}, data.url.match('youtu') ? __jsx(React.Fragment, null, data.url.match('list') ? data.preview_image ? __jsx(Embed, {\n  url: `https://www.youtube.com/embed/videoseries?list=${data.url.match(/^.*\\?list=(.*)$/)[1]}`,\n  placeholder: isInternalURL(data.preview_image) ? `${flattenToAppURL(data.preview_image)}/@@images/image` : data.preview_image,\n  defaultActive: true,\n  autoplay: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 17\n  }\n}) : __jsx(Embed, {\n  url: `https://www.youtube.com/embed/videoseries?list=${data.url.match(/^.*\\?list=(.*)$/)[1]}`,\n  icon: \"play\",\n  defaultActive: true,\n  autoplay: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 17\n  }\n}) : data.preview_image ? __jsx(Embed, {\n  id: data.url.match(/.be\\//) ? data.url.match(/^.*\\.be\\/(.*)/)[1] : data.url.match(/^.*\\?v=(.*)$/)[1],\n  source: \"youtube\",\n  placeholder: isInternalURL(data.preview_image) ? `${flattenToAppURL(data.preview_image)}/@@images/image` : data.preview_image,\n  icon: \"play\",\n  autoplay: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 15\n  }\n}) : __jsx(Embed, {\n  id: data.url.match(/.be\\//) ? data.url.match(/^.*\\.be\\/(.*)/)[1] : data.url.match(/^.*\\?v=(.*)$/)[1],\n  source: \"youtube\",\n  icon: \"play\",\n  defaultActive: true,\n  autoplay: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 15\n  }\n})) : __jsx(React.Fragment, null, data.url.match('vimeo') ? data.preview_image ? __jsx(Embed, {\n  id: data.url.match(/^.*\\.com\\/(.*)/)[1],\n  source: \"vimeo\",\n  placeholder: isInternalURL(data.preview_image) ? `${flattenToAppURL(data.preview_image)}/@@images/image` : data.preview_image,\n  icon: \"play\",\n  autoplay: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 17\n  }\n}) : __jsx(Embed, {\n  id: data.url.match(/^.*\\.com\\/(.*)/)[1],\n  source: \"vimeo\",\n  icon: \"play\",\n  defaultActive: true,\n  autoplay: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 17\n  }\n}) : __jsx(React.Fragment, null, data.url.match('.mp4') || data.url.includes('cmshare.eea.europa.eu') ?\n// eslint-disable-next-line jsx-a11y/media-has-caption\n__jsx(\"video\", {\n  src: isInternalURL(data.url.replace(getParentUrl(config.settings.apiPath), '')) ? `${data.url}/@@download/file` : data.url,\n  controls: true,\n  poster: data.preview_image ? isInternalURL(data.preview_image) ? `${flattenToAppURL(data.preview_image)}/@@images/image` : data.preview_image : '',\n  type: \"video/mp4\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 19\n  }\n}) : __jsx(\"div\", {\n  className: \"invalidVideoFormat\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 19\n  }\n})))));\n\n/**\n * Property types.\n * @property {Object} propTypes Property types.\n * @static\n */\nView.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired\n};\nexport default View;","map":{"version":3,"names":["React","PropTypes","Embed","cx","isInternalURL","getParentUrl","flattenToAppURL","config","View","data","center","Boolean","align","url","match","preview_image","includes","replace","settings","apiPath","propTypes","objectOf","any","isRequired"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-forests-theme/src/customizations/volto/components/manage/Blocks/Video/View.jsx"],"sourcesContent":["/**\n * View video block.\n * @module components/manage/Blocks/Video/View\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Embed } from 'semantic-ui-react';\nimport cx from 'classnames';\nimport {\n  isInternalURL,\n  getParentUrl,\n  flattenToAppURL,\n} from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\n\n/**\n * View video block class.\n * @class View\n * @extends Component\n */\nconst View = ({ data }) => (\n  <div\n    className={cx(\n      'block video align',\n      {\n        center: !Boolean(data.align),\n      },\n      data.align,\n    )}\n  >\n    {data.url && (\n      <div\n        className={cx('video-inner', {\n          'full-width': data.align === 'full',\n        })}\n      >\n        {data.url.match('youtu') ? (\n          <>\n            {data.url.match('list') ? (\n              data.preview_image ? (\n                <Embed\n                  url={`https://www.youtube.com/embed/videoseries?list=${\n                    data.url.match(/^.*\\?list=(.*)$/)[1]\n                  }`}\n                  placeholder={\n                    isInternalURL(data.preview_image)\n                      ? `${flattenToAppURL(data.preview_image)}/@@images/image`\n                      : data.preview_image\n                  }\n                  defaultActive\n                  autoplay={false}\n                />\n              ) : (\n                <Embed\n                  url={`https://www.youtube.com/embed/videoseries?list=${\n                    data.url.match(/^.*\\?list=(.*)$/)[1]\n                  }`}\n                  icon=\"play\"\n                  defaultActive\n                  autoplay={false}\n                />\n              )\n            ) : data.preview_image ? (\n              <Embed\n                id={\n                  data.url.match(/.be\\//)\n                    ? data.url.match(/^.*\\.be\\/(.*)/)[1]\n                    : data.url.match(/^.*\\?v=(.*)$/)[1]\n                }\n                source=\"youtube\"\n                placeholder={\n                  isInternalURL(data.preview_image)\n                    ? `${flattenToAppURL(data.preview_image)}/@@images/image`\n                    : data.preview_image\n                }\n                icon=\"play\"\n                autoplay={false}\n              />\n            ) : (\n              <Embed\n                id={\n                  data.url.match(/.be\\//)\n                    ? data.url.match(/^.*\\.be\\/(.*)/)[1]\n                    : data.url.match(/^.*\\?v=(.*)$/)[1]\n                }\n                source=\"youtube\"\n                icon=\"play\"\n                defaultActive\n                autoplay={false}\n              />\n            )}\n          </>\n        ) : (\n          <>\n            {data.url.match('vimeo') ? (\n              data.preview_image ? (\n                <Embed\n                  id={data.url.match(/^.*\\.com\\/(.*)/)[1]}\n                  source=\"vimeo\"\n                  placeholder={\n                    isInternalURL(data.preview_image)\n                      ? `${flattenToAppURL(data.preview_image)}/@@images/image`\n                      : data.preview_image\n                  }\n                  icon=\"play\"\n                  autoplay={false}\n                />\n              ) : (\n                <Embed\n                  id={data.url.match(/^.*\\.com\\/(.*)/)[1]}\n                  source=\"vimeo\"\n                  icon=\"play\"\n                  defaultActive\n                  autoplay={false}\n                />\n              )\n            ) : (\n              <>\n                {data.url.match('.mp4') ||\n                data.url.includes('cmshare.eea.europa.eu') ? (\n                  // eslint-disable-next-line jsx-a11y/media-has-caption\n                  <video\n                    src={\n                      isInternalURL(\n                        data.url.replace(\n                          getParentUrl(config.settings.apiPath),\n                          '',\n                        ),\n                      )\n                        ? `${data.url}/@@download/file`\n                        : data.url\n                    }\n                    controls\n                    poster={\n                      data.preview_image\n                        ? isInternalURL(data.preview_image)\n                          ? `${flattenToAppURL(\n                              data.preview_image,\n                            )}/@@images/image`\n                          : data.preview_image\n                        : ''\n                    }\n                    type=\"video/mp4\"\n                  ></video>\n                ) : (\n                  <div className=\"invalidVideoFormat\" />\n                )}\n              </>\n            )}\n          </>\n        )}\n      </div>\n    )}\n  </div>\n);\n\n/**\n * Property types.\n * @property {Object} propTypes Property types.\n * @static\n */\nView.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default View;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}