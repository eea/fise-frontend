{"ast":null,"code":"import { SET_TABLEAU_API } from '@eeacms/volto-tableau/constants';\n\n//need to see if we need redux anymore for this\nexport default (middlewares => [store => next => action => {\n  const state = store.getState();\n  const {\n    version = ''\n  } = action || {};\n  if (action.type === `${SET_TABLEAU_API}_PENDING` && !state.tableau.loading[version]) {\n    // loadTableauScript(() => {}, version);\n    // fetchTableau(version)\n    //   .then((response) => {\n    //     if (mode === 'edit') {\n    //       toast.success(<Toast success title={response.message} />);\n    //     }\n    //     store.dispatch({\n    //       type: `${SET_TABLEAU_API}_SUCCESS`,\n    //       version,\n    //       api: response,\n    //     });\n    //   })\n    //   .catch((error) => {\n    //     if (mode === 'edit') {\n    //       toast.error(<Toast error title={error.message} />);\n    //     }\n    //     store.dispatch({\n    //       type: `${SET_TABLEAU_API}_FAILED`,\n    //       version,\n    //     });\n    //   });\n  }\n  return next(action);\n}, ...middlewares]);","map":{"version":3,"names":["SET_TABLEAU_API","middlewares","store","next","action","state","getState","version","type","tableau","loading"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-tableau/src/middleware.js"],"sourcesContent":["import { SET_TABLEAU_API } from '@eeacms/volto-tableau/constants';\n\n//need to see if we need redux anymore for this\nexport default (middlewares) => [\n  (store) => (next) => (action) => {\n    const state = store.getState();\n    const { version = '' } = action || {};\n\n    if (\n      action.type === `${SET_TABLEAU_API}_PENDING` &&\n      !state.tableau.loading[version]\n    ) {\n      // loadTableauScript(() => {}, version);\n      // fetchTableau(version)\n      //   .then((response) => {\n      //     if (mode === 'edit') {\n      //       toast.success(<Toast success title={response.message} />);\n      //     }\n      //     store.dispatch({\n      //       type: `${SET_TABLEAU_API}_SUCCESS`,\n      //       version,\n      //       api: response,\n      //     });\n      //   })\n      //   .catch((error) => {\n      //     if (mode === 'edit') {\n      //       toast.error(<Toast error title={error.message} />);\n      //     }\n      //     store.dispatch({\n      //       type: `${SET_TABLEAU_API}_FAILED`,\n      //       version,\n      //     });\n      //   });\n    }\n\n    return next(action);\n  },\n  ...middlewares,\n];\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,iCAAiC;;AAEjE;AACA,gBAAgBC,WAAW,IAAK,CAC7BC,KAAK,IAAMC,IAAI,IAAMC,MAAM,IAAK;EAC/B,MAAMC,KAAK,GAAGH,KAAK,CAACI,QAAQ,EAAE;EAC9B,MAAM;IAAEC,OAAO,GAAG;EAAG,CAAC,GAAGH,MAAM,IAAI,CAAC,CAAC;EAErC,IACEA,MAAM,CAACI,IAAI,KAAM,GAAER,eAAgB,UAAS,IAC5C,CAACK,KAAK,CAACI,OAAO,CAACC,OAAO,CAACH,OAAO,CAAC,EAC/B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA;EAGF,OAAOJ,IAAI,CAACC,MAAM,CAAC;AACrB,CAAC,EACD,GAAGH,WAAW,CACf"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}