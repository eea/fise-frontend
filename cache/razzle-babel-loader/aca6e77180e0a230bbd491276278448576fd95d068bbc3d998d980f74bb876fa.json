{"ast":null,"code":"const _excluded = [\"attributes\", \"children\", \"element\", \"mode\"];\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-slate-dataentity/src/DataEntity/render.jsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\nimport { Popup } from 'semantic-ui-react';\nimport { VisibilitySensor } from '@eeacms/volto-datablocks/components';\nimport { DataConnectedValue } from '@eeacms/volto-datablocks/Utils';\nimport { wrapInlineMarkupText } from '@plone/volto-slate/utils';\nimport { v4 as uuid } from 'uuid';\nexport const DataEntityElement = _ref => {\n  let {\n      attributes,\n      children,\n      element,\n      mode\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  const {\n    data = {}\n  } = element;\n  const {\n    provider_url,\n    column,\n    row,\n    specifier,\n    textTemplate,\n    placeholder = ' ',\n    withReadmore = false,\n    maxChars = null\n  } = data;\n  return __jsx(React.Fragment, null, mode === 'view' ? __jsx(\"span\", _extends({}, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }), wrapInlineMarkupText(children, c => __jsx(VisibilitySensor, {\n    Placeholder: () => __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 50\n      }\n    }, \"\\xA0\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, __jsx(DataConnectedValue, {\n    collapsable: withReadmore,\n    collapseLimit: maxChars,\n    column: column,\n    row: row,\n    data: {\n      data_query: data.data_query\n    },\n    key: uuid(),\n    placeholder: placeholder,\n    specifier: specifier,\n    textTemplate: textTemplate,\n    url: provider_url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 15\n    }\n  })))) : __jsx(Popup, {\n    content: data.entity,\n    header: \"Data entity\",\n    position: \"bottom left\",\n    trigger: __jsx(\"span\", _extends({}, attributes, {\n      className: \"data-entity data-entity-edit-node\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }), children),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }));\n};","map":{"version":3,"names":["React","Popup","VisibilitySensor","DataConnectedValue","wrapInlineMarkupText","v4","uuid","DataEntityElement","attributes","children","element","mode","rest","data","provider_url","column","row","specifier","textTemplate","placeholder","withReadmore","maxChars","c","data_query","entity"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-slate-dataentity/src/DataEntity/render.jsx"],"sourcesContent":["import React from 'react';\nimport { Popup } from 'semantic-ui-react';\nimport { VisibilitySensor } from '@eeacms/volto-datablocks/components';\nimport { DataConnectedValue } from '@eeacms/volto-datablocks/Utils';\nimport { wrapInlineMarkupText } from '@plone/volto-slate/utils';\nimport { v4 as uuid } from 'uuid';\n\nexport const DataEntityElement = ({\n  attributes,\n  children,\n  element,\n  mode,\n  ...rest\n}) => {\n  const { data = {} } = element;\n  const {\n    provider_url,\n    column,\n    row,\n    specifier,\n    textTemplate,\n    placeholder = ' ',\n    withReadmore = false,\n    maxChars = null,\n  } = data;\n\n  return (\n    <>\n      {mode === 'view' ? (\n        <span {...rest}>\n          {wrapInlineMarkupText(children, (c) => (\n            <VisibilitySensor Placeholder={() => <span>&nbsp;</span>}>\n              <DataConnectedValue\n                collapsable={withReadmore}\n                collapseLimit={maxChars}\n                column={column}\n                row={row}\n                data={{ data_query: data.data_query }}\n                key={uuid()}\n                placeholder={placeholder}\n                specifier={specifier}\n                textTemplate={textTemplate}\n                url={provider_url}\n              />\n            </VisibilitySensor>\n          ))}\n        </span>\n      ) : (\n        <Popup\n          content={data.entity}\n          header=\"Data entity\"\n          position=\"bottom left\"\n          trigger={\n            <span {...attributes} className=\"data-entity data-entity-edit-node\">\n              {children}\n            </span>\n          }\n        />\n      )}\n    </>\n  );\n};\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,mBAAmB;AACzC,SAASC,gBAAgB,QAAQ,qCAAqC;AACtE,SAASC,kBAAkB,QAAQ,gCAAgC;AACnE,SAASC,oBAAoB,QAAQ,0BAA0B;AAC/D,SAASC,EAAE,IAAIC,IAAI,QAAQ,MAAM;AAEjC,OAAO,MAAMC,iBAAiB,GAAG,QAM3B;EAAA,IAN4B;MAChCC,UAAU;MACVC,QAAQ;MACRC,OAAO;MACPC;IAEF,CAAC;IADIC,IAAI;EAEP,MAAM;IAAEC,IAAI,GAAG,CAAC;EAAE,CAAC,GAAGH,OAAO;EAC7B,MAAM;IACJI,YAAY;IACZC,MAAM;IACNC,GAAG;IACHC,SAAS;IACTC,YAAY;IACZC,WAAW,GAAG,GAAG;IACjBC,YAAY,GAAG,KAAK;IACpBC,QAAQ,GAAG;EACb,CAAC,GAAGR,IAAI;EAER,OACE,4BACGF,IAAI,KAAK,MAAM,GACd,2BAAUC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,IACXR,oBAAoB,CAACK,QAAQ,EAAGa,CAAC,IAChC,MAAC,gBAAgB;IAAC,WAAW,EAAE,MAAM;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,UAAoB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACvD,MAAC,kBAAkB;IACjB,WAAW,EAAEF,YAAa;IAC1B,aAAa,EAAEC,QAAS;IACxB,MAAM,EAAEN,MAAO;IACf,GAAG,EAAEC,GAAI;IACT,IAAI,EAAE;MAAEO,UAAU,EAAEV,IAAI,CAACU;IAAW,CAAE;IACtC,GAAG,EAAEjB,IAAI,EAAG;IACZ,WAAW,EAAEa,WAAY;IACzB,SAAS,EAAEF,SAAU;IACrB,YAAY,EAAEC,YAAa;IAC3B,GAAG,EAAEJ,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAClB,CAEL,CAAC,CACG,GAEP,MAAC,KAAK;IACJ,OAAO,EAAED,IAAI,CAACW,MAAO;IACrB,MAAM,EAAC,aAAa;IACpB,QAAQ,EAAC,aAAa;IACtB,OAAO,EACL,2BAAUhB,UAAU;MAAE,SAAS,EAAC,mCAAmC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,IAChEC,QAAQ,CAEZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAEJ,CACA;AAEP,CAAC"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}