{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-eea-map/src/components/Webmap.jsx\";\nvar __jsx = React.createElement;\n/* eslint-disable */\nimport React from 'react';\nimport { withDeviceSize } from '../hocs';\nimport { loadModules } from 'esri-loader';\nimport { formatQuery } from 'react-querybuilder';\nconst MODULES = ['esri/Map', 'esri/views/MapView', 'esri/layers/FeatureLayer', 'esri/layers/MapImageLayer', 'esri/layers/GroupLayer', 'esri/layers/WebTileLayer', 'esri/Basemap', 'esri/widgets/Legend', 'esri/widgets/Expand', 'esri/widgets/Print', 'esri/widgets/Zoom', 'esri/widgets/ScaleBar'];\n\n//TODO: set group layers sublayers, for direct group import.\n// const setGroupLayers = async (ids, data, modules) => {\n//   const { map_service_url, sublayerDatalayer, fullLayer, query = '' } =\n//     data || {};\n//   const { FeatureLayer, MapImageLayer, GroupLayer } = modules;\n\n//   const glLayers = await Promise.all(\n//     ids.map(async (id) => {\n//       const sublayerUrl = `${map_service_url}/${id}`;\n//       let sublayerData = await fetchArcGISData(sublayerUrl);\n//       let sublayer;\n//       switch (sublayerData.type) {\n//         case 'Raster Layer':\n//           sublayer = new MapImageLayer({\n//             url: map_service_url,\n//             minScale: sublayerData?.minScale,\n//             maxScale: sublayerData?.maxScale,\n//             sublayers: [\n//               {\n//                 id: sublayerData.id,\n//                 visible: true,\n//                 definitionExpression: query ? formatQuery(query, 'sql') : '',\n//               },\n//             ],\n//           });\n//           break;\n//         case 'Feature Layer':\n//           sublayer = new FeatureLayer({\n//             layerId: sublayerData.id,\n//             url: `${map_service_url}/${sublayerData.id}`,\n//             definitionExpression: query ? formatQuery(query, 'sql') : '',\n//             minScale: sublayerData?.minScale,\n//             maxScale: sublayerData?.maxScale,\n//           });\n//           break;\n//         default:\n//           break;\n//       }\n//       return sublayer;\n//     }),\n//   );\n//   return glLayers;\n// };\n\nconst Webmap = props => {\n  const {\n    editMode,\n    height,\n    id\n  } = props;\n  const data = React.useMemo(() => props.data || {}, [props.data]);\n  const device = React.useMemo(() => props.device || {}, [props.device]);\n  const {\n    base = {},\n    layers = {},\n    legend = {},\n    general = {}\n  } = data;\n  const {\n    base_layer = ''\n  } = base;\n  const map_layers = layers && layers.map_layers && layers.map_layers.filter(({\n    map_layer\n  }) => map_layer).map((l, i) => l.map_layer);\n  const options = {\n    css: true\n  };\n  const mapRef = React.useRef();\n  const [modules, setModules] = React.useState({});\n  const modules_loaded = React.useRef(false);\n  React.useEffect(() => {\n    if (!modules_loaded.current) {\n      modules_loaded.current = true;\n      loadModules(MODULES, options).then(modules => {\n        const [Map, MapView, FeatureLayer, MapImageLayer, GroupLayer, WebTileLayer, Basemap, Legend, Expand, Print, Zoom, ScaleBar] = modules;\n        setModules({\n          Map,\n          MapView,\n          FeatureLayer,\n          MapImageLayer,\n          GroupLayer,\n          WebTileLayer,\n          Basemap,\n          Legend,\n          Expand,\n          Print,\n          Zoom,\n          ScaleBar\n        });\n      });\n    }\n  }, [setModules, options]);\n\n  //eslint-disable-next-line no-unused-vars\n  const esri = React.useMemo(() => {\n    var _data$base, _data$base2, _data$base3, _legend$legend;\n    if (Object.keys(modules).length === 0) return {};\n    const {\n      Map,\n      MapView,\n      FeatureLayer,\n      MapImageLayer,\n      GroupLayer,\n      WebTileLayer,\n      Basemap,\n      Legend,\n      Expand,\n      Print,\n      Zoom,\n      ScaleBar\n    } = modules;\n    let layers = map_layers && map_layers.length > 0 ? map_layers.filter(({\n      map_service_url,\n      layer\n    }) => map_service_url && layer).map(({\n      map_service_url,\n      layer,\n      fullLayer,\n      query = '',\n      opacity = 1\n    }, index) => {\n      const url = `${map_service_url}/${layer === null || layer === void 0 ? void 0 : layer.id}`;\n      let mapLayer;\n      switch (layer.type) {\n        case 'Raster Layer':\n          mapLayer = new MapImageLayer({\n            url: map_service_url,\n            sublayers: [{\n              id: layer.id,\n              minScale: layer === null || layer === void 0 ? void 0 : layer.minScale,\n              maxScale: layer === null || layer === void 0 ? void 0 : layer.maxScale,\n              opacity: opacity ? parseFloat(opacity) : 1,\n              definitionExpression: query ? formatQuery(query, 'sql') : ''\n            }]\n          });\n          break;\n        case 'Feature Layer':\n          mapLayer = new FeatureLayer({\n            layerId: layer.id,\n            url,\n            definitionExpression: query ? formatQuery(query, 'sql') : '',\n            minScale: layer === null || layer === void 0 ? void 0 : layer.minScale,\n            maxScale: layer === null || layer === void 0 ? void 0 : layer.maxScale,\n            opacity: opacity ? parseFloat(opacity) : 1\n          });\n          break;\n        default:\n          break;\n      }\n      return mapLayer;\n    }) : [];\n    const mapBaseLayer = new WebTileLayer({\n      urlTemplate: 'https://gisco-services.ec.europa.eu/maps/tiles/OSMPositronComposite/EPSG3857/{level}/{col}/{row}.png'\n    });\n\n    // Create a Basemap with the WebTileLayer.\n    const positronCompositeBasemap = new Basemap({\n      baseLayers: [mapBaseLayer],\n      title: 'Positron Composite',\n      id: 'positron-composite',\n      thumbnailUrl: 'https://gisco-services.ec.europa.eu/maps/tiles/OSMPositronComposite/EPSG3857/0/0/0.png'\n    });\n    const setBasemap = basemap => {\n      if (basemap === 'positron-composite') {\n        return positronCompositeBasemap;\n      }\n      if (!basemap) {\n        return 'hybrid';\n      }\n      return basemap;\n    };\n    const setCustomBasemap = urlTemplate => {\n      const mapBaseLayer = new WebTileLayer({\n        urlTemplate\n      });\n\n      // Create a Basemap with the WebTileLayer.\n      const customBase = new Basemap({\n        baseLayers: [mapBaseLayer],\n        title: 'Custom Base Layer',\n        id: 'custom-base'\n      });\n      return customBase;\n    };\n    const map = new Map({\n      basemap: data !== null && data !== void 0 && (_data$base = data.base) !== null && _data$base !== void 0 && _data$base.use_custom_base && data !== null && data !== void 0 && (_data$base2 = data.base) !== null && _data$base2 !== void 0 && _data$base2.custom_base_layer ? setCustomBasemap(data === null || data === void 0 ? void 0 : (_data$base3 = data.base) === null || _data$base3 === void 0 ? void 0 : _data$base3.custom_base_layer) : setBasemap(base_layer),\n      layers\n    });\n    const view = new MapView({\n      container: mapRef.current,\n      map,\n      center: general !== null && general !== void 0 && general.long && general !== null && general !== void 0 && general.lat ? [general.long, general.lat] : [0, 40],\n      zoom: general !== null && general !== void 0 && general.zoom_level ? general === null || general === void 0 ? void 0 : general.zoom_level : 2,\n      ui: {\n        components: ['attribution']\n      }\n    });\n    if (general && general.scalebar) {\n      const scaleBarWidget = new ScaleBar({\n        view: view,\n        unit: general.scalebar\n      });\n      view.ui.add(scaleBarWidget, {\n        position: 'bottom-left'\n      });\n    }\n    if (layers && layers[0] && general && general.centerOnExtent) {\n      const firstLayer = layers[0];\n      if (firstLayer.type === 'feature') {\n        firstLayer.when(() => {\n          return firstLayer.queryExtent();\n        }).then(response => {\n          view.goTo(response.extent);\n        });\n      }\n      if (firstLayer.type === 'map-image') {\n        firstLayer.when(() => {\n          view.goTo(firstLayer.fullExtent);\n        });\n      }\n    }\n    const zoomPosition = general && general.zoom_position ? general.zoom_position : '';\n    if (zoomPosition) {\n      const zoomWidget = new Zoom({\n        view: view\n      });\n      view.ui.add(zoomWidget, zoomPosition);\n    }\n    if (legend !== null && legend !== void 0 && (_legend$legend = legend.legend) !== null && _legend$legend !== void 0 && _legend$legend.show_legend) {\n      const legendPosition = legend && legend.legend && legend.legend.position ? legend.legend.position : 'top-right';\n      const legendWidget = new Expand({\n        content: new Legend({\n          view: view,\n          style: 'classic'\n        }),\n        view: view,\n        expanded: false,\n        expandIconClass: 'esri-icon-legend',\n        expandTooltip: 'Legend',\n        classNames: 'some-cool-expand'\n      });\n      view.ui.add(legendWidget, legendPosition);\n    }\n    const printPosition = general && general.print_position ? general.print_position : '';\n    if (printPosition) {\n      const printWidget = new Expand({\n        content: new Print({\n          view: view\n        }),\n        view: view,\n        expanded: false,\n        expandIconClass: 'esri-icon-printer',\n        expandTooltip: 'Print'\n      });\n      view.ui.add(printWidget, printPosition);\n    }\n    if (layers && layers.length > 0) {\n      layers.forEach(layer => {\n        view.whenLayerView(layer).then(layerView => {\n          layerView.watch('updating', val => {});\n        });\n      });\n    }\n    return {\n      view,\n      map\n    };\n  }, [modules, data, data.layers, map_layers]);\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    style: {\n      height: height && !editMode ? `${height}px` : device === 'tablet' || device === 'mobile' ? '300px' : '500px'\n    },\n    ref: mapRef,\n    className: \"esri-map\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }\n  }));\n};\nexport default withDeviceSize( /*#__PURE__*/React.memo(Webmap));","map":{"version":3,"names":["React","withDeviceSize","loadModules","formatQuery","MODULES","Webmap","props","editMode","height","id","data","useMemo","device","base","layers","legend","general","base_layer","map_layers","filter","map_layer","map","l","i","options","css","mapRef","useRef","modules","setModules","useState","modules_loaded","useEffect","current","then","Map","MapView","FeatureLayer","MapImageLayer","GroupLayer","WebTileLayer","Basemap","Legend","Expand","Print","Zoom","ScaleBar","esri","Object","keys","length","map_service_url","layer","fullLayer","query","opacity","index","url","mapLayer","type","sublayers","minScale","maxScale","parseFloat","definitionExpression","layerId","mapBaseLayer","urlTemplate","positronCompositeBasemap","baseLayers","title","thumbnailUrl","setBasemap","basemap","setCustomBasemap","customBase","use_custom_base","custom_base_layer","view","container","center","long","lat","zoom","zoom_level","ui","components","scalebar","scaleBarWidget","unit","add","position","centerOnExtent","firstLayer","when","queryExtent","response","goTo","extent","fullExtent","zoomPosition","zoom_position","zoomWidget","show_legend","legendPosition","legendWidget","content","style","expanded","expandIconClass","expandTooltip","classNames","printPosition","print_position","printWidget","forEach","whenLayerView","layerView","watch","val","memo"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-eea-map/src/components/Webmap.jsx"],"sourcesContent":["/* eslint-disable */\nimport React from 'react';\nimport { withDeviceSize } from '../hocs';\nimport { loadModules } from 'esri-loader';\nimport { formatQuery } from 'react-querybuilder';\n\nconst MODULES = [\n  'esri/Map',\n  'esri/views/MapView',\n  'esri/layers/FeatureLayer',\n  'esri/layers/MapImageLayer',\n  'esri/layers/GroupLayer',\n  'esri/layers/WebTileLayer',\n  'esri/Basemap',\n  'esri/widgets/Legend',\n  'esri/widgets/Expand',\n  'esri/widgets/Print',\n  'esri/widgets/Zoom',\n  'esri/widgets/ScaleBar',\n];\n\n//TODO: set group layers sublayers, for direct group import.\n// const setGroupLayers = async (ids, data, modules) => {\n//   const { map_service_url, sublayerDatalayer, fullLayer, query = '' } =\n//     data || {};\n//   const { FeatureLayer, MapImageLayer, GroupLayer } = modules;\n\n//   const glLayers = await Promise.all(\n//     ids.map(async (id) => {\n//       const sublayerUrl = `${map_service_url}/${id}`;\n//       let sublayerData = await fetchArcGISData(sublayerUrl);\n//       let sublayer;\n//       switch (sublayerData.type) {\n//         case 'Raster Layer':\n//           sublayer = new MapImageLayer({\n//             url: map_service_url,\n//             minScale: sublayerData?.minScale,\n//             maxScale: sublayerData?.maxScale,\n//             sublayers: [\n//               {\n//                 id: sublayerData.id,\n//                 visible: true,\n//                 definitionExpression: query ? formatQuery(query, 'sql') : '',\n//               },\n//             ],\n//           });\n//           break;\n//         case 'Feature Layer':\n//           sublayer = new FeatureLayer({\n//             layerId: sublayerData.id,\n//             url: `${map_service_url}/${sublayerData.id}`,\n//             definitionExpression: query ? formatQuery(query, 'sql') : '',\n//             minScale: sublayerData?.minScale,\n//             maxScale: sublayerData?.maxScale,\n//           });\n//           break;\n//         default:\n//           break;\n//       }\n//       return sublayer;\n//     }),\n//   );\n//   return glLayers;\n// };\n\nconst Webmap = (props) => {\n  const { editMode, height, id } = props;\n\n  const data = React.useMemo(() => props.data || {}, [props.data]);\n\n  const device = React.useMemo(() => props.device || {}, [props.device]);\n  const { base = {}, layers = {}, legend = {}, general = {} } = data;\n\n  const { base_layer = '' } = base;\n\n  const map_layers =\n    layers &&\n    layers.map_layers &&\n    layers.map_layers\n      .filter(({ map_layer }) => map_layer)\n      .map((l, i) => l.map_layer);\n\n  const options = {\n    css: true,\n  };\n\n  const mapRef = React.useRef();\n  const [modules, setModules] = React.useState({});\n\n  const modules_loaded = React.useRef(false);\n\n  React.useEffect(() => {\n    if (!modules_loaded.current) {\n      modules_loaded.current = true;\n      loadModules(MODULES, options).then((modules) => {\n        const [\n          Map,\n          MapView,\n          FeatureLayer,\n          MapImageLayer,\n          GroupLayer,\n          WebTileLayer,\n          Basemap,\n          Legend,\n          Expand,\n          Print,\n          Zoom,\n          ScaleBar,\n        ] = modules;\n        setModules({\n          Map,\n          MapView,\n          FeatureLayer,\n          MapImageLayer,\n          GroupLayer,\n          WebTileLayer,\n          Basemap,\n          Legend,\n          Expand,\n          Print,\n          Zoom,\n          ScaleBar,\n        });\n      });\n    }\n  }, [setModules, options]);\n\n  //eslint-disable-next-line no-unused-vars\n  const esri = React.useMemo(() => {\n    if (Object.keys(modules).length === 0) return {};\n    const {\n      Map,\n      MapView,\n      FeatureLayer,\n      MapImageLayer,\n      GroupLayer,\n      WebTileLayer,\n      Basemap,\n      Legend,\n      Expand,\n      Print,\n      Zoom,\n      ScaleBar,\n    } = modules;\n    let layers =\n      map_layers && map_layers.length > 0\n        ? map_layers\n            .filter(({ map_service_url, layer }) => map_service_url && layer)\n            .map(\n              (\n                { map_service_url, layer, fullLayer, query = '', opacity = 1 },\n                index,\n              ) => {\n                const url = `${map_service_url}/${layer?.id}`;\n                let mapLayer;\n                switch (layer.type) {\n                  case 'Raster Layer':\n                    mapLayer = new MapImageLayer({\n                      url: map_service_url,\n                      sublayers: [\n                        {\n                          id: layer.id,\n                          minScale: layer?.minScale,\n                          maxScale: layer?.maxScale,\n                          opacity: opacity ? parseFloat(opacity) : 1,\n                          definitionExpression: query\n                            ? formatQuery(query, 'sql')\n                            : '',\n                        },\n                      ],\n                    });\n                    break;\n                  case 'Feature Layer':\n                    mapLayer = new FeatureLayer({\n                      layerId: layer.id,\n                      url,\n                      definitionExpression: query\n                        ? formatQuery(query, 'sql')\n                        : '',\n                      minScale: layer?.minScale,\n                      maxScale: layer?.maxScale,\n                      opacity: opacity ? parseFloat(opacity) : 1,\n                    });\n                    break;\n                  default:\n                    break;\n                }\n                return mapLayer;\n              },\n            )\n        : [];\n\n    const mapBaseLayer = new WebTileLayer({\n      urlTemplate:\n        'https://gisco-services.ec.europa.eu/maps/tiles/OSMPositronComposite/EPSG3857/{level}/{col}/{row}.png',\n    });\n\n    // Create a Basemap with the WebTileLayer.\n    const positronCompositeBasemap = new Basemap({\n      baseLayers: [mapBaseLayer],\n      title: 'Positron Composite',\n      id: 'positron-composite',\n      thumbnailUrl:\n        'https://gisco-services.ec.europa.eu/maps/tiles/OSMPositronComposite/EPSG3857/0/0/0.png',\n    });\n\n    const setBasemap = (basemap) => {\n      if (basemap === 'positron-composite') {\n        return positronCompositeBasemap;\n      }\n      if (!basemap) {\n        return 'hybrid';\n      }\n      return basemap;\n    };\n\n    const setCustomBasemap = (urlTemplate) => {\n      const mapBaseLayer = new WebTileLayer({\n        urlTemplate,\n      });\n\n      // Create a Basemap with the WebTileLayer.\n      const customBase = new Basemap({\n        baseLayers: [mapBaseLayer],\n        title: 'Custom Base Layer',\n        id: 'custom-base',\n      });\n      return customBase;\n    };\n\n    const map = new Map({\n      basemap:\n        data?.base?.use_custom_base && data?.base?.custom_base_layer\n          ? setCustomBasemap(data?.base?.custom_base_layer)\n          : setBasemap(base_layer),\n      layers,\n    });\n    const view = new MapView({\n      container: mapRef.current,\n      map,\n      center:\n        general?.long && general?.lat ? [general.long, general.lat] : [0, 40],\n      zoom: general?.zoom_level ? general?.zoom_level : 2,\n      ui: {\n        components: ['attribution'],\n      },\n    });\n    if (general && general.scalebar) {\n      const scaleBarWidget = new ScaleBar({\n        view: view,\n        unit: general.scalebar,\n      });\n\n      view.ui.add(scaleBarWidget, {\n        position: 'bottom-left',\n      });\n    }\n\n    if (layers && layers[0] && general && general.centerOnExtent) {\n      const firstLayer = layers[0];\n      if (firstLayer.type === 'feature') {\n        firstLayer\n          .when(() => {\n            return firstLayer.queryExtent();\n          })\n          .then((response) => {\n            view.goTo(response.extent);\n          });\n      }\n      if (firstLayer.type === 'map-image') {\n        firstLayer.when(() => {\n          view.goTo(firstLayer.fullExtent);\n        });\n      }\n    }\n\n    const zoomPosition =\n      general && general.zoom_position ? general.zoom_position : '';\n\n    if (zoomPosition) {\n      const zoomWidget = new Zoom({\n        view: view,\n      });\n      view.ui.add(zoomWidget, zoomPosition);\n    }\n\n    if (legend?.legend?.show_legend) {\n      const legendPosition =\n        legend && legend.legend && legend.legend.position\n          ? legend.legend.position\n          : 'top-right';\n\n      const legendWidget = new Expand({\n        content: new Legend({\n          view: view,\n          style: 'classic',\n        }),\n        view: view,\n        expanded: false,\n        expandIconClass: 'esri-icon-legend',\n        expandTooltip: 'Legend',\n        classNames: 'some-cool-expand',\n      });\n      view.ui.add(legendWidget, legendPosition);\n    }\n\n    const printPosition =\n      general && general.print_position ? general.print_position : '';\n\n    if (printPosition) {\n      const printWidget = new Expand({\n        content: new Print({\n          view: view,\n        }),\n        view: view,\n        expanded: false,\n        expandIconClass: 'esri-icon-printer',\n        expandTooltip: 'Print',\n      });\n      view.ui.add(printWidget, printPosition);\n    }\n\n    if (layers && layers.length > 0) {\n      layers.forEach((layer) => {\n        view.whenLayerView(layer).then((layerView) => {\n          layerView.watch('updating', (val) => {});\n        });\n      });\n    }\n    return { view, map };\n  }, [modules, data, data.layers, map_layers]);\n\n  return (\n    <div>\n      <div\n        style={{\n          height:\n            height && !editMode\n              ? `${height}px`\n              : device === 'tablet' || device === 'mobile'\n              ? '300px'\n              : '500px',\n        }}\n        ref={mapRef}\n        className=\"esri-map\"\n      ></div>\n    </div>\n  );\n};\n\nexport default withDeviceSize(React.memo(Webmap));\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}