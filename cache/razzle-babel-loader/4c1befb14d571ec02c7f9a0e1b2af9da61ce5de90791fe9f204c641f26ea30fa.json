{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-addons-forest/src/Collection/View.jsx\";\nvar __jsx = React.createElement;\n/**\n * Document view component.\n * @module components/theme/View/CollectionView\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Helmet } from '@plone/volto/helpers';\nimport { getContent } from '@plone/volto/actions';\nimport { Pagination } from 'semantic-ui-react';\nimport Item from './Item';\nimport './style.less';\n\n/**\n * List view component class.\n * @function CollectionView\n * @params {object} content Content object.\n * @returns {string} Markup of the component.\n */\nconst CollectionView = props => {\n  const {\n    0: currentPage,\n    1: setCurrentPage\n  } = useState(1);\n  const {\n    0: itemsPerPage\n  } = useState(25);\n  const dispatch = useDispatch();\n  const {\n    content,\n    location\n  } = props;\n  const items = content.items;\n  const totalItems = content.items_total;\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\n  // const pageSizes = [25, 50, 100];\n\n  useEffect(() => {\n    dispatch(getContent(location.pathname, null, null, null, true, {\n      b_start: (currentPage - 1) * itemsPerPage,\n      b_size: itemsPerPage\n    }));\n    /* eslint-disable-next-line */\n  }, [currentPage, itemsPerPage]);\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, __jsx(Helmet, {\n    title: content.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), __jsx(\"h1\", {\n    className: \"documentFirstHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, content.title, content.subtitle && ` - ${content.subtitle}`), content.description && __jsx(\"p\", {\n    className: \"documentDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, content.description), items !== null && items !== void 0 && items.length ? __jsx(\"div\", {\n    className: \"collection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, items.map((item, index) => __jsx(Item, {\n    key: item.id,\n    item: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  })), __jsx(Pagination, {\n    current: currentPage,\n    totalPages: totalPages,\n    prevItem: null,\n    nextItem: null,\n    firstItem: currentPage > 1 ? {\n      'aria-label': 'First item',\n      content: '«'\n    } : null,\n    lastItem: currentPage < totalPages ? {\n      'aria-label': 'Last item',\n      content: '»'\n    } : null,\n    onPageChange: (_, data) => {\n      setCurrentPage(data.activePage);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })) : '');\n};\nexport default CollectionView;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","Helmet","getContent","Pagination","Item","CollectionView","props","currentPage","setCurrentPage","itemsPerPage","dispatch","content","location","items","totalItems","items_total","totalPages","Math","ceil","pathname","b_start","b_size","title","subtitle","description","length","map","item","index","id","_","data","activePage"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-addons-forest/src/Collection/View.jsx"],"sourcesContent":["/**\n * Document view component.\n * @module components/theme/View/CollectionView\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Helmet } from '@plone/volto/helpers';\nimport { getContent } from '@plone/volto/actions';\nimport { Pagination } from 'semantic-ui-react';\nimport Item from './Item';\n\nimport './style.less';\n\n/**\n * List view component class.\n * @function CollectionView\n * @params {object} content Content object.\n * @returns {string} Markup of the component.\n */\nconst CollectionView = (props) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(25);\n  const dispatch = useDispatch();\n  const { content, location } = props;\n  const items = content.items;\n  const totalItems = content.items_total;\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\n  // const pageSizes = [25, 50, 100];\n\n  useEffect(() => {\n    dispatch(\n      getContent(location.pathname, null, null, null, true, {\n        b_start: (currentPage - 1) * itemsPerPage,\n        b_size: itemsPerPage,\n      }),\n    );\n    /* eslint-disable-next-line */\n  }, [currentPage, itemsPerPage]);\n\n  return (\n    <React.Fragment>\n      <Helmet title={content.title} />\n      <h1 className=\"documentFirstHeading\">\n        {content.title}\n        {content.subtitle && ` - ${content.subtitle}`}\n      </h1>\n      {content.description && (\n        <p className=\"documentDescription\">{content.description}</p>\n      )}\n\n      {items?.length ? (\n        <div className=\"collection\">\n          {items.map((item, index) => (\n            <Item key={item.id} item={item} />\n          ))}\n          <Pagination\n            current={currentPage}\n            totalPages={totalPages}\n            prevItem={null}\n            nextItem={null}\n            firstItem={\n              currentPage > 1\n                ? {\n                    'aria-label': 'First item',\n                    content: '«',\n                  }\n                : null\n            }\n            lastItem={\n              currentPage < totalPages\n                ? {\n                    'aria-label': 'Last item',\n                    content: '»',\n                  }\n                : null\n            }\n            onPageChange={(_, data) => {\n              setCurrentPage(data.activePage);\n            }}\n          />\n        </div>\n      ) : (\n        ''\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default CollectionView;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}