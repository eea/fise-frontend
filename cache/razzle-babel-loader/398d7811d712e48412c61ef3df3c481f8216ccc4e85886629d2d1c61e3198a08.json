{"ast":null,"code":"import _toConsumableArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _keys from \"lodash/keys\";\nimport _values from \"lodash/values\";\nimport _assign from \"lodash/assign\";\nimport countries from 'i18n-iso-countries';\nexport function getCountryCode() {\n  var countryName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return countries.getAlpha2Code(countryName, 'en');\n}\nexport function makeSearchUrl(data, text, password, countryCode) {\n  var featureClass = data.featureClass,\n    _data$continents = data.continents,\n    continents = _data$continents === void 0 ? '' : _data$continents;\n  var filterFeature = {\n    country: 'A',\n    stream: 'H',\n    parks: 'L',\n    city: 'P',\n    road: 'R',\n    spot: 'S',\n    mountain: 'T',\n    undersea: 'U',\n    forest: 'V'\n  };\n  if (featureClass) {\n    var url = Object.keys(filterFeature).map(function (item) {\n      if (featureClass.startsWith(item)) {\n        return \"https://secure.geonames.org/searchJSON?q=\".concat(text, \"&country=\").concat(countryCode || '', \"&featureClass=\").concat(filterFeature[item], \"&continentCode=\").concat(continents, \"&maxRows=10&username=\").concat(password);\n      }\n      return undefined;\n    });\n    if (url.every(function (item) {\n      return item === undefined;\n    })) return \"https://secure.geonames.org/searchJSON?q=\".concat(text, \"&country=\").concat(countryCode || '', \"&continentCode=\").concat(continents, \"&maxRows=10&username=\").concat(password);\n    return url.find(function (item) {\n      return item !== undefined;\n    });\n  }\n  return \"https://secure.geonames.org/searchJSON?q=\".concat(text, \"&country=\").concat(countryCode || '', \"&continentCode=\").concat(continents, \"&maxRows=10&username=\").concat(password);\n}\nexport function getBioTags() {\n  var biotags = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bioRegions = Object.keys(biotags).map(function (item) {\n    return {\n      label: biotags[item].title,\n      value: item\n    };\n  });\n  return bioRegions;\n}\nexport function getCountries() {\n  var geoTags = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var countries = _assign.apply(void 0, [{}].concat(_toConsumableArray(_values(geoTags))));\n  return _keys(countries).filter(function (item) {\n    return item !== 'title';\n  }).map(function (item) {\n    return {\n      label: countries[item],\n      value: item\n    };\n  });\n}","map":{"version":3,"names":["countries","getCountryCode","countryName","getAlpha2Code","makeSearchUrl","data","text","password","countryCode","featureClass","continents","filterFeature","country","stream","parks","city","road","spot","mountain","undersea","forest","url","Object","keys","map","item","startsWith","undefined","every","find","getBioTags","biotags","bioRegions","label","title","value","getCountries","geoTags","filter"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-widget-geolocation/src/components/manage/Widgets/util.js"],"sourcesContent":["import countries from 'i18n-iso-countries';\nimport { assign, values, keys } from 'lodash';\nexport function getCountryCode(countryName = '') {\n  return countries.getAlpha2Code(countryName, 'en');\n}\n\nexport function makeSearchUrl(data, text, password, countryCode) {\n  const { featureClass, continents = '' } = data;\n  const filterFeature = {\n    country: 'A',\n    stream: 'H',\n    parks: 'L',\n    city: 'P',\n    road: 'R',\n    spot: 'S',\n    mountain: 'T',\n    undersea: 'U',\n    forest: 'V',\n  };\n  if (featureClass) {\n    let url = Object.keys(filterFeature).map((item) => {\n      if (featureClass.startsWith(item)) {\n        return `https://secure.geonames.org/searchJSON?q=${text}&country=${\n          countryCode || ''\n        }&featureClass=${\n          filterFeature[item]\n        }&continentCode=${continents}&maxRows=10&username=${password}`;\n      }\n      return undefined;\n    });\n    if (url.every((item) => item === undefined))\n      return `https://secure.geonames.org/searchJSON?q=${text}&country=${\n        countryCode || ''\n      }&continentCode=${continents}&maxRows=10&username=${password}`;\n    return url.find((item) => item !== undefined);\n  }\n  return `https://secure.geonames.org/searchJSON?q=${text}&country=${\n    countryCode || ''\n  }&continentCode=${continents}&maxRows=10&username=${password}`;\n}\n\nexport function getBioTags(biotags = {}) {\n  const bioRegions = Object.keys(biotags).map((item) => ({\n    label: biotags[item].title,\n    value: item,\n  }));\n  return bioRegions;\n}\n\nexport function getCountries(geoTags = {}) {\n  let countries = assign({}, ...values(geoTags));\n  return keys(countries)\n    .filter((item) => item !== 'title')\n    .map((item) => ({\n      label: countries[item],\n      value: item,\n    }));\n}\n"],"mappings":";;;;AAAA,OAAOA,SAAS,MAAM,oBAAoB;AAE1C,OAAO,SAASC,cAAc,GAAmB;EAAA,IAAlBC,WAAW,uEAAG,EAAE;EAC7C,OAAOF,SAAS,CAACG,aAAa,CAACD,WAAW,EAAE,IAAI,CAAC;AACnD;AAEA,OAAO,SAASE,aAAa,CAACC,IAAI,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,WAAW,EAAE;EAC/D,IAAQC,YAAY,GAAsBJ,IAAI,CAAtCI,YAAY;IAAA,mBAAsBJ,IAAI,CAAxBK,UAAU;IAAVA,UAAU,iCAAG,EAAE;EACrC,IAAMC,aAAa,GAAG;IACpBC,OAAO,EAAE,GAAG;IACZC,MAAM,EAAE,GAAG;IACXC,KAAK,EAAE,GAAG;IACVC,IAAI,EAAE,GAAG;IACTC,IAAI,EAAE,GAAG;IACTC,IAAI,EAAE,GAAG;IACTC,QAAQ,EAAE,GAAG;IACbC,QAAQ,EAAE,GAAG;IACbC,MAAM,EAAE;EACV,CAAC;EACD,IAAIX,YAAY,EAAE;IAChB,IAAIY,GAAG,GAAGC,MAAM,CAACC,IAAI,CAACZ,aAAa,CAAC,CAACa,GAAG,CAAC,UAACC,IAAI,EAAK;MACjD,IAAIhB,YAAY,CAACiB,UAAU,CAACD,IAAI,CAAC,EAAE;QACjC,0DAAmDnB,IAAI,sBACrDE,WAAW,IAAI,EAAE,2BAEjBG,aAAa,CAACc,IAAI,CAAC,4BACHf,UAAU,kCAAwBH,QAAQ;MAC9D;MACA,OAAOoB,SAAS;IAClB,CAAC,CAAC;IACF,IAAIN,GAAG,CAACO,KAAK,CAAC,UAACH,IAAI;MAAA,OAAKA,IAAI,KAAKE,SAAS;IAAA,EAAC,EACzC,0DAAmDrB,IAAI,sBACrDE,WAAW,IAAI,EAAE,4BACDE,UAAU,kCAAwBH,QAAQ;IAC9D,OAAOc,GAAG,CAACQ,IAAI,CAAC,UAACJ,IAAI;MAAA,OAAKA,IAAI,KAAKE,SAAS;IAAA,EAAC;EAC/C;EACA,0DAAmDrB,IAAI,sBACrDE,WAAW,IAAI,EAAE,4BACDE,UAAU,kCAAwBH,QAAQ;AAC9D;AAEA,OAAO,SAASuB,UAAU,GAAe;EAAA,IAAdC,OAAO,uEAAG,CAAC,CAAC;EACrC,IAAMC,UAAU,GAAGV,MAAM,CAACC,IAAI,CAACQ,OAAO,CAAC,CAACP,GAAG,CAAC,UAACC,IAAI;IAAA,OAAM;MACrDQ,KAAK,EAAEF,OAAO,CAACN,IAAI,CAAC,CAACS,KAAK;MAC1BC,KAAK,EAAEV;IACT,CAAC;EAAA,CAAC,CAAC;EACH,OAAOO,UAAU;AACnB;AAEA,OAAO,SAASI,YAAY,GAAe;EAAA,IAAdC,OAAO,uEAAG,CAAC,CAAC;EACvC,IAAIrC,SAAS,GAAG,uBAAO,CAAC,CAAC,4BAAK,QAAOqC,OAAO,CAAC,GAAC;EAC9C,OAAO,MAAKrC,SAAS,CAAC,CACnBsC,MAAM,CAAC,UAACb,IAAI;IAAA,OAAKA,IAAI,KAAK,OAAO;EAAA,EAAC,CAClCD,GAAG,CAAC,UAACC,IAAI;IAAA,OAAM;MACdQ,KAAK,EAAEjC,SAAS,CAACyB,IAAI,CAAC;MACtBU,KAAK,EAAEV;IACT,CAAC;EAAA,CAAC,CAAC;AACP"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}