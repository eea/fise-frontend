{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { combineReducers, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { save, load } from 'redux-localstorage-simple';\nimport config from '@plone/volto/registry';\nimport reducers from '@root/reducers';\nimport { api, blacklistRoutes, protectLoadStart, protectLoadEnd, loadProtector } from '@plone/volto/middleware';\nconst configureStore = (initialState, history, apiHelper) => {\n  let stack = [blacklistRoutes, protectLoadStart, routerMiddleware(history), thunk, ...(apiHelper ? [api(apiHelper)] : []), protectLoadEnd, ...(__CLIENT__ ? [save({\n    states: config.settings.persistentReducers,\n    debounce: 500\n  })] : [])];\n  stack = config.settings.storeExtenders.reduce((acc, extender) => extender(acc), stack);\n  const middlewares = composeWithDevTools(applyMiddleware(...stack));\n  const store = createStore(combineReducers(_objectSpread(_objectSpread(_objectSpread({\n    router: connectRouter(history)\n  }, reducers), config.addonReducers), {}, {\n    loadProtector\n  })), _objectSpread(_objectSpread({}, initialState), __CLIENT__ ? load({\n    states: config.settings.persistentReducers\n  }) : {}), middlewares);\n  return store;\n};\nexport default configureStore;","map":{"version":3,"names":["combineReducers","createStore","applyMiddleware","thunk","composeWithDevTools","connectRouter","routerMiddleware","save","load","config","reducers","api","blacklistRoutes","protectLoadStart","protectLoadEnd","loadProtector","configureStore","initialState","history","apiHelper","stack","__CLIENT__","states","settings","persistentReducers","debounce","storeExtenders","reduce","acc","extender","middlewares","store","router","addonReducers"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/store.js"],"sourcesContent":["import { combineReducers, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { save, load } from 'redux-localstorage-simple';\n\nimport config from '@plone/volto/registry';\nimport reducers from '@root/reducers';\n\nimport {\n  api,\n  blacklistRoutes,\n  protectLoadStart,\n  protectLoadEnd,\n  loadProtector,\n} from '@plone/volto/middleware';\n\nconst configureStore = (initialState, history, apiHelper) => {\n  let stack = [\n    blacklistRoutes,\n    protectLoadStart,\n    routerMiddleware(history),\n    thunk,\n    ...(apiHelper ? [api(apiHelper)] : []),\n    protectLoadEnd,\n    ...(__CLIENT__\n      ? [save({ states: config.settings.persistentReducers, debounce: 500 })]\n      : []),\n  ];\n  stack = config.settings.storeExtenders.reduce(\n    (acc, extender) => extender(acc),\n    stack,\n  );\n  const middlewares = composeWithDevTools(applyMiddleware(...stack));\n  const store = createStore(\n    combineReducers({\n      router: connectRouter(history),\n      ...reducers,\n      ...config.addonReducers,\n      loadProtector,\n    }),\n    {\n      ...initialState,\n      ...(__CLIENT__\n        ? load({ states: config.settings.persistentReducers })\n        : {}),\n    },\n    middlewares,\n  );\n\n  return store;\n};\n\nexport default configureStore;\n"],"mappings":";;;AAAA,SAASA,eAAe,EAAEC,WAAW,EAAEC,eAAe,QAAQ,OAAO;AACrE,OAAOC,KAAK,MAAM,aAAa;AAC/B,SAASC,mBAAmB,QAAQ,0CAA0C;AAC9E,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,wBAAwB;AACxE,SAASC,IAAI,EAAEC,IAAI,QAAQ,2BAA2B;AAEtD,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,OAAOC,QAAQ,MAAM,gBAAgB;AAErC,SACEC,GAAG,EACHC,eAAe,EACfC,gBAAgB,EAChBC,cAAc,EACdC,aAAa,QACR,yBAAyB;AAEhC,MAAMC,cAAc,GAAG,CAACC,YAAY,EAAEC,OAAO,EAAEC,SAAS,KAAK;EAC3D,IAAIC,KAAK,GAAG,CACVR,eAAe,EACfC,gBAAgB,EAChBP,gBAAgB,CAACY,OAAO,CAAC,EACzBf,KAAK,EACL,IAAIgB,SAAS,GAAG,CAACR,GAAG,CAACQ,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC,EACtCL,cAAc,EACd,IAAIO,UAAU,GACV,CAACd,IAAI,CAAC;IAAEe,MAAM,EAAEb,MAAM,CAACc,QAAQ,CAACC,kBAAkB;IAAEC,QAAQ,EAAE;EAAI,CAAC,CAAC,CAAC,GACrE,EAAE,CAAC,CACR;EACDL,KAAK,GAAGX,MAAM,CAACc,QAAQ,CAACG,cAAc,CAACC,MAAM,CAC3C,CAACC,GAAG,EAAEC,QAAQ,KAAKA,QAAQ,CAACD,GAAG,CAAC,EAChCR,KAAK,CACN;EACD,MAAMU,WAAW,GAAG1B,mBAAmB,CAACF,eAAe,CAAC,GAAGkB,KAAK,CAAC,CAAC;EAClE,MAAMW,KAAK,GAAG9B,WAAW,CACvBD,eAAe;IACbgC,MAAM,EAAE3B,aAAa,CAACa,OAAO;EAAC,GAC3BR,QAAQ,GACRD,MAAM,CAACwB,aAAa;IACvBlB;EAAa,GACb,kCAEGE,YAAY,GACXI,UAAU,GACVb,IAAI,CAAC;IAAEc,MAAM,EAAEb,MAAM,CAACc,QAAQ,CAACC;EAAmB,CAAC,CAAC,GACpD,CAAC,CAAC,GAERM,WAAW,CACZ;EAED,OAAOC,KAAK;AACd,CAAC;AAED,eAAef,cAAc"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}