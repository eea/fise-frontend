{"ast":null,"code":"import _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/layout/LeftColumnFacets.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { SearchInput, SearchDetails, Facets, FilterList, SortOn } from '../components';\nimport { Grid, Segment } from 'semantic-ui-react';\nimport { Button } from 'semantic-ui-react';\nimport { flushSync } from 'react-dom';\nimport { defineMessages, useIntl } from 'react-intl';\nvar messages = defineMessages({\n  searchButtonText: {\n    \"id\": \"Search\",\n    \"defaultMessage\": \"Search\"\n  }\n});\nvar FacetWrapper = function FacetWrapper(_ref) {\n  var children = _ref.children;\n  return __jsx(Segment, {\n    basic: true,\n    className: \"facet\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 3\n    }\n  }, children);\n};\n_c = FacetWrapper;\nvar LeftColumnFacets = function LeftColumnFacets(props) {\n  _s();\n  var _data$facets, _data$facets2, _data$facets3;\n  var children = props.children,\n    data = props.data,\n    totalItems = props.totalItems,\n    facets = props.facets,\n    _setFacets = props.setFacets,\n    _setSortOn = props.setSortOn,\n    _setSortOrder = props.setSortOrder,\n    sortOn = props.sortOn,\n    sortOrder = props.sortOrder,\n    onTriggerSearch = props.onTriggerSearch,\n    searchedText = props.searchedText,\n    searchText = props.searchText,\n    isEditMode = props.isEditMode,\n    _props$querystring = props.querystring,\n    querystring = _props$querystring === void 0 ? {} : _props$querystring;\n  var showSearchButton = data.showSearchButton;\n  var isLive = !showSearchButton;\n  var intl = useIntl();\n  return __jsx(Grid, {\n    className: \"searchBlock-facets left-column-facets\",\n    stackable: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, __jsx(Grid.Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, __jsx(Grid.Column, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, data.headline && __jsx(\"h2\", {\n    className: \"headline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }, data.headline))), __jsx(Grid.Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, ((_data$facets = data.facets) === null || _data$facets === void 0 ? void 0 : _data$facets.length) > 0 && __jsx(Grid.Column, {\n    mobile: 12,\n    tablet: 4,\n    computer: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"facets\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, data.facetsTitle && __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 36\n    }\n  }, data.facetsTitle), __jsx(Facets, {\n    querystring: querystring,\n    data: data,\n    facets: facets,\n    setFacets: function setFacets(f) {\n      flushSync(function () {\n        _setFacets(f);\n        onTriggerSearch(searchedText || '', f);\n      });\n    },\n    facetWrapper: FacetWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }))), __jsx(Grid.Column, {\n    mobile: 12,\n    tablet: (_data$facets2 = data.facets) !== null && _data$facets2 !== void 0 && _data$facets2.length ? 8 : 12,\n    computer: (_data$facets3 = data.facets) !== null && _data$facets3 !== void 0 && _data$facets3.length ? 9 : 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, (Object.keys(data).includes('showSearchInput') ? data.showSearchInput : true) && __jsx(\"div\", {\n    className: \"search-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, __jsx(SearchInput, _extends({}, props, {\n    isLive: isLive,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  })), data.showSearchButton && __jsx(Button, {\n    primary: true,\n    onClick: function onClick() {\n      return onTriggerSearch(searchText);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, data.searchButtonLabel || intl.formatMessage(messages.searchButtonText))), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, __jsx(FilterList, _extends({}, props, {\n    isEditMode: isEditMode,\n    setFacets: function setFacets(f) {\n      flushSync(function () {\n        _setFacets(f);\n        onTriggerSearch(searchedText || '', f);\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"search-results-count-sort\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, __jsx(SearchDetails, {\n    text: searchedText,\n    total: totalItems,\n    data: data,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }), data.showSortOn && __jsx(SortOn, {\n    querystring: querystring,\n    data: data,\n    isEditMode: isEditMode,\n    sortOn: sortOn,\n    sortOrder: sortOrder,\n    setSortOn: function setSortOn(sortOn) {\n      flushSync(function () {\n        _setSortOn(sortOn);\n        onTriggerSearch(searchedText || '', facets, sortOn);\n      });\n    },\n    setSortOrder: function setSortOrder(sortOrder) {\n      flushSync(function () {\n        _setSortOrder(sortOrder);\n        onTriggerSearch(searchedText || '', facets, sortOn, sortOrder);\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  })), children)));\n};\n_s(LeftColumnFacets, \"rlSgSjbewJ1PrR/Ile8g/kr050o=\", false, function () {\n  return [useIntl];\n});\n_c2 = LeftColumnFacets;\nexport default LeftColumnFacets;\nvar _c, _c2;\n$RefreshReg$(_c, \"FacetWrapper\");\n$RefreshReg$(_c2, \"LeftColumnFacets\");","map":{"version":3,"names":["React","SearchInput","SearchDetails","Facets","FilterList","SortOn","Grid","Segment","Button","flushSync","defineMessages","useIntl","messages","searchButtonText","FacetWrapper","children","LeftColumnFacets","props","data","totalItems","facets","setFacets","setSortOn","setSortOrder","sortOn","sortOrder","onTriggerSearch","searchedText","searchText","isEditMode","querystring","showSearchButton","isLive","intl","headline","length","facetsTitle","f","Object","keys","includes","showSearchInput","searchButtonLabel","formatMessage","showSortOn"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/layout/LeftColumnFacets.jsx"],"sourcesContent":["import React from 'react';\nimport {\n  SearchInput,\n  SearchDetails,\n  Facets,\n  FilterList,\n  SortOn,\n} from '../components';\nimport { Grid, Segment } from 'semantic-ui-react';\nimport { Button } from 'semantic-ui-react';\nimport { flushSync } from 'react-dom';\nimport { defineMessages, useIntl } from 'react-intl';\n\nconst messages = defineMessages({\n  searchButtonText: {\n    id: 'Search',\n    defaultMessage: 'Search',\n  },\n});\n\nconst FacetWrapper = ({ children }) => (\n  <Segment basic className=\"facet\">\n    {children}\n  </Segment>\n);\n\nconst LeftColumnFacets = (props) => {\n  const {\n    children,\n    data,\n    totalItems,\n    facets,\n    setFacets,\n    setSortOn,\n    setSortOrder,\n    sortOn,\n    sortOrder,\n    onTriggerSearch,\n    searchedText, // search text for previous search\n    searchText, // search text currently being entered (controlled input)\n    isEditMode,\n    querystring = {},\n    // searchData,\n    // mode = 'view',\n    // variation,\n  } = props;\n  const { showSearchButton } = data;\n  const isLive = !showSearchButton;\n  const intl = useIntl();\n\n  return (\n    <Grid className=\"searchBlock-facets left-column-facets\" stackable>\n      <Grid.Row>\n        <Grid.Column>\n          {data.headline && <h2 className=\"headline\">{data.headline}</h2>}\n        </Grid.Column>\n      </Grid.Row>\n\n      <Grid.Row>\n        {data.facets?.length > 0 && (\n          <Grid.Column mobile={12} tablet={4} computer={3}>\n            <div className=\"facets\">\n              {data.facetsTitle && <h3>{data.facetsTitle}</h3>}\n              <Facets\n                querystring={querystring}\n                data={data}\n                facets={facets}\n                setFacets={(f) => {\n                  flushSync(() => {\n                    setFacets(f);\n                    onTriggerSearch(searchedText || '', f);\n                  });\n                }}\n                facetWrapper={FacetWrapper}\n              />\n            </div>\n          </Grid.Column>\n        )}\n\n        <Grid.Column\n          mobile={12}\n          tablet={data.facets?.length ? 8 : 12}\n          computer={data.facets?.length ? 9 : 12}\n        >\n          {(Object.keys(data).includes('showSearchInput')\n            ? data.showSearchInput\n            : true) && (\n            <div className=\"search-wrapper\">\n              <SearchInput {...props} isLive={isLive} />\n              {data.showSearchButton && (\n                <Button primary onClick={() => onTriggerSearch(searchText)}>\n                  {data.searchButtonLabel ||\n                    intl.formatMessage(messages.searchButtonText)}\n                </Button>\n              )}\n            </div>\n          )}\n\n          <div>\n            <FilterList\n              {...props}\n              isEditMode={isEditMode}\n              setFacets={(f) => {\n                flushSync(() => {\n                  setFacets(f);\n                  onTriggerSearch(searchedText || '', f);\n                });\n              }}\n            />\n          </div>\n\n          <div className=\"search-results-count-sort\">\n            <SearchDetails text={searchedText} total={totalItems} data={data} />\n\n            {data.showSortOn && (\n              <SortOn\n                querystring={querystring}\n                data={data}\n                isEditMode={isEditMode}\n                sortOn={sortOn}\n                sortOrder={sortOrder}\n                setSortOn={(sortOn) => {\n                  flushSync(() => {\n                    setSortOn(sortOn);\n                    onTriggerSearch(searchedText || '', facets, sortOn);\n                  });\n                }}\n                setSortOrder={(sortOrder) => {\n                  flushSync(() => {\n                    setSortOrder(sortOrder);\n                    onTriggerSearch(\n                      searchedText || '',\n                      facets,\n                      sortOn,\n                      sortOrder,\n                    );\n                  });\n                }}\n              />\n            )}\n          </div>\n          {children}\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  );\n};\n\nexport default LeftColumnFacets;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Search","defaultMessage":"Search"}]}},"sourceType":"module","externalDependencies":[]}