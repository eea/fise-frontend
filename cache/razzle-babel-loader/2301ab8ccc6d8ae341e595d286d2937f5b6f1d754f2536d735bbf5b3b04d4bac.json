{"ast":null,"code":"import _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nimport _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-tabs-block/src/components/templates/carousel/VerticalView.jsx\",\n  _this2 = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router';\nimport loadable from '@loadable/component';\nimport cx from 'classnames';\nimport { RenderBlocks } from '@plone/volto/components';\nimport { withScrollToTarget } from '@eeacms/volto-tabs-block/hocs';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport '@eeacms/volto-tabs-block/less/carousel.less';\nvar Slider = loadable({\n  resolved: {},\n  chunkName: function chunkName() {\n    return \"react-slick\";\n  },\n  isReady: function isReady(props) {\n    var key = this.resolve(props);\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n    return false;\n  },\n  importAsync: function importAsync() {\n    return import( /* webpackChunkName: \"react-slick\" */'react-slick');\n  },\n  requireAsync: function requireAsync(props) {\n    var _this = this;\n    var key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(function (resolved) {\n      _this.resolved[key] = true;\n      return resolved;\n    });\n  },\n  requireSync: function requireSync(props) {\n    var id = this.resolve(props);\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n    return eval('module.require')(id);\n  },\n  resolve: function resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"react-slick\");\n    }\n    return eval('require.resolve')(\"react-slick\");\n  }\n});\n_c = Slider;\nvar View = function View(props) {\n  _s();\n  var slider = React.useRef(null);\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    hashlinkOnMount = _React$useState2[0],\n    setHashlinkOnMount = _React$useState2[1];\n  var _props$metadata = props.metadata,\n    metadata = _props$metadata === void 0 ? {} : _props$metadata,\n    _props$data = props.data,\n    data = _props$data === void 0 ? {} : _props$data,\n    _props$tabsList = props.tabsList,\n    tabsList = _props$tabsList === void 0 ? [] : _props$tabsList,\n    _props$tabs = props.tabs,\n    tabs = _props$tabs === void 0 ? {} : _props$tabs,\n    _props$hashlink = props.hashlink,\n    hashlink = _props$hashlink === void 0 ? {} : _props$hashlink;\n  var theme = data.theme || 'light';\n  var uiContainer = data.align === 'full' ? 'ui container' : false;\n  var settings = {\n    adaptiveHeight: true,\n    autoplay: false,\n    speed: 500,\n    initialSlide: 1,\n    lazyLoad: 'ondemand',\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    vertical: true,\n    verticalSwiping: true\n  };\n  React.useEffect(function () {\n    var urlHash = props.location.hash.substring(1) || '';\n    if (hashlink.counter > 0 || hashlink.counter === 0 && urlHash && !hashlinkOnMount) {\n      var _slider$current, _slider$current$inner, _slider$current$inner2;\n      var id = hashlink.hash || urlHash || '';\n      var index = tabsList.indexOf(id);\n      var currentIndex = (_slider$current = slider.current) === null || _slider$current === void 0 ? void 0 : (_slider$current$inner = _slider$current.innerSlider) === null || _slider$current$inner === void 0 ? void 0 : (_slider$current$inner2 = _slider$current$inner.state) === null || _slider$current$inner2 === void 0 ? void 0 : _slider$current$inner2.currentSlide;\n      var parentId = data.id || props.id;\n      var parent = document.getElementById(parentId);\n      var headerWrapper = document.querySelector('.header-wrapper');\n      var offsetHeight = (headerWrapper === null || headerWrapper === void 0 ? void 0 : headerWrapper.offsetHeight) || 0;\n      if (id !== parentId && index > -1 && parent) {\n        if (currentIndex !== index) {\n          slider.current.slickGoTo(index);\n        }\n        props.scrollToTarget(parent, offsetHeight);\n      } else if (id === parentId && parent) {\n        props.scrollToTarget(parent, offsetHeight);\n      }\n    }\n    if (!hashlinkOnMount) {\n      setHashlinkOnMount(true);\n    }\n    /* eslint-disable-next-line */\n  }, [hashlink.counter]);\n  var panes = tabsList.map(function (tab, index) {\n    return {\n      id: tab,\n      renderItem: __jsx(RenderBlocks, _extends({}, props, {\n        metadata: metadata,\n        content: tabs[tab],\n        key: \"slide-\".concat(tab),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }))\n    };\n  });\n  return __jsx(React.Fragment, null, __jsx(Slider, _extends({}, settings, {\n    ref: slider,\n    className: cx(uiContainer, theme),\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }), panes.length ? panes.map(function (pane) {\n    return pane.renderItem;\n  }) : ''));\n};\n_s(View, \"TPqnx44kFRQ7ojWocSZSfl+G4VE=\");\n_c2 = View;\nexport default compose(connect(function (state) {\n  return {\n    hashlink: state.hashlink\n  };\n}), withScrollToTarget)(withRouter(View));\nvar _c, _c2;\n$RefreshReg$(_c, \"Slider\");\n$RefreshReg$(_c2, \"View\");","map":{"version":3,"names":["React","connect","compose","withRouter","loadable","cx","RenderBlocks","withScrollToTarget","Slider","View","props","slider","useRef","useState","hashlinkOnMount","setHashlinkOnMount","metadata","data","tabsList","tabs","hashlink","theme","uiContainer","align","settings","adaptiveHeight","autoplay","speed","initialSlide","lazyLoad","slidesToShow","slidesToScroll","vertical","verticalSwiping","useEffect","urlHash","location","hash","substring","counter","id","index","indexOf","currentIndex","current","innerSlider","state","currentSlide","parentId","parent","document","getElementById","headerWrapper","querySelector","offsetHeight","slickGoTo","scrollToTarget","panes","map","tab","renderItem","length","pane"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-tabs-block/src/components/templates/carousel/VerticalView.jsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router';\nimport loadable from '@loadable/component';\nimport cx from 'classnames';\nimport { RenderBlocks } from '@plone/volto/components';\nimport { withScrollToTarget } from '@eeacms/volto-tabs-block/hocs';\n\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport '@eeacms/volto-tabs-block/less/carousel.less';\n\nconst Slider = loadable(() => import('react-slick'));\n\nconst View = (props) => {\n  const slider = React.useRef(null);\n  const [hashlinkOnMount, setHashlinkOnMount] = React.useState(false);\n  const {\n    metadata = {},\n    data = {},\n    tabsList = [],\n    tabs = {},\n    hashlink = {},\n  } = props;\n  const theme = data.theme || 'light';\n  const uiContainer = data.align === 'full' ? 'ui container' : false;\n\n  const settings = {\n    adaptiveHeight: true,\n    autoplay: false,\n    speed: 500,\n    initialSlide: 1,\n    lazyLoad: 'ondemand',\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    vertical: true,\n    verticalSwiping: true,\n  };\n\n  React.useEffect(() => {\n    const urlHash = props.location.hash.substring(1) || '';\n    if (\n      hashlink.counter > 0 ||\n      (hashlink.counter === 0 && urlHash && !hashlinkOnMount)\n    ) {\n      const id = hashlink.hash || urlHash || '';\n      const index = tabsList.indexOf(id);\n      const currentIndex = slider.current?.innerSlider?.state?.currentSlide;\n      const parentId = data.id || props.id;\n      const parent = document.getElementById(parentId);\n      const headerWrapper = document.querySelector('.header-wrapper');\n      const offsetHeight = headerWrapper?.offsetHeight || 0;\n      if (id !== parentId && index > -1 && parent) {\n        if (currentIndex !== index) {\n          slider.current.slickGoTo(index);\n        }\n        props.scrollToTarget(parent, offsetHeight);\n      } else if (id === parentId && parent) {\n        props.scrollToTarget(parent, offsetHeight);\n      }\n    }\n    if (!hashlinkOnMount) {\n      setHashlinkOnMount(true);\n    }\n    /* eslint-disable-next-line */\n  }, [hashlink.counter]);\n\n  const panes = tabsList.map((tab, index) => {\n    return {\n      id: tab,\n      renderItem: (\n        <RenderBlocks\n          {...props}\n          metadata={metadata}\n          content={tabs[tab]}\n          key={`slide-${tab}`}\n        />\n      ),\n    };\n  });\n\n  return (\n    <>\n      <Slider {...settings} ref={slider} className={cx(uiContainer, theme)}>\n        {panes.length ? panes.map((pane) => pane.renderItem) : ''}\n      </Slider>\n    </>\n  );\n};\n\nexport default compose(\n  connect((state) => {\n    return {\n      hashlink: state.hashlink,\n    };\n  }),\n  withScrollToTarget,\n)(withRouter(View));\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}