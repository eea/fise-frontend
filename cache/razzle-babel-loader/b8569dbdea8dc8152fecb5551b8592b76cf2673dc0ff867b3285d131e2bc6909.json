{"ast":null,"code":"import _toConsumableArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport tagSVG from '@plone/volto/icons/blog-entry.svg';\nimport { defineMessages } from 'react-intl'; // , defineMessages\nimport { makeInlineElementPlugin } from '@plone/volto-slate/elementEditor';\nimport { FootnoteElement } from '@eeacms/volto-slate-footnote/editor/render';\nimport { ZOTERO } from '../constants';\nimport { withZotero } from './extensions';\nimport { openaire_items_pub, openaire_items_rsd, zotero_collections, zotero_editor, zotero_items, zotero_item_citation, zotero_item_saved, zotero_search_items, zotero_settings, zotero_sub_collections } from './reducers';\nimport { ZoteroEditorSchema } from './schema';\nimport ZoteroEditor from './ZoteroEditor';\nvar messages = defineMessages({\n  edit: {\n    \"id\": \"Edit citation\",\n    \"defaultMessage\": \"Edit citation\"\n  },\n  \"delete\": {\n    \"id\": \"Remove citation\",\n    \"defaultMessage\": \"Remove citation\"\n  }\n});\nexport default function install(config) {\n  config.addonReducers = _objectSpread(_objectSpread({}, config.addonReducers), {}, {\n    zotero_editor: zotero_editor,\n    zotero_settings: zotero_settings,\n    zotero_collections: zotero_collections,\n    zotero_sub_collections: zotero_sub_collections,\n    zotero_items: zotero_items,\n    zotero_item_citation: zotero_item_citation,\n    zotero_item_saved: zotero_item_saved,\n    openaire_items_pub: openaire_items_pub,\n    openaire_items_rsd: openaire_items_rsd,\n    zotero_search_items: zotero_search_items\n  });\n  var opts = {\n    title: 'Citation',\n    pluginId: ZOTERO,\n    pluginEditor: ZoteroEditor,\n    elementType: ZOTERO,\n    element: FootnoteElement,\n    isInlineElement: true,\n    editSchema: ZoteroEditorSchema,\n    extensions: [withZotero],\n    hasValue: function hasValue(formData) {\n      return !!formData.footnote;\n    },\n    toolbarButtonIcon: tagSVG,\n    messages: messages\n  };\n  var _makeInlineElementPlu = makeInlineElementPlugin(opts),\n    _makeInlineElementPlu2 = _slicedToArray(_makeInlineElementPlu, 1),\n    installZoteroFootnoteEditor = _makeInlineElementPlu2[0];\n  config = installZoteroFootnoteEditor(config);\n  var slate = config.settings.slate;\n  slate.toolbarButtons = [].concat(_toConsumableArray(slate.toolbarButtons || []), ['zotero']);\n  slate.expandedToolbarButtons = [].concat(_toConsumableArray(slate.expandedToolbarButtons || []), ['zotero']);\n  return config;\n}","map":{"version":3,"names":["tagSVG","defineMessages","makeInlineElementPlugin","FootnoteElement","ZOTERO","withZotero","openaire_items_pub","openaire_items_rsd","zotero_collections","zotero_editor","zotero_items","zotero_item_citation","zotero_item_saved","zotero_search_items","zotero_settings","zotero_sub_collections","ZoteroEditorSchema","ZoteroEditor","messages","edit","install","config","addonReducers","opts","title","pluginId","pluginEditor","elementType","element","isInlineElement","editSchema","extensions","hasValue","formData","footnote","toolbarButtonIcon","installZoteroFootnoteEditor","slate","settings","toolbarButtons","expandedToolbarButtons"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-slate-zotero/src/plugins/zotero/editor/index.js"],"sourcesContent":["import tagSVG from '@plone/volto/icons/blog-entry.svg';\nimport { defineMessages } from 'react-intl'; // , defineMessages\nimport { makeInlineElementPlugin } from '@plone/volto-slate/elementEditor';\nimport { FootnoteElement } from '@eeacms/volto-slate-footnote/editor/render';\nimport { ZOTERO } from '../constants';\nimport { withZotero } from './extensions';\nimport {\n  openaire_items_pub,\n  openaire_items_rsd,\n  zotero_collections,\n  zotero_editor,\n  zotero_items,\n  zotero_item_citation,\n  zotero_item_saved,\n  zotero_search_items,\n  zotero_settings,\n  zotero_sub_collections,\n} from './reducers';\nimport { ZoteroEditorSchema } from './schema';\nimport ZoteroEditor from './ZoteroEditor';\n\nconst messages = defineMessages({\n  edit: {\n    id: 'Edit citation',\n    defaultMessage: 'Edit citation',\n  },\n  delete: {\n    id: 'Remove citation',\n    defaultMessage: 'Remove citation',\n  },\n});\n\nexport default function install(config) {\n  config.addonReducers = {\n    ...config.addonReducers,\n    zotero_editor,\n    zotero_settings,\n    zotero_collections,\n    zotero_sub_collections,\n    zotero_items,\n    zotero_item_citation,\n    zotero_item_saved,\n    openaire_items_pub,\n    openaire_items_rsd,\n    zotero_search_items,\n  };\n\n  const opts = {\n    title: 'Citation',\n    pluginId: ZOTERO,\n    pluginEditor: ZoteroEditor,\n    elementType: ZOTERO,\n    element: FootnoteElement,\n    isInlineElement: true,\n    editSchema: ZoteroEditorSchema,\n    extensions: [withZotero],\n    hasValue: (formData) => !!formData.footnote,\n    toolbarButtonIcon: tagSVG,\n    messages,\n  };\n  const [installZoteroFootnoteEditor] = makeInlineElementPlugin(opts);\n  config = installZoteroFootnoteEditor(config);\n\n  const { slate } = config.settings;\n\n  slate.toolbarButtons = [...(slate.toolbarButtons || []), 'zotero'];\n  slate.expandedToolbarButtons = [\n    ...(slate.expandedToolbarButtons || []),\n    'zotero',\n  ];\n\n  return config;\n}\n"],"mappings":";;;AAAA,OAAOA,MAAM,MAAM,mCAAmC;AACtD,SAASC,cAAc,QAAQ,YAAY,CAAC,CAAC;AAC7C,SAASC,uBAAuB,QAAQ,kCAAkC;AAC1E,SAASC,eAAe,QAAQ,4CAA4C;AAC5E,SAASC,MAAM,QAAQ,cAAc;AACrC,SAASC,UAAU,QAAQ,cAAc;AACzC,SACEC,kBAAkB,EAClBC,kBAAkB,EAClBC,kBAAkB,EAClBC,aAAa,EACbC,YAAY,EACZC,oBAAoB,EACpBC,iBAAiB,EACjBC,mBAAmB,EACnBC,eAAe,EACfC,sBAAsB,QACjB,YAAY;AACnB,SAASC,kBAAkB,QAAQ,UAAU;AAC7C,OAAOC,YAAY,MAAM,gBAAgB;AAEzC,IAAMC,QAAQ,GAAGjB,cAAc,CAAC;EAC9BkB,IAAI;IAAA;IAAA;EAAA,CAGH;EACD;IAAA;IAAA;EAAA;AAIF,CAAC,CAAC;AAEF,eAAe,SAASC,OAAO,CAACC,MAAM,EAAE;EACtCA,MAAM,CAACC,aAAa,mCACfD,MAAM,CAACC,aAAa;IACvBb,aAAa,EAAbA,aAAa;IACbK,eAAe,EAAfA,eAAe;IACfN,kBAAkB,EAAlBA,kBAAkB;IAClBO,sBAAsB,EAAtBA,sBAAsB;IACtBL,YAAY,EAAZA,YAAY;IACZC,oBAAoB,EAApBA,oBAAoB;IACpBC,iBAAiB,EAAjBA,iBAAiB;IACjBN,kBAAkB,EAAlBA,kBAAkB;IAClBC,kBAAkB,EAAlBA,kBAAkB;IAClBM,mBAAmB,EAAnBA;EAAmB,EACpB;EAED,IAAMU,IAAI,GAAG;IACXC,KAAK,EAAE,UAAU;IACjBC,QAAQ,EAAErB,MAAM;IAChBsB,YAAY,EAAET,YAAY;IAC1BU,WAAW,EAAEvB,MAAM;IACnBwB,OAAO,EAAEzB,eAAe;IACxB0B,eAAe,EAAE,IAAI;IACrBC,UAAU,EAAEd,kBAAkB;IAC9Be,UAAU,EAAE,CAAC1B,UAAU,CAAC;IACxB2B,QAAQ,EAAE,kBAACC,QAAQ;MAAA,OAAK,CAAC,CAACA,QAAQ,CAACC,QAAQ;IAAA;IAC3CC,iBAAiB,EAAEnC,MAAM;IACzBkB,QAAQ,EAARA;EACF,CAAC;EACD,4BAAsChB,uBAAuB,CAACqB,IAAI,CAAC;IAAA;IAA5Da,2BAA2B;EAClCf,MAAM,GAAGe,2BAA2B,CAACf,MAAM,CAAC;EAE5C,IAAQgB,KAAK,GAAKhB,MAAM,CAACiB,QAAQ,CAAzBD,KAAK;EAEbA,KAAK,CAACE,cAAc,gCAAQF,KAAK,CAACE,cAAc,IAAI,EAAE,IAAG,QAAQ,EAAC;EAClEF,KAAK,CAACG,sBAAsB,gCACtBH,KAAK,CAACG,sBAAsB,IAAI,EAAE,IACtC,QAAQ,EACT;EAED,OAAOnB,MAAM;AACf"},"metadata":{"react-intl":{"messages":[{"id":"Edit citation","defaultMessage":"Edit citation"},{"id":"Remove citation","defaultMessage":"Remove citation"}]}},"sourceType":"module","externalDependencies":[]}