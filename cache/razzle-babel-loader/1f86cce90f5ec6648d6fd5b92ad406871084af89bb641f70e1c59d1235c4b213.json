{"ast":null,"code":"import _objectWithoutProperties from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _excluded = [\"href\"];\nimport { createInstance } from '@datapunt/matomo-tracker-react';\nimport config from '@plone/volto/registry';\n\n/**\n * NOTE: this file exposes just a part of the Matomo React API. If you wish to\n * extend this file or to understand it better, this link may be helpful:\n * https://github.com/Amsterdam/matomo-tracker/tree/master/packages/react\n */\n\nvar _matomo = {};\nvar doWithMatomo = function doWithMatomo(fn) {\n  if (__SERVER__) return;\n  if (!_matomo.instance) {\n    var _window$env, _window$env2, _window$env3, _window$env4, _window$env5;\n    var siteId = ((_window$env = window.env) === null || _window$env === void 0 ? void 0 : _window$env.RAZZLE_MATOMO_SITE_ID) || config.settings.matomoSiteId;\n    var urlBase = ((_window$env2 = window.env) === null || _window$env2 === void 0 ? void 0 : _window$env2.RAZZLE_MATOMO_URL) || config.settings.matomoUrlBase || 'https://matomo.eea.europa.eu/';\n    var userId = ((_window$env3 = window.env) === null || _window$env3 === void 0 ? void 0 : _window$env3.RAZZLE_MATOMO_USER_ID) || config.settings.matomoUserId;\n    var trackerUrl = ((_window$env4 = window.env) === null || _window$env4 === void 0 ? void 0 : _window$env4.RAZZLE_MATOMO_TRAKER_URL) || config.settings.matomoTrackerUrl || \"\".concat(urlBase, \"matomo.php\");\n    var srcUrl = ((_window$env5 = window.env) === null || _window$env5 === void 0 ? void 0 : _window$env5.RAZZLE_MATOMO_SRC_URL) || config.settings.matomoSrcUrl || \"\".concat(urlBase, \"matomo.js\");\n    if (siteId) {\n      /**\n       * NOTE: check this link to see all the available options\n       * https://www.npmjs.com/package/@datapunt/matomo-tracker-react\n       */\n      _matomo.instance = createInstance(_objectSpread({\n        urlBase: urlBase,\n        siteId: siteId,\n        userId: userId,\n        trackerUrl: trackerUrl,\n        srcUrl: srcUrl\n      }, config.settings.matomo || {}));\n    } else {\n      /* eslint-disable-next-line */\n      console.warn('Matomo SiteID is not defined, page actions will not be tracked');\n    }\n  }\n  if (_matomo.instance) fn(_matomo.instance);\n};\nexport var trackPageView = function trackPageView(_ref) {\n  var href = _ref.href,\n    options = _objectWithoutProperties(_ref, _excluded);\n  doWithMatomo(function (m) {\n    m.trackPageView(_objectSpread({\n      href: href\n    }, options));\n  });\n};\nexport var trackEvent = function trackEvent(options) {\n  doWithMatomo(function (m) {\n    m.trackEvent(options);\n  });\n};\nexport var trackSiteSearch = function trackSiteSearch(options) {\n  doWithMatomo(function (m) {\n    m.trackSiteSearch(options);\n  });\n};\nexport var trackLink = function trackLink(options) {\n  doWithMatomo(function (m) {\n    m.trackLink(options);\n  });\n};\nexport var pushInstruction = function pushInstruction(name) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  doWithMatomo(function (m) {\n    m.pushInstruction.apply(m, [name].concat(args));\n  });\n};","map":{"version":3,"names":["createInstance","config","_matomo","doWithMatomo","fn","__SERVER__","instance","siteId","window","env","RAZZLE_MATOMO_SITE_ID","settings","matomoSiteId","urlBase","RAZZLE_MATOMO_URL","matomoUrlBase","userId","RAZZLE_MATOMO_USER_ID","matomoUserId","trackerUrl","RAZZLE_MATOMO_TRAKER_URL","matomoTrackerUrl","srcUrl","RAZZLE_MATOMO_SRC_URL","matomoSrcUrl","matomo","console","warn","trackPageView","href","options","m","trackEvent","trackSiteSearch","trackLink","pushInstruction","name","args"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-matomo/src/utils.js"],"sourcesContent":["import { createInstance } from '@datapunt/matomo-tracker-react';\nimport config from '@plone/volto/registry';\n\n/**\n * NOTE: this file exposes just a part of the Matomo React API. If you wish to\n * extend this file or to understand it better, this link may be helpful:\n * https://github.com/Amsterdam/matomo-tracker/tree/master/packages/react\n */\n\nconst _matomo = {};\n\nconst doWithMatomo = (fn) => {\n  if (__SERVER__) return;\n  if (!_matomo.instance) {\n    const siteId =\n      window.env?.RAZZLE_MATOMO_SITE_ID || config.settings.matomoSiteId;\n\n    const urlBase =\n      window.env?.RAZZLE_MATOMO_URL ||\n      config.settings.matomoUrlBase ||\n      'https://matomo.eea.europa.eu/';\n\n    const userId =\n      window.env?.RAZZLE_MATOMO_USER_ID || config.settings.matomoUserId;\n\n    const trackerUrl =\n      window.env?.RAZZLE_MATOMO_TRAKER_URL ||\n      config.settings.matomoTrackerUrl ||\n      `${urlBase}matomo.php`;\n\n    const srcUrl =\n      window.env?.RAZZLE_MATOMO_SRC_URL ||\n      config.settings.matomoSrcUrl ||\n      `${urlBase}matomo.js`;\n\n    if (siteId) {\n      /**\n       * NOTE: check this link to see all the available options\n       * https://www.npmjs.com/package/@datapunt/matomo-tracker-react\n       */\n      _matomo.instance = createInstance({\n        urlBase,\n        siteId,\n        userId,\n        trackerUrl,\n        srcUrl,\n        // Add your own configuration\n        ...(config.settings.matomo || {}),\n      });\n    } else {\n      /* eslint-disable-next-line */\n      console.warn(\n        'Matomo SiteID is not defined, page actions will not be tracked',\n      );\n    }\n  }\n\n  if (_matomo.instance) fn(_matomo.instance);\n};\n\nexport const trackPageView = ({ href, ...options }) => {\n  doWithMatomo((m) => {\n    m.trackPageView({\n      href,\n      ...options,\n    });\n  });\n};\n\nexport const trackEvent = (options) => {\n  doWithMatomo((m) => {\n    m.trackEvent(options);\n  });\n};\n\nexport const trackSiteSearch = (options) => {\n  doWithMatomo((m) => {\n    m.trackSiteSearch(options);\n  });\n};\n\nexport const trackLink = (options) => {\n  doWithMatomo((m) => {\n    m.trackLink(options);\n  });\n};\n\nexport const pushInstruction = (name, ...args) => {\n  doWithMatomo((m) => {\n    m.pushInstruction(name, ...args);\n  });\n};\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}