{"ast":null,"code":"import _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-forests-theme/src/components/manage/Blocks/SimpleDataTable/templates/expandable/PopupTable.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport { compose } from 'redux';\nimport { connectToProviderData } from '@eeacms/volto-datablocks/hocs';\nimport RenderComponent from '@eeacms/volto-datablocks/components/manage/Blocks/SimpleDataTable/components';\nvar getProviderDataLength = function getProviderDataLength(provider_data) {\n  var _provider_data$Object;\n  return provider_data ? ((_provider_data$Object = provider_data[Object.keys(provider_data)[0]]) === null || _provider_data$Object === void 0 ? void 0 : _provider_data$Object.length) || 0 : 0;\n};\nvar PopupTable = function PopupTable(_ref) {\n  _s();\n  var rowData = _ref.rowData,\n    providerUrl = _ref.providerUrl,\n    provider_data = _ref.provider_data,\n    tableColumns = _ref.tableColumns;\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    tableData = _React$useState2[0],\n    setTableData = _React$useState2[1];\n  React.useEffect(function () {\n    var provider_data_length = getProviderDataLength(provider_data);\n    var newTableData = [];\n    if (provider_data_length) {\n      var keys = Object.keys(provider_data);\n      Array(provider_data_length).fill().forEach(function (_, i) {\n        var obj = {};\n        keys.forEach(function (key) {\n          obj[key] = provider_data[key][i];\n        });\n        newTableData.push(obj);\n      });\n    }\n    setTableData(newTableData);\n    /* eslint-disable-next-line */\n  }, [provider_data]);\n  if (!provider_data) {\n    return 'Loading..';\n  }\n  return __jsx(\"div\", {\n    className: \"popup-table-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, __jsx(Table, {\n    unstackable: true,\n    striped: true,\n    celled: true,\n    className: \"popup-table\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, __jsx(Table.Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, __jsx(Table.Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, tableColumns && tableColumns.length > 0 && tableColumns.map(function (col) {\n    return __jsx(Table.HeaderCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, col.title ? col.title : col.column);\n  }))), __jsx(Table.Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, tableData && tableData.length > 0 ? Array(tableData.length).fill().map(function (_, i) {\n    return __jsx(Table.Row, {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }\n    }, tableColumns.map(function (col, j) {\n      return __jsx(Table.Cell, {\n        key: j,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 23\n        }\n      }, __jsx(RenderComponent, {\n        tableData: tableData,\n        colDef: col,\n        row: i,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }\n      }));\n    }));\n  }) : __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"No data available for table.\"))));\n};\n_s(PopupTable, \"qcVQMfdRY2vxgSp5dutEfuJRk7k=\");\n_c = PopupTable;\nexport default compose(connectToProviderData(function (props) {\n  return {\n    provider_url: props.providerUrl\n  };\n}))(PopupTable);\nvar _c;\n$RefreshReg$(_c, \"PopupTable\");","map":{"version":3,"names":["React","Table","compose","connectToProviderData","RenderComponent","getProviderDataLength","provider_data","Object","keys","length","PopupTable","rowData","providerUrl","tableColumns","useState","tableData","setTableData","useEffect","provider_data_length","newTableData","Array","fill","forEach","_","i","obj","key","push","map","col","title","column","j","props","provider_url"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-forests-theme/src/components/manage/Blocks/SimpleDataTable/templates/expandable/PopupTable.jsx"],"sourcesContent":["import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport { compose } from 'redux';\nimport { connectToProviderData } from '@eeacms/volto-datablocks/hocs';\nimport RenderComponent from '@eeacms/volto-datablocks/components/manage/Blocks/SimpleDataTable/components';\n\nconst getProviderDataLength = (provider_data) => {\n  return provider_data\n    ? provider_data[Object.keys(provider_data)[0]]?.length || 0\n    : 0;\n};\n\nconst PopupTable = ({ rowData, providerUrl, provider_data, tableColumns }) => {\n  const [tableData, setTableData] = React.useState([]);\n\n  React.useEffect(() => {\n    const provider_data_length = getProviderDataLength(provider_data);\n    const newTableData = [];\n    if (provider_data_length) {\n      const keys = Object.keys(provider_data);\n      Array(provider_data_length)\n        .fill()\n        .forEach((_, i) => {\n          const obj = {};\n          keys.forEach((key) => {\n            obj[key] = provider_data[key][i];\n          });\n          newTableData.push(obj);\n        });\n    }\n    setTableData(newTableData);\n    /* eslint-disable-next-line */\n  }, [provider_data]);\n\n  if (!provider_data) {\n    return 'Loading..';\n  }\n\n  return (\n    <div className=\"popup-table-container\">\n      <Table unstackable striped celled className=\"popup-table\">\n        <Table.Header>\n          <Table.Row>\n            {tableColumns &&\n              tableColumns.length > 0 &&\n              tableColumns.map((col) => (\n                <Table.HeaderCell>\n                  {col.title ? col.title : col.column}\n                </Table.HeaderCell>\n              ))}\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {tableData && tableData.length > 0 ? (\n            Array(tableData.length)\n              .fill()\n              .map((_, i) => {\n                return (\n                  <Table.Row key={i}>\n                    {tableColumns.map((col, j) => (\n                      <Table.Cell key={j}>\n                        <RenderComponent\n                          tableData={tableData}\n                          colDef={col}\n                          row={i}\n                        />\n                      </Table.Cell>\n                    ))}\n                  </Table.Row>\n                );\n              })\n          ) : (\n            <p>No data available for table.</p>\n          )}\n        </Table.Body>\n      </Table>\n    </div>\n  );\n};\n\nexport default compose(\n  connectToProviderData((props) => {\n    return {\n      provider_url: props.providerUrl,\n    };\n  }),\n)(PopupTable);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}