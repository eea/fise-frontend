{"ast":null,"code":"import _extends from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\nimport _classCallCheck from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/AnchorPlugin/components/LinkButton/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport EditorUtils from '../../utils/EditorUtils';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport AddLinkForm from '@plone/volto/components/manage/AnchorPlugin/components/LinkButton/AddLinkForm';\nimport Icon from '@plone/volto/components/theme/Icon/Icon';\nimport linkSVG from '@plone/volto/icons/link.svg';\nimport unlinkSVG from '@plone/volto/icons/unlink.svg';\n\n// import unionClassNames from 'union-class-names';\n//import EditorUtils from 'draft-js-plugins-utils';\n\n/**\n * Add link form class.\n * @class LinkButton\n * @extends Component\n */\nvar LinkButton = /*#__PURE__*/function (_Component) {\n  _inherits(LinkButton, _Component);\n  var _super = _createSuper(LinkButton);\n  function LinkButton(_props) {\n    var _this;\n    _classCallCheck(this, LinkButton);\n    _this = _super.call(this, _props);\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (event) {\n      event.preventDefault();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAddLinkClick\", function (e) {\n      var _this$EditorUtils$get, _this$EditorUtils$get2;\n      e.preventDefault();\n      e.stopPropagation();\n      var _this$props = _this.props,\n        ownTheme = _this$props.ownTheme,\n        placeholder = _this$props.placeholder,\n        onOverrideContent = _this$props.onOverrideContent;\n      var link = (_this$EditorUtils$get = _this.EditorUtils.getCurrentEntity(_this.props.getEditorState())) === null || _this$EditorUtils$get === void 0 ? void 0 : (_this$EditorUtils$get2 = _this$EditorUtils$get.getData()) === null || _this$EditorUtils$get2 === void 0 ? void 0 : _this$EditorUtils$get2.url;\n      var content = function content(props) {\n        return __jsx(AddLinkForm, _extends({}, props, {\n          placeholder: placeholder,\n          theme: ownTheme,\n          block: \"draft-js\",\n          data: {\n            url: link || ''\n          },\n          onChangeBlock: function onChangeBlock() {},\n          onClear: function onClear() {\n            _this.props.setEditorState(_this.DraftEditorUtils.removeLinkAtSelection(_this.props.getEditorState()));\n          },\n          onChangeValue: function onChangeValue(url) {\n            _this.props.setEditorState(_this.DraftEditorUtils.createLinkAtSelection(_this.props.getEditorState(), url));\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 7\n          }\n        }));\n      };\n      onOverrideContent(content);\n    });\n    _this.DraftEditorUtils = _props.draftJsPluginsUtils[\"default\"];\n    _this.EditorUtils = EditorUtils(_props);\n    return _this;\n  }\n  _createClass(LinkButton, [{\n    key: \"render\",\n    value:\n    /**\n     * Render method.\n     * @method render\n     * @returns {string} Markup for the component.\n     */\n    function render() {\n      var theme = this.props.theme;\n      var hasLinkSelected = this.EditorUtils.hasEntity(this.props.getEditorState(), 'LINK');\n      var className = hasLinkSelected ? cx(theme.button, theme.active) : theme.button;\n      return __jsx(\"div\", {\n        className: theme.buttonWrapper,\n        onMouseDown: this.onMouseDown,\n        role: \"presentation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }\n      }, __jsx(\"button\", {\n        className: className,\n        onClick: this.onAddLinkClick\n        // hasLinkSelected\n        //   ? () =>\n        //       onRemoveLinkAtSelection(\n        //         this.props.setEditorState,\n        //         this.props.getEditorState,\n        //       )\n        //   : this.onAddLinkClick\n        ,\n\n        type: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }\n      }, !hasLinkSelected ? __jsx(Icon, {\n        name: linkSVG,\n        size: \"24px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }) : __jsx(Icon, {\n        name: unlinkSVG,\n        size: \"24px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n  return LinkButton;\n}(Component);\n_defineProperty(LinkButton, \"propTypes\", {\n  placeholder: PropTypes.string,\n  theme: PropTypes.shape({}).isRequired,\n  ownTheme: PropTypes.shape({}).isRequired,\n  onRemoveLinkAtSelection: PropTypes.func.isRequired,\n  onOverrideContent: PropTypes.func.isRequired\n});\n_defineProperty(LinkButton, \"defaultProps\", {\n  placeholder: ''\n});\nexport default injectLazyLibs(['draftJs', 'draftJsPluginsUtils'])(LinkButton);","map":{"version":3,"names":["React","Component","PropTypes","cx","EditorUtils","injectLazyLibs","AddLinkForm","Icon","linkSVG","unlinkSVG","LinkButton","props","event","preventDefault","e","stopPropagation","ownTheme","placeholder","onOverrideContent","link","getCurrentEntity","getEditorState","getData","url","content","setEditorState","DraftEditorUtils","removeLinkAtSelection","createLinkAtSelection","draftJsPluginsUtils","theme","hasLinkSelected","hasEntity","className","button","active","buttonWrapper","onMouseDown","onAddLinkClick","string","shape","isRequired","onRemoveLinkAtSelection","func"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/AnchorPlugin/components/LinkButton/index.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport EditorUtils from '../../utils/EditorUtils';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport AddLinkForm from '@plone/volto/components/manage/AnchorPlugin/components/LinkButton/AddLinkForm';\nimport Icon from '@plone/volto/components/theme/Icon/Icon';\n\nimport linkSVG from '@plone/volto/icons/link.svg';\nimport unlinkSVG from '@plone/volto/icons/unlink.svg';\n\n// import unionClassNames from 'union-class-names';\n//import EditorUtils from 'draft-js-plugins-utils';\n\n/**\n * Add link form class.\n * @class LinkButton\n * @extends Component\n */\nclass LinkButton extends Component {\n  static propTypes = {\n    placeholder: PropTypes.string,\n    theme: PropTypes.shape({}).isRequired,\n    ownTheme: PropTypes.shape({}).isRequired,\n    onRemoveLinkAtSelection: PropTypes.func.isRequired,\n    onOverrideContent: PropTypes.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.DraftEditorUtils = props.draftJsPluginsUtils.default;\n    this.EditorUtils = EditorUtils(props);\n  }\n\n  static defaultProps = {\n    placeholder: '',\n  };\n\n  onMouseDown = (event) => {\n    event.preventDefault();\n  };\n\n  onAddLinkClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const { ownTheme, placeholder, onOverrideContent } = this.props;\n    const link = this.EditorUtils.getCurrentEntity(\n      this.props.getEditorState(),\n    )?.getData()?.url;\n\n    const content = (props) => (\n      <AddLinkForm\n        {...props}\n        placeholder={placeholder}\n        theme={ownTheme}\n        block=\"draft-js\"\n        data={{ url: link || '' }}\n        onChangeBlock={() => {}}\n        onClear={() => {\n          this.props.setEditorState(\n            this.DraftEditorUtils.removeLinkAtSelection(\n              this.props.getEditorState(),\n            ),\n          );\n        }}\n        onChangeValue={(url) => {\n          this.props.setEditorState(\n            this.DraftEditorUtils.createLinkAtSelection(\n              this.props.getEditorState(),\n              url,\n            ),\n          );\n        }}\n      />\n    );\n    onOverrideContent(content);\n  };\n\n  /**\n   * Render method.\n   * @method render\n   * @returns {string} Markup for the component.\n   */\n  render() {\n    const { theme } = this.props;\n    const hasLinkSelected = this.EditorUtils.hasEntity(\n      this.props.getEditorState(),\n      'LINK',\n    );\n    const className = hasLinkSelected\n      ? cx(theme.button, theme.active)\n      : theme.button;\n\n    return (\n      <div\n        className={theme.buttonWrapper}\n        onMouseDown={this.onMouseDown}\n        role=\"presentation\"\n      >\n        <button\n          className={className}\n          onClick={\n            this.onAddLinkClick\n            // hasLinkSelected\n            //   ? () =>\n            //       onRemoveLinkAtSelection(\n            //         this.props.setEditorState,\n            //         this.props.getEditorState,\n            //       )\n            //   : this.onAddLinkClick\n          }\n          type=\"button\"\n        >\n          {!hasLinkSelected ? (\n            <Icon name={linkSVG} size=\"24px\" />\n          ) : (\n            <Icon name={unlinkSVG} size=\"24px\" />\n          )}\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default injectLazyLibs(['draftJs', 'draftJsPluginsUtils'])(LinkButton);\n"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,EAAE,MAAM,YAAY;AAC3B,OAAOC,WAAW,MAAM,yBAAyB;AACjD,SAASC,cAAc,QAAQ,wCAAwC;AACvE,OAAOC,WAAW,MAAM,+EAA+E;AACvG,OAAOC,IAAI,MAAM,yCAAyC;AAE1D,OAAOC,OAAO,MAAM,6BAA6B;AACjD,OAAOC,SAAS,MAAM,+BAA+B;;AAErD;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA,IAKMC,UAAU;EAAA;EAAA;EASd,oBAAYC,MAAK,EAAE;IAAA;IAAA;IACjB,0BAAMA,MAAK;IAAE,8DAUD,UAACC,KAAK,EAAK;MACvBA,KAAK,CAACC,cAAc,EAAE;IACxB,CAAC;IAAA,iEAEgB,UAACC,CAAC,EAAK;MAAA;MACtBA,CAAC,CAACD,cAAc,EAAE;MAClBC,CAAC,CAACC,eAAe,EAAE;MACnB,kBAAqD,MAAKJ,KAAK;QAAvDK,QAAQ,eAARA,QAAQ;QAAEC,WAAW,eAAXA,WAAW;QAAEC,iBAAiB,eAAjBA,iBAAiB;MAChD,IAAMC,IAAI,4BAAG,MAAKf,WAAW,CAACgB,gBAAgB,CAC5C,MAAKT,KAAK,CAACU,cAAc,EAAE,CAC5B,oFAFY,sBAEVC,OAAO,EAAE,2DAFC,uBAECC,GAAG;MAEjB,IAAMC,OAAO,GAAG,SAAVA,OAAO,CAAIb,KAAK;QAAA,OACpB,MAAC,WAAW,eACNA,KAAK;UACT,WAAW,EAAEM,WAAY;UACzB,KAAK,EAAED,QAAS;UAChB,KAAK,EAAC,UAAU;UAChB,IAAI,EAAE;YAAEO,GAAG,EAAEJ,IAAI,IAAI;UAAG,CAAE;UAC1B,aAAa,EAAE,yBAAM,CAAC,CAAE;UACxB,OAAO,EAAE,mBAAM;YACb,MAAKR,KAAK,CAACc,cAAc,CACvB,MAAKC,gBAAgB,CAACC,qBAAqB,CACzC,MAAKhB,KAAK,CAACU,cAAc,EAAE,CAC5B,CACF;UACH,CAAE;UACF,aAAa,EAAE,uBAACE,GAAG,EAAK;YACtB,MAAKZ,KAAK,CAACc,cAAc,CACvB,MAAKC,gBAAgB,CAACE,qBAAqB,CACzC,MAAKjB,KAAK,CAACU,cAAc,EAAE,EAC3BE,GAAG,CACJ,CACF;UACH,CAAE;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,GACF;MAAA,CACH;MACDL,iBAAiB,CAACM,OAAO,CAAC;IAC5B,CAAC;IA9CC,MAAKE,gBAAgB,GAAGf,MAAK,CAACkB,mBAAmB,WAAQ;IACzD,MAAKzB,WAAW,GAAGA,WAAW,CAACO,MAAK,CAAC;IAAC;EACxC;EAAC;IAAA;IAAA;IA8CD;AACF;AACA;AACA;AACA;IACE,kBAAS;MACP,IAAQmB,KAAK,GAAK,IAAI,CAACnB,KAAK,CAApBmB,KAAK;MACb,IAAMC,eAAe,GAAG,IAAI,CAAC3B,WAAW,CAAC4B,SAAS,CAChD,IAAI,CAACrB,KAAK,CAACU,cAAc,EAAE,EAC3B,MAAM,CACP;MACD,IAAMY,SAAS,GAAGF,eAAe,GAC7B5B,EAAE,CAAC2B,KAAK,CAACI,MAAM,EAAEJ,KAAK,CAACK,MAAM,CAAC,GAC9BL,KAAK,CAACI,MAAM;MAEhB,OACE;QACE,SAAS,EAAEJ,KAAK,CAACM,aAAc;QAC/B,WAAW,EAAE,IAAI,CAACC,WAAY;QAC9B,IAAI,EAAC,cAAc;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAEnB;QACE,SAAS,EAAEJ,SAAU;QACrB,OAAO,EACL,IAAI,CAACK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACD;;QACD,IAAI,EAAC,QAAQ;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAEZ,CAACP,eAAe,GACf,MAAC,IAAI;QAAC,IAAI,EAAEvB,OAAQ;QAAC,IAAI,EAAC,MAAM;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAG,GAEnC,MAAC,IAAI;QAAC,IAAI,EAAEC,SAAU;QAAC,IAAI,EAAC,MAAM;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACnC,CACM,CACL;IAEV;EAAC;EAAA;AAAA,EAvGsBR,SAAS;AAAA,gBAA5BS,UAAU,eACK;EACjBO,WAAW,EAAEf,SAAS,CAACqC,MAAM;EAC7BT,KAAK,EAAE5B,SAAS,CAACsC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU;EACrCzB,QAAQ,EAAEd,SAAS,CAACsC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU;EACxCC,uBAAuB,EAAExC,SAAS,CAACyC,IAAI,CAACF,UAAU;EAClDvB,iBAAiB,EAAEhB,SAAS,CAACyC,IAAI,CAACF;AACpC,CAAC;AAAA,gBAPG/B,UAAU,kBAgBQ;EACpBO,WAAW,EAAE;AACf,CAAC;AAwFH,eAAeZ,cAAc,CAAC,CAAC,SAAS,EAAE,qBAAqB,CAAC,CAAC,CAACK,UAAU,CAAC"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}