{"ast":null,"code":"import _defineProperty from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n/* eslint no-console: 0 */\nimport React from 'react';\nimport objectAssign from 'object-assign';\nimport { ATTRIBUTE_NAMES, HELMET_ATTRIBUTE, HELMET_PROPS, HTML_TAG_MAP, REACT_TAG_MAP, SELF_CLOSING_TAGS, TAG_NAMES, TAG_PROPERTIES } from './HelmetConstants.js';\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (encode === false) {\n    return String(str);\n  }\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#x27;');\n};\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return Array.isArray(innermostTitle) ? innermostTitle.join('') : innermostTitle;\n    });\n  }\n  var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== 'undefined';\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _objectSpread(_objectSpread({}, tagAttrs), current);\n  }, {});\n};\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[TAG_NAMES.BASE] !== 'undefined';\n  }).map(function (props) {\n    return props[TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n    return innermostBaseTag;\n  }, []);\n};\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n    if (typeof props[tagName] !== 'undefined') {\n      warn(\"Helmet: \".concat(tagName, \" should be of type \\\"Array\\\". Instead found type \\\"\").concat(typeof props[tagName], \"\\\"\"));\n    }\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey;\n      var keys = Object.keys(tag);\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === 'canonical') && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === 'stylesheet')) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        }\n        // Special case for innerHTML which doesn't work lowercased\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n      var value = tag[primaryAttributeKey].toLowerCase();\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    });\n\n    // Update seen tags with tags from this instance\n    var keys = Object.keys(instanceSeenTags);\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n    return approvedTags;\n  }, []).reverse();\n};\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n  return null;\n};\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n    bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\nvar requestAnimationFrame = true ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = true ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\nvar warn = function warn(msg) {\n  return console && typeof console.warn === 'function' && console.warn(msg);\n};\nvar _helmetCallback = null;\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n    bodyAttributes = newState.bodyAttributes,\n    htmlAttributes = newState.htmlAttributes,\n    linkTags = newState.linkTags,\n    metaTags = newState.metaTags,\n    noscriptTags = newState.noscriptTags,\n    onChangeClientState = newState.onChangeClientState,\n    scriptTags = newState.scriptTags,\n    styleTags = newState.styleTags,\n    title = newState.title,\n    titleAttributes = newState.titleAttributes;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n      newTags = _tagUpdates$tagType.newTags,\n      oldTags = _tagUpdates$tagType.oldTags;\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join('') : possibleArray;\n};\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== 'undefined' && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n  if (!elementTag) {\n    return;\n  }\n  var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(',') : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || '';\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n    var indexToSave = attributesToRemove.indexOf(attribute);\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(',')) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(','));\n  }\n};\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(\"\".concat(type, \"[\").concat(HELMET_ATTRIBUTE, \"]\"));\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete;\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === 'undefined' ? '' : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n      newElement.setAttribute(HELMET_ATTRIBUTE, 'true');\n\n      // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== 'undefined' ? \"\".concat(key, \"=\\\"\").concat(attributes[key], \"\\\"\") : \"\".concat(key);\n    return str ? \"\".concat(str, \" \").concat(attr) : attr;\n  }, '');\n};\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\".concat(type, \" \").concat(HELMET_ATTRIBUTE, \"=\\\"true\\\" \").concat(attributeString, \">\").concat(encodeSpecialCharacters(flattenedTitle, encode), \"</\").concat(type, \">\") : \"<\".concat(type, \" \").concat(HELMET_ATTRIBUTE, \"=\\\"true\\\">\").concat(encodeSpecialCharacters(flattenedTitle, encode), \"</\").concat(type, \">\");\n};\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === 'undefined' ? attribute : \"\".concat(attribute, \"=\\\"\").concat(encodeSpecialCharacters(tag[attribute], encode), \"\\\"\");\n      return string ? \"\".concat(string, \" \").concat(attr) : attr;\n    }, '');\n    var tagContent = tag.innerHTML || tag.cssText || '';\n    var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return \"\".concat(str, \"<\").concat(type, \" \").concat(HELMET_ATTRIBUTE, \"=\\\"true\\\" \").concat(attributeHtml).concat(isSelfClosing ? \"/>\" : \">\".concat(tagContent, \"</\").concat(type, \">\"));\n  }, '');\n};\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  // assigning into an array to define toString function on it\n  var initProps = _defineProperty({\n    key: title\n  }, HELMET_ATTRIBUTE, true);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [/*#__PURE__*/React.createElement(TAG_NAMES.TITLE, props, title)];\n};\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var mappedTag = _defineProperty({\n      key: i\n    }, HELMET_ATTRIBUTE, true);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n      if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return /*#__PURE__*/React.createElement(type, mappedTag);\n  });\n};\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n    bodyAttributes = _ref.bodyAttributes,\n    encode = _ref.encode,\n    htmlAttributes = _ref.htmlAttributes,\n    linkTags = _ref.linkTags,\n    metaTags = _ref.metaTags,\n    noscriptTags = _ref.noscriptTags,\n    scriptTags = _ref.scriptTags,\n    styleTags = _ref.styleTags,\n    _ref$title = _ref.title,\n    title = _ref$title === void 0 ? '' : _ref$title,\n    titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\nexport { convertReactPropstoHtmlAttributes };\nexport { handleClientStateChange };\nexport { mapStateOnServer };\nexport { reducePropsToState };\nexport { requestAnimationFrame };\nexport { warn };","map":{"version":3,"names":["React","objectAssign","ATTRIBUTE_NAMES","HELMET_ATTRIBUTE","HELMET_PROPS","HTML_TAG_MAP","REACT_TAG_MAP","SELF_CLOSING_TAGS","TAG_NAMES","TAG_PROPERTIES","encodeSpecialCharacters","str","encode","String","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","TITLE","innermostTemplate","TITLE_TEMPLATE","Array","isArray","join","innermostDefaultTitle","DEFAULT_TITLE","undefined","getOnChangeClientState","ON_CHANGE_CLIENT_STATE","getAttributesFromPropsList","tagType","filter","props","map","reduce","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","BASE","reverse","innermostBaseTag","tag","length","keys","Object","i","attributeKey","lowerCaseAttributeKey","toLowerCase","indexOf","concat","getTagsFromPropsList","tagName","approvedSeenTags","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","REL","INNER_HTML","CSS_TEXT","ITEM_PROP","value","forEach","push","tagUnion","property","hasOwnProperty","reducePropsToState","baseTag","HREF","TARGET","bodyAttributes","BODY","defer","DEFER","ENCODE_SPECIAL_CHARACTERS","htmlAttributes","HTML","linkTags","LINK","metaTags","META","NAME","CHARSET","HTTPEQUIV","PROPERTY","noscriptTags","NOSCRIPT","onChangeClientState","scriptTags","SCRIPT","SRC","styleTags","STYLE","title","titleAttributes","rafPolyfill","clock","Date","now","callback","currentTime","setTimeout","cafPolyfill","id","clearTimeout","requestAnimationFrame","window","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","console","_helmetCallback","handleClientStateChange","newState","commitTagChanges","cb","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","newTags","oldTags","flattenArray","possibleArray","attributes","document","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","removeAttribute","type","tags","headElement","head","querySelector","HEAD","tagNodes","querySelectorAll","prototype","slice","call","indexToDelete","newElement","createElement","innerHTML","styleSheet","cssText","appendChild","createTextNode","some","existingTag","index","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","key","attr","generateTitleAsString","attributeString","flattenedTitle","generateTagsAsString","attributeHtml","string","tagContent","isSelfClosing","convertElementAttributestoReactProps","initProps","obj","convertReactPropstoHtmlAttributes","initAttributes","generateTitleAsReactComponent","generateTagsAsReactComponent","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","getMethodsForTag","toComponent","toString","mapStateOnServer","base","link","meta","noscript","script","style"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/helpers/Helmet/HelmetUtils.js"],"sourcesContent":["/* eslint no-console: 0 */\nimport React from 'react';\nimport objectAssign from 'object-assign';\nimport {\n  ATTRIBUTE_NAMES,\n  HELMET_ATTRIBUTE,\n  HELMET_PROPS,\n  HTML_TAG_MAP,\n  REACT_TAG_MAP,\n  SELF_CLOSING_TAGS,\n  TAG_NAMES,\n  TAG_PROPERTIES,\n} from './HelmetConstants.js';\n\nconst encodeSpecialCharacters = (str, encode = true) => {\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n};\n\nconst getTitleFromPropsList = (propsList) => {\n  const innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  const innermostTemplate = getInnermostProperty(\n    propsList,\n    HELMET_PROPS.TITLE_TEMPLATE,\n  );\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, () =>\n      Array.isArray(innermostTitle) ? innermostTitle.join('') : innermostTitle,\n    );\n  }\n\n  const innermostDefaultTitle = getInnermostProperty(\n    propsList,\n    HELMET_PROPS.DEFAULT_TITLE,\n  );\n\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nconst getOnChangeClientState = (propsList) => {\n  return (\n    getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) ||\n    (() => {})\n  );\n};\n\nconst getAttributesFromPropsList = (tagType, propsList) => {\n  return propsList\n    .filter((props) => typeof props[tagType] !== 'undefined')\n    .map((props) => props[tagType])\n    .reduce((tagAttrs, current) => {\n      return { ...tagAttrs, ...current };\n    }, {});\n};\n\nconst getBaseTagFromPropsList = (primaryAttributes, propsList) => {\n  return propsList\n    .filter((props) => typeof props[TAG_NAMES.BASE] !== 'undefined')\n    .map((props) => props[TAG_NAMES.BASE])\n    .reverse()\n    .reduce((innermostBaseTag, tag) => {\n      if (!innermostBaseTag.length) {\n        const keys = Object.keys(tag);\n\n        for (let i = 0; i < keys.length; i++) {\n          const attributeKey = keys[i];\n          const lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n          if (\n            primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 &&\n            tag[lowerCaseAttributeKey]\n          ) {\n            return innermostBaseTag.concat(tag);\n          }\n        }\n      }\n\n      return innermostBaseTag;\n    }, []);\n};\n\nconst getTagsFromPropsList = (tagName, primaryAttributes, propsList) => {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  const approvedSeenTags = {};\n\n  return propsList\n    .filter((props) => {\n      if (Array.isArray(props[tagName])) {\n        return true;\n      }\n      if (typeof props[tagName] !== 'undefined') {\n        warn(\n          `Helmet: ${tagName} should be of type \"Array\". Instead found type \"${typeof props[\n            tagName\n          ]}\"`,\n        );\n      }\n      return false;\n    })\n    .map((props) => props[tagName])\n    .reverse()\n    .reduce((approvedTags, instanceTags) => {\n      const instanceSeenTags = {};\n\n      instanceTags\n        .filter((tag) => {\n          let primaryAttributeKey;\n          const keys = Object.keys(tag);\n          for (let i = 0; i < keys.length; i++) {\n            const attributeKey = keys[i];\n            const lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n            // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n            if (\n              primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 &&\n              !(\n                primaryAttributeKey === TAG_PROPERTIES.REL &&\n                tag[primaryAttributeKey].toLowerCase() === 'canonical'\n              ) &&\n              !(\n                lowerCaseAttributeKey === TAG_PROPERTIES.REL &&\n                tag[lowerCaseAttributeKey].toLowerCase() === 'stylesheet'\n              )\n            ) {\n              primaryAttributeKey = lowerCaseAttributeKey;\n            }\n            // Special case for innerHTML which doesn't work lowercased\n            if (\n              primaryAttributes.indexOf(attributeKey) !== -1 &&\n              (attributeKey === TAG_PROPERTIES.INNER_HTML ||\n                attributeKey === TAG_PROPERTIES.CSS_TEXT ||\n                attributeKey === TAG_PROPERTIES.ITEM_PROP)\n            ) {\n              primaryAttributeKey = attributeKey;\n            }\n          }\n\n          if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n            return false;\n          }\n\n          const value = tag[primaryAttributeKey].toLowerCase();\n\n          if (!approvedSeenTags[primaryAttributeKey]) {\n            approvedSeenTags[primaryAttributeKey] = {};\n          }\n\n          if (!instanceSeenTags[primaryAttributeKey]) {\n            instanceSeenTags[primaryAttributeKey] = {};\n          }\n\n          if (!approvedSeenTags[primaryAttributeKey][value]) {\n            instanceSeenTags[primaryAttributeKey][value] = true;\n            return true;\n          }\n\n          return false;\n        })\n        .reverse()\n        .forEach((tag) => approvedTags.push(tag));\n\n      // Update seen tags with tags from this instance\n      const keys = Object.keys(instanceSeenTags);\n      for (let i = 0; i < keys.length; i++) {\n        const attributeKey = keys[i];\n        const tagUnion = objectAssign(\n          {},\n          approvedSeenTags[attributeKey],\n          instanceSeenTags[attributeKey],\n        );\n\n        approvedSeenTags[attributeKey] = tagUnion;\n      }\n\n      return approvedTags;\n    }, [])\n    .reverse();\n};\n\nconst getInnermostProperty = (propsList, property) => {\n  for (let i = propsList.length - 1; i >= 0; i--) {\n    const props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nconst reducePropsToState = (propsList) => ({\n  baseTag: getBaseTagFromPropsList(\n    [TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET],\n    propsList,\n  ),\n  bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n  defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n  encode: getInnermostProperty(\n    propsList,\n    HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS,\n  ),\n  htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n  linkTags: getTagsFromPropsList(\n    TAG_NAMES.LINK,\n    [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF],\n    propsList,\n  ),\n  metaTags: getTagsFromPropsList(\n    TAG_NAMES.META,\n    [\n      TAG_PROPERTIES.NAME,\n      TAG_PROPERTIES.CHARSET,\n      TAG_PROPERTIES.HTTPEQUIV,\n      TAG_PROPERTIES.PROPERTY,\n      TAG_PROPERTIES.ITEM_PROP,\n    ],\n    propsList,\n  ),\n  noscriptTags: getTagsFromPropsList(\n    TAG_NAMES.NOSCRIPT,\n    [TAG_PROPERTIES.INNER_HTML],\n    propsList,\n  ),\n  onChangeClientState: getOnChangeClientState(propsList),\n  scriptTags: getTagsFromPropsList(\n    TAG_NAMES.SCRIPT,\n    [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML],\n    propsList,\n  ),\n  styleTags: getTagsFromPropsList(\n    TAG_NAMES.STYLE,\n    [TAG_PROPERTIES.CSS_TEXT],\n    propsList,\n  ),\n  title: getTitleFromPropsList(propsList),\n  titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList),\n});\n\nconst rafPolyfill = (() => {\n  let clock = Date.now();\n\n  return (callback) => {\n    const currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(() => {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n})();\n\nconst cafPolyfill = (id) => clearTimeout(id);\n\nconst requestAnimationFrame =\n  typeof window !== 'undefined'\n    ? (window.requestAnimationFrame &&\n        window.requestAnimationFrame.bind(window)) ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      rafPolyfill\n    : global.requestAnimationFrame || rafPolyfill;\n\nconst cancelAnimationFrame =\n  typeof window !== 'undefined'\n    ? window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      cafPolyfill\n    : global.cancelAnimationFrame || cafPolyfill;\n\nconst warn = (msg) => {\n  return console && typeof console.warn === 'function' && console.warn(msg);\n};\n\nlet _helmetCallback = null;\n\nconst handleClientStateChange = (newState) => {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(() => {\n      commitTagChanges(newState, () => {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nconst commitTagChanges = (newState, cb) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    htmlAttributes,\n    linkTags,\n    metaTags,\n    noscriptTags,\n    onChangeClientState,\n    scriptTags,\n    styleTags,\n    title,\n    titleAttributes,\n  } = newState;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n  updateTitle(title, titleAttributes);\n\n  const tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags),\n  };\n\n  const addedTags = {};\n  const removedTags = {};\n\n  Object.keys(tagUpdates).forEach((tagType) => {\n    const { newTags, oldTags } = tagUpdates[tagType];\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n\n  cb && cb();\n\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nconst flattenArray = (possibleArray) => {\n  return Array.isArray(possibleArray) ? possibleArray.join('') : possibleArray;\n};\n\nconst updateTitle = (title, attributes) => {\n  if (typeof title !== 'undefined' && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nconst updateAttributes = (tagName, attributes) => {\n  const elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  const helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  const helmetAttributes = helmetAttributeString\n    ? helmetAttributeString.split(',')\n    : [];\n  const attributesToRemove = [].concat(helmetAttributes);\n  const attributeKeys = Object.keys(attributes);\n\n  for (let i = 0; i < attributeKeys.length; i++) {\n    const attribute = attributeKeys[i];\n    const value = attributes[attribute] || '';\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    const indexToSave = attributesToRemove.indexOf(attribute);\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (let i = attributesToRemove.length - 1; i >= 0; i--) {\n    elementTag.removeAttribute(attributesToRemove[i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (\n    elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(',')\n  ) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(','));\n  }\n};\n\nconst updateTags = (type, tags) => {\n  const headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  const tagNodes = headElement.querySelectorAll(`${type}[${HELMET_ATTRIBUTE}]`);\n  const oldTags = Array.prototype.slice.call(tagNodes);\n  const newTags = [];\n  let indexToDelete;\n\n  if (tags && tags.length) {\n    tags.forEach((tag) => {\n      const newElement = document.createElement(type);\n\n      for (const attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            const value =\n              typeof tag[attribute] === 'undefined' ? '' : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, 'true');\n\n      // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n      if (\n        oldTags.some((existingTag, index) => {\n          indexToDelete = index;\n          return newElement.isEqualNode(existingTag);\n        })\n      ) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach((tag) => tag.parentNode.removeChild(tag));\n  newTags.forEach((tag) => headElement.appendChild(tag));\n\n  return {\n    oldTags,\n    newTags,\n  };\n};\n\nconst generateElementAttributesAsString = (attributes) =>\n  Object.keys(attributes).reduce((str, key) => {\n    const attr =\n      typeof attributes[key] !== 'undefined'\n        ? `${key}=\"${attributes[key]}\"`\n        : `${key}`;\n    return str ? `${str} ${attr}` : attr;\n  }, '');\n\nconst generateTitleAsString = (type, title, attributes, encode) => {\n  const attributeString = generateElementAttributesAsString(attributes);\n  const flattenedTitle = flattenArray(title);\n  return attributeString\n    ? `<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeString}>${encodeSpecialCharacters(\n        flattenedTitle,\n        encode,\n      )}</${type}>`\n    : `<${type} ${HELMET_ATTRIBUTE}=\"true\">${encodeSpecialCharacters(\n        flattenedTitle,\n        encode,\n      )}</${type}>`;\n};\n\nconst generateTagsAsString = (type, tags, encode) =>\n  tags.reduce((str, tag) => {\n    const attributeHtml = Object.keys(tag)\n      .filter(\n        (attribute) =>\n          !(\n            attribute === TAG_PROPERTIES.INNER_HTML ||\n            attribute === TAG_PROPERTIES.CSS_TEXT\n          ),\n      )\n      .reduce((string, attribute) => {\n        const attr =\n          typeof tag[attribute] === 'undefined'\n            ? attribute\n            : `${attribute}=\"${encodeSpecialCharacters(\n                tag[attribute],\n                encode,\n              )}\"`;\n        return string ? `${string} ${attr}` : attr;\n      }, '');\n\n    const tagContent = tag.innerHTML || tag.cssText || '';\n\n    const isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n    return `${str}<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeHtml}${\n      isSelfClosing ? `/>` : `>${tagContent}</${type}>`\n    }`;\n  }, '');\n\nconst convertElementAttributestoReactProps = (attributes, initProps = {}) => {\n  return Object.keys(attributes).reduce((obj, key) => {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nconst convertReactPropstoHtmlAttributes = (props, initAttributes = {}) => {\n  return Object.keys(props).reduce((obj, key) => {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nconst generateTitleAsReactComponent = (type, title, attributes) => {\n  // assigning into an array to define toString function on it\n  const initProps = {\n    key: title,\n    [HELMET_ATTRIBUTE]: true,\n  };\n  const props = convertElementAttributestoReactProps(attributes, initProps);\n\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nconst generateTagsAsReactComponent = (type, tags) =>\n  tags.map((tag, i) => {\n    const mappedTag = {\n      key: i,\n      [HELMET_ATTRIBUTE]: true,\n    };\n\n    Object.keys(tag).forEach((attribute) => {\n      const mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (\n        mappedAttribute === TAG_PROPERTIES.INNER_HTML ||\n        mappedAttribute === TAG_PROPERTIES.CSS_TEXT\n      ) {\n        const content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = { __html: content };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n\n    return React.createElement(type, mappedTag);\n  });\n\nconst getMethodsForTag = (type, tags, encode) => {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: () =>\n          generateTitleAsReactComponent(\n            type,\n            tags.title,\n            tags.titleAttributes,\n            encode,\n          ),\n        toString: () =>\n          generateTitleAsString(type, tags.title, tags.titleAttributes, encode),\n      };\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: () => convertElementAttributestoReactProps(tags),\n        toString: () => generateElementAttributesAsString(tags),\n      };\n    default:\n      return {\n        toComponent: () => generateTagsAsReactComponent(type, tags),\n        toString: () => generateTagsAsString(type, tags, encode),\n      };\n  }\n};\n\nconst mapStateOnServer = ({\n  baseTag,\n  bodyAttributes,\n  encode,\n  htmlAttributes,\n  linkTags,\n  metaTags,\n  noscriptTags,\n  scriptTags,\n  styleTags,\n  title = '',\n  titleAttributes,\n}) => ({\n  base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n  bodyAttributes: getMethodsForTag(\n    ATTRIBUTE_NAMES.BODY,\n    bodyAttributes,\n    encode,\n  ),\n  htmlAttributes: getMethodsForTag(\n    ATTRIBUTE_NAMES.HTML,\n    htmlAttributes,\n    encode,\n  ),\n  link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n  meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n  noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n  script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n  style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n  title: getMethodsForTag(TAG_NAMES.TITLE, { title, titleAttributes }, encode),\n});\n\nexport { convertReactPropstoHtmlAttributes };\nexport { handleClientStateChange };\nexport { mapStateOnServer };\nexport { reducePropsToState };\nexport { requestAnimationFrame };\nexport { warn };\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}