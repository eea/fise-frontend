{"ast":null,"code":"import config from '@plone/volto/registry';\nimport { matchPath } from 'react-router';\nconst blacklistRoutes = ({\n  dispatch,\n  getState\n}) => next => action => {\n  if (typeof action === 'function') {\n    return next(action);\n  }\n  switch (action.type) {\n    case '@@router/LOCATION_CHANGE':\n      const {\n        pathname\n      } = action.payload.location;\n      const {\n        externalRoutes = []\n      } = config.settings;\n      const route = externalRoutes.find(route => matchPath(pathname, route.match));\n      if (!route) {\n        return next(action);\n      } else {\n        window.location.replace(route.url ? route.url(action.payload) : pathname);\n      }\n      break;\n    default:\n      return next(action);\n  }\n};\nexport default blacklistRoutes;","map":{"version":3,"names":["config","matchPath","blacklistRoutes","dispatch","getState","next","action","type","pathname","payload","location","externalRoutes","settings","route","find","match","window","replace","url"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/middleware/blacklistRoutes.js"],"sourcesContent":["import config from '@plone/volto/registry';\nimport { matchPath } from 'react-router';\n\nconst blacklistRoutes = ({ dispatch, getState }) => (next) => (action) => {\n  if (typeof action === 'function') {\n    return next(action);\n  }\n\n  switch (action.type) {\n    case '@@router/LOCATION_CHANGE':\n      const { pathname } = action.payload.location;\n      const { externalRoutes = [] } = config.settings;\n\n      const route = externalRoutes.find((route) =>\n        matchPath(pathname, route.match),\n      );\n\n      if (!route) {\n        return next(action);\n      } else {\n        window.location.replace(\n          route.url ? route.url(action.payload) : pathname,\n        );\n      }\n      break;\n    default:\n      return next(action);\n  }\n};\n\nexport default blacklistRoutes;\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,uBAAuB;AAC1C,SAASC,SAAS,QAAQ,cAAc;AAExC,MAAMC,eAAe,GAAG,CAAC;EAAEC,QAAQ;EAAEC;AAAS,CAAC,KAAMC,IAAI,IAAMC,MAAM,IAAK;EACxE,IAAI,OAAOA,MAAM,KAAK,UAAU,EAAE;IAChC,OAAOD,IAAI,CAACC,MAAM,CAAC;EACrB;EAEA,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,0BAA0B;MAC7B,MAAM;QAAEC;MAAS,CAAC,GAAGF,MAAM,CAACG,OAAO,CAACC,QAAQ;MAC5C,MAAM;QAAEC,cAAc,GAAG;MAAG,CAAC,GAAGX,MAAM,CAACY,QAAQ;MAE/C,MAAMC,KAAK,GAAGF,cAAc,CAACG,IAAI,CAAED,KAAK,IACtCZ,SAAS,CAACO,QAAQ,EAAEK,KAAK,CAACE,KAAK,CAAC,CACjC;MAED,IAAI,CAACF,KAAK,EAAE;QACV,OAAOR,IAAI,CAACC,MAAM,CAAC;MACrB,CAAC,MAAM;QACLU,MAAM,CAACN,QAAQ,CAACO,OAAO,CACrBJ,KAAK,CAACK,GAAG,GAAGL,KAAK,CAACK,GAAG,CAACZ,MAAM,CAACG,OAAO,CAAC,GAAGD,QAAQ,CACjD;MACH;MACA;IACF;MACE,OAAOH,IAAI,CAACC,MAAM,CAAC;EAAC;AAE1B,CAAC;AAED,eAAeJ,eAAe"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}