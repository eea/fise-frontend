{"ast":null,"code":"import _toConsumableArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-plotlycharts/src/ChartEditor/ColorscaleColorsEditor.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React from 'react';\nimport CustomColorPicker from './CustomColorPicker';\nimport { Icon } from '@plone/volto/components';\nimport deleteSVG from '@plone/volto/icons/delete.svg';\nimport upIcon from '@plone/volto/icons/up-key.svg';\nimport downIcon from '@plone/volto/icons/down-key.svg';\nimport addIcon from '@plone/volto/icons/add.svg';\nimport { Colorscale } from 'react-colorscales';\nimport { PlotlySection } from 'react-chart-editor';\n\n//a similar colorscale editor but withouth the values, only colors\n\nvar ColorscaleColorsEditor = function ColorscaleColorsEditor(_ref) {\n  _s();\n  var colorscale = _ref.colorscale,\n    _ = _ref._,\n    handleChange = _ref.handleChange;\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    expand = _React$useState2[0],\n    setExpand = _React$useState2[1];\n  var handleColorChange = function handleColorChange(color, index) {\n    var newColorscale = _toConsumableArray(colorscale);\n    newColorscale[index] = color;\n    handleChange(newColorscale);\n  };\n  var handleDeleteColor = function handleDeleteColor(colorscale, index) {\n    var newColorscale = [].concat(_toConsumableArray(colorscale.slice(0, index)), _toConsumableArray(colorscale.slice(index + 1)));\n    handleChange(newColorscale);\n  };\n  var handleAddColor = function handleAddColor(colorscale) {\n    var newColorscale = [].concat(_toConsumableArray(colorscale), ['black']);\n    handleChange(newColorscale);\n  };\n  return __jsx(PlotlySection, {\n    name: _('Customize Colors'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"field field__colorscale colorscale-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    style: {\n      width: '70px',\n      fontSize: '12px',\n      color: '#506784',\n      marginLeft: '1em'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \"Active Colorscale\"), __jsx(\"div\", {\n    style: {\n      width: '180px',\n      'margin-left': '12px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, __jsx(Colorscale, {\n    colorscale: colorscale,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"colors-edit-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, __jsx(\"button\", {\n    className: \"color-expand-button\",\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    onClick: function onClick() {\n      return setExpand(!expand);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, !expand && __jsx(Icon, {\n    className: \"color-open-icon\",\n    name: upIcon,\n    size: \"20px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }), expand && __jsx(Icon, {\n    className: \"color-close-icon\",\n    name: downIcon,\n    size: \"20px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), !expand ? 'Edit colors' : 'Close'), expand && __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, colorscale && colorscale.length > 0 && colorscale.map(function (item, index) {\n    return __jsx(\"div\", {\n      style: {\n        position: 'relative',\n        margin: '5px 0'\n      },\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, __jsx(CustomColorPicker, {\n      selectedColor: item,\n      onColorChange: function onColorChange(color) {\n        return handleColorChange(color, index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 23\n      }\n    }), colorscale.length > 2 && __jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '0',\n        right: '0',\n        cursor: 'pointer'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, __jsx(Icon, {\n      onClick: function onClick() {\n        return handleDeleteColor(colorscale, index);\n      },\n      name: deleteSVG,\n      size: \"24px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 27\n      }\n    })));\n  }), __jsx(\"div\", {\n    className: \"color-buttons-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    className: \"color-add-button\",\n    title: \"Add new color\",\n    onClick: function onClick() {\n      return handleAddColor(colorscale);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, __jsx(Icon, {\n    className: \"color-add-icon\",\n    name: addIcon,\n    size: \"18px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }), \"Add\")))))));\n};\n_s(ColorscaleColorsEditor, \"V8NQrAFSLXwZu43JmcjJwSuHwmw=\");\n_c = ColorscaleColorsEditor;\nexport default ColorscaleColorsEditor;\nvar _c;\n$RefreshReg$(_c, \"ColorscaleColorsEditor\");","map":{"version":3,"names":["React","CustomColorPicker","Icon","deleteSVG","upIcon","downIcon","addIcon","Colorscale","PlotlySection","ColorscaleColorsEditor","colorscale","_","handleChange","useState","expand","setExpand","handleColorChange","color","index","newColorscale","handleDeleteColor","slice","handleAddColor","width","fontSize","marginLeft","display","alignItems","length","map","item","position","margin","top","right","cursor"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-plotlycharts/src/ChartEditor/ColorscaleColorsEditor.jsx"],"sourcesContent":["import React from 'react';\nimport CustomColorPicker from './CustomColorPicker';\nimport { Icon } from '@plone/volto/components';\nimport deleteSVG from '@plone/volto/icons/delete.svg';\nimport upIcon from '@plone/volto/icons/up-key.svg';\nimport downIcon from '@plone/volto/icons/down-key.svg';\nimport addIcon from '@plone/volto/icons/add.svg';\nimport { Colorscale } from 'react-colorscales';\nimport { PlotlySection } from 'react-chart-editor';\n\n//a similar colorscale editor but withouth the values, only colors\n\nconst ColorscaleColorsEditor = ({ colorscale, _, handleChange }) => {\n  const [expand, setExpand] = React.useState(false);\n\n  const handleColorChange = (color, index) => {\n    var newColorscale = [...colorscale];\n    newColorscale[index] = color;\n\n    handleChange(newColorscale);\n  };\n\n  const handleDeleteColor = (colorscale, index) => {\n    var newColorscale = [\n      ...colorscale.slice(0, index),\n      ...colorscale.slice(index + 1),\n    ];\n    handleChange(newColorscale);\n  };\n\n  const handleAddColor = (colorscale) => {\n    var newColorscale = [...colorscale, 'black'];\n\n    handleChange(newColorscale);\n  };\n\n  return (\n    <PlotlySection name={_('Customize Colors')}>\n      <div className=\"field field__colorscale colorscale-container\">\n        <p\n          style={{\n            width: '70px',\n            fontSize: '12px',\n            color: '#506784',\n            marginLeft: '1em',\n          }}\n        >\n          Active Colorscale\n        </p>\n        <div\n          style={{\n            width: '180px',\n            'margin-left': '12px',\n          }}\n        >\n          <Colorscale colorscale={colorscale} />\n          <div className=\"colors-edit-container\">\n            <button\n              className=\"color-expand-button\"\n              style={{ display: 'flex', alignItems: 'center' }}\n              onClick={() => setExpand(!expand)}\n            >\n              {!expand && (\n                <Icon className=\"color-open-icon\" name={upIcon} size=\"20px\" />\n              )}\n              {expand && (\n                <Icon\n                  className=\"color-close-icon\"\n                  name={downIcon}\n                  size=\"20px\"\n                />\n              )}\n              {!expand ? 'Edit colors' : 'Close'}\n            </button>\n\n            {expand && (\n              <React.Fragment>\n                {colorscale &&\n                  colorscale.length > 0 &&\n                  colorscale.map((item, index) => (\n                    <div\n                      style={{ position: 'relative', margin: '5px 0' }}\n                      key={index}\n                    >\n                      <CustomColorPicker\n                        selectedColor={item}\n                        onColorChange={(color) =>\n                          handleColorChange(color, index)\n                        }\n                      />\n                      {colorscale.length > 2 && (\n                        <div\n                          style={{\n                            position: 'absolute',\n                            top: '0',\n                            right: '0',\n                            cursor: 'pointer',\n                          }}\n                        >\n                          <Icon\n                            onClick={() => handleDeleteColor(colorscale, index)}\n                            name={deleteSVG}\n                            size=\"24px\"\n                          />\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                <div className=\"color-buttons-container\">\n                  <button\n                    style={{ display: 'flex', alignItems: 'center' }}\n                    className=\"color-add-button\"\n                    title=\"Add new color\"\n                    onClick={() => handleAddColor(colorscale)}\n                  >\n                    <Icon\n                      className=\"color-add-icon\"\n                      name={addIcon}\n                      size=\"18px\"\n                    />\n                    Add\n                  </button>\n                </div>\n              </React.Fragment>\n            )}\n          </div>\n        </div>\n      </div>\n    </PlotlySection>\n  );\n};\n\nexport default ColorscaleColorsEditor;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}