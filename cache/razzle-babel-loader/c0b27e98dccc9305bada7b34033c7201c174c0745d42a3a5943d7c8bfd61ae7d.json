{"ast":null,"code":"import { SIMPLELINK } from '@plone/volto-slate/constants';\nimport { jsx } from 'slate-hyperscript';\nimport { deserialize } from '@plone/volto-slate/editor/deserialize';\nexport var withSimpleLink = function withSimpleLink(editor) {\n  // const { insertData, insertText, isInline } = editor;\n\n  var isInline = editor.isInline;\n  editor.isInline = function (element) {\n    return element && element.type === SIMPLELINK ? true : isInline(element);\n  };\n\n  // editor.insertText = (text) => {\n  //   if (text && isUrl(text)) {\n  //     wrapLink(editor, text);\n  //   } else {\n  //     insertText(text);\n  //   }\n  // };\n  //\n  // editor.insertData = (data) => {\n  //   const text = data.getData('text/plain');\n  //\n  //   if (text && isUrl(text)) {\n  //     wrapLink(editor, text);\n  //   } else {\n  //     insertData(data);\n  //   }\n  // };\n  return editor;\n};\nexport var simpleLinkDeserializer = function simpleLinkDeserializer(editor, el) {\n  var parent = el;\n  var children = Array.from(parent.childNodes).map(function (el) {\n    return deserialize(editor, el);\n  }).flat();\n  if (!children.length) children = [{\n    text: ''\n  }];\n  var attrs = {\n    type: SIMPLELINK,\n    data: {\n      url: el.getAttribute('href')\n    }\n  };\n  return jsx('element', attrs, children);\n};\nsimpleLinkDeserializer.id = 'simpleLinkDeserializer';","map":{"version":3,"names":["SIMPLELINK","jsx","deserialize","withSimpleLink","editor","isInline","element","type","simpleLinkDeserializer","el","parent","children","Array","from","childNodes","map","flat","length","text","attrs","data","url","getAttribute","id"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/packages/volto-slate/src/editor/plugins/Link/extensions.js"],"sourcesContent":["import { SIMPLELINK } from '@plone/volto-slate/constants';\nimport { jsx } from 'slate-hyperscript';\nimport { deserialize } from '@plone/volto-slate/editor/deserialize';\n\nexport const withSimpleLink = (editor) => {\n  // const { insertData, insertText, isInline } = editor;\n\n  const { isInline } = editor;\n\n  editor.isInline = (element) => {\n    return element && element.type === SIMPLELINK ? true : isInline(element);\n  };\n\n  // editor.insertText = (text) => {\n  //   if (text && isUrl(text)) {\n  //     wrapLink(editor, text);\n  //   } else {\n  //     insertText(text);\n  //   }\n  // };\n  //\n  // editor.insertData = (data) => {\n  //   const text = data.getData('text/plain');\n  //\n  //   if (text && isUrl(text)) {\n  //     wrapLink(editor, text);\n  //   } else {\n  //     insertData(data);\n  //   }\n  // };\n  return editor;\n};\n\nexport const simpleLinkDeserializer = (editor, el) => {\n  let parent = el;\n\n  let children = Array.from(parent.childNodes)\n    .map((el) => deserialize(editor, el))\n    .flat();\n\n  if (!children.length) children = [{ text: '' }];\n\n  const attrs = {\n    type: SIMPLELINK,\n    data: {\n      url: el.getAttribute('href'),\n    },\n  };\n\n  return jsx('element', attrs, children);\n};\n\nsimpleLinkDeserializer.id = 'simpleLinkDeserializer';\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,8BAA8B;AACzD,SAASC,GAAG,QAAQ,mBAAmB;AACvC,SAASC,WAAW,QAAQ,uCAAuC;AAEnE,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIC,MAAM,EAAK;EACxC;;EAEA,IAAQC,QAAQ,GAAKD,MAAM,CAAnBC,QAAQ;EAEhBD,MAAM,CAACC,QAAQ,GAAG,UAACC,OAAO,EAAK;IAC7B,OAAOA,OAAO,IAAIA,OAAO,CAACC,IAAI,KAAKP,UAAU,GAAG,IAAI,GAAGK,QAAQ,CAACC,OAAO,CAAC;EAC1E,CAAC;;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,OAAOF,MAAM;AACf,CAAC;AAED,OAAO,IAAMI,sBAAsB,GAAG,SAAzBA,sBAAsB,CAAIJ,MAAM,EAAEK,EAAE,EAAK;EACpD,IAAIC,MAAM,GAAGD,EAAE;EAEf,IAAIE,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAACH,MAAM,CAACI,UAAU,CAAC,CACzCC,GAAG,CAAC,UAACN,EAAE;IAAA,OAAKP,WAAW,CAACE,MAAM,EAAEK,EAAE,CAAC;EAAA,EAAC,CACpCO,IAAI,EAAE;EAET,IAAI,CAACL,QAAQ,CAACM,MAAM,EAAEN,QAAQ,GAAG,CAAC;IAAEO,IAAI,EAAE;EAAG,CAAC,CAAC;EAE/C,IAAMC,KAAK,GAAG;IACZZ,IAAI,EAAEP,UAAU;IAChBoB,IAAI,EAAE;MACJC,GAAG,EAAEZ,EAAE,CAACa,YAAY,CAAC,MAAM;IAC7B;EACF,CAAC;EAED,OAAOrB,GAAG,CAAC,SAAS,EAAEkB,KAAK,EAAER,QAAQ,CAAC;AACxC,CAAC;AAEDH,sBAAsB,CAACe,EAAE,GAAG,wBAAwB"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}