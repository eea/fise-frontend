{"ast":null,"code":"const urlParametersSchema = {\n  title: 'Parameter',\n  fieldsets: [{\n    id: 'default',\n    title: 'Default',\n    fields: ['field', 'urlParam']\n  }],\n  properties: {\n    field: {\n      title: 'Tableau fieldname',\n      type: 'text'\n    },\n    urlParam: {\n      title: 'URL param',\n      type: 'text'\n    }\n  },\n  required: []\n};\nconst breakpointUrlSchema = config => {\n  const breakpoints = config.blocks.blocksConfig.tableau_block.breakpoints;\n  return {\n    title: 'URL',\n    fieldsets: [{\n      id: 'default',\n      title: 'Default',\n      fields: ['device', 'url']\n    }],\n    properties: {\n      device: {\n        title: 'Device',\n        type: 'array',\n        choices: Object.keys(breakpoints).map(breakpoint => [breakpoint, breakpoint])\n      },\n      url: {\n        title: 'Url',\n        widget: 'textarea'\n      }\n    },\n    required: []\n  };\n};\nexport default (config => ({\n  title: 'Tableau',\n  fieldsets: [{\n    id: 'default',\n    title: 'Default',\n    fields: ['version', 'url', 'title', 'description']\n  }, {\n    id: 'options',\n    title: 'Options',\n    fields: ['sheetname', 'hideTabs', 'hideToolbar', 'autoScale', 'toolbarPosition']\n  }, {\n    id: 'extra_options',\n    title: 'Extra options',\n    fields: ['urlParameters', 'breakpointUrls']\n  }],\n  properties: {\n    version: {\n      title: 'Version',\n      type: 'array',\n      choices: [...['2.8.0', '2.7.0', '2.6.0', '2.5.0', '2.4.0', '2.3.0', '2.2.2', '2.1.2', '2.0.3'].map(version => [version, `tableau-${version}`])],\n      default: config.settings.tableauVersion || '2.8.0'\n    },\n    url: {\n      title: 'Url',\n      widget: 'textarea'\n    },\n    title: {\n      title: 'Title',\n      widget: 'textarea'\n    },\n    description: {\n      title: 'Description',\n      widget: 'textarea'\n    },\n    sheetname: {\n      title: 'Sheetname',\n      type: 'text'\n    },\n    hideTabs: {\n      title: 'Hide tabs',\n      type: 'boolean',\n      default: false\n    },\n    hideToolbar: {\n      title: 'Hide toolbar',\n      type: 'boolean',\n      default: false\n    },\n    autoScale: {\n      title: 'Auto scale',\n      type: 'boolean',\n      default: false,\n      description: 'Scale down tableau according to width'\n    },\n    toolbarPosition: {\n      title: 'Toolbar position',\n      type: 'array',\n      choices: [['Top', 'Top'], ['Bottom', 'Bottom']],\n      default: 'Top'\n    },\n    urlParameters: {\n      title: 'URL parameters',\n      widget: 'object_list',\n      schema: urlParametersSchema,\n      description: 'Set a list of url parameters to filter the tableau'\n    },\n    breakpointUrls: {\n      title: 'Breakpoint urls',\n      widget: 'object_list',\n      schema: breakpointUrlSchema(config),\n      description: 'Set different vizualization for specific breakpoint'\n    }\n  },\n  required: ['version', 'url']\n}));","map":{"version":3,"names":["urlParametersSchema","title","fieldsets","id","fields","properties","field","type","urlParam","required","breakpointUrlSchema","config","breakpoints","blocks","blocksConfig","tableau_block","device","choices","Object","keys","map","breakpoint","url","widget","version","default","settings","tableauVersion","description","sheetname","hideTabs","hideToolbar","autoScale","toolbarPosition","urlParameters","schema","breakpointUrls"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-tableau/src/TableauBlock/schema.js"],"sourcesContent":["const urlParametersSchema = {\n  title: 'Parameter',\n  fieldsets: [\n    { id: 'default', title: 'Default', fields: ['field', 'urlParam'] },\n  ],\n  properties: {\n    field: {\n      title: 'Tableau fieldname',\n      type: 'text',\n    },\n    urlParam: {\n      title: 'URL param',\n      type: 'text',\n    },\n  },\n  required: [],\n};\n\nconst breakpointUrlSchema = (config) => {\n  const breakpoints = config.blocks.blocksConfig.tableau_block.breakpoints;\n\n  return {\n    title: 'URL',\n    fieldsets: [{ id: 'default', title: 'Default', fields: ['device', 'url'] }],\n    properties: {\n      device: {\n        title: 'Device',\n        type: 'array',\n        choices: Object.keys(breakpoints).map((breakpoint) => [\n          breakpoint,\n          breakpoint,\n        ]),\n      },\n      url: {\n        title: 'Url',\n        widget: 'textarea',\n      },\n    },\n    required: [],\n  };\n};\n\nexport default (config) => ({\n  title: 'Tableau',\n  fieldsets: [\n    {\n      id: 'default',\n      title: 'Default',\n      fields: ['version', 'url', 'title', 'description'],\n    },\n    {\n      id: 'options',\n      title: 'Options',\n      fields: [\n        'sheetname',\n        'hideTabs',\n        'hideToolbar',\n        'autoScale',\n        'toolbarPosition',\n      ],\n    },\n    {\n      id: 'extra_options',\n      title: 'Extra options',\n      fields: ['urlParameters', 'breakpointUrls'],\n    },\n  ],\n  properties: {\n    version: {\n      title: 'Version',\n      type: 'array',\n      choices: [\n        ...[\n          '2.8.0',\n          '2.7.0',\n          '2.6.0',\n          '2.5.0',\n          '2.4.0',\n          '2.3.0',\n          '2.2.2',\n          '2.1.2',\n          '2.0.3',\n        ].map((version) => [version, `tableau-${version}`]),\n      ],\n      default: config.settings.tableauVersion || '2.8.0',\n    },\n    url: {\n      title: 'Url',\n      widget: 'textarea',\n    },\n    title: {\n      title: 'Title',\n      widget: 'textarea',\n    },\n    description: {\n      title: 'Description',\n      widget: 'textarea',\n    },\n    sheetname: {\n      title: 'Sheetname',\n      type: 'text',\n    },\n    hideTabs: {\n      title: 'Hide tabs',\n      type: 'boolean',\n      default: false,\n    },\n    hideToolbar: {\n      title: 'Hide toolbar',\n      type: 'boolean',\n      default: false,\n    },\n    autoScale: {\n      title: 'Auto scale',\n      type: 'boolean',\n      default: false,\n      description: 'Scale down tableau according to width',\n    },\n    toolbarPosition: {\n      title: 'Toolbar position',\n      type: 'array',\n      choices: [\n        ['Top', 'Top'],\n        ['Bottom', 'Bottom'],\n      ],\n      default: 'Top',\n    },\n    urlParameters: {\n      title: 'URL parameters',\n      widget: 'object_list',\n      schema: urlParametersSchema,\n      description: 'Set a list of url parameters to filter the tableau',\n    },\n    breakpointUrls: {\n      title: 'Breakpoint urls',\n      widget: 'object_list',\n      schema: breakpointUrlSchema(config),\n      description: 'Set different vizualization for specific breakpoint',\n    },\n  },\n  required: ['version', 'url'],\n});\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}