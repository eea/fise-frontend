{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-forests-theme/src/components/manage/Blocks/ImageCards/View.jsx\";\nvar __jsx = React.createElement;\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport React from 'react';\nimport cx from 'classnames';\nimport config from '@plone/volto/registry';\nimport DefaultImageSVG from '@plone/volto/components/manage/Blocks/Listing/default-image.svg';\nimport { Card, Message } from 'semantic-ui-react';\nimport { serializeNodes } from 'volto-slate/editor/render';\nimport { compose } from 'redux';\nimport { flattenToAppURL } from '@plone/volto/helpers';\nimport { withRouter } from 'react-router-dom';\nimport { injectIntl } from 'react-intl';\nimport './styles.less';\nconst alignmentTypes = {\n  left: 'left',\n  right: 'right',\n  center: 'centered',\n  full: 'left'\n};\nexport const getScaleUrl = (url, size) => (url || '').includes(config.settings.apiPath) ? `${flattenToAppURL(url.replace('/api', ''))}/@@images/image/${size}` : `${url.replace('/api', '')}/@@images/image/${size}`;\nconst Cards = props => {\n  const {\n    data,\n    editable,\n    history\n  } = props;\n  const {\n    align,\n    cards,\n    image_scale,\n    gridSize = 'one',\n    theme = 'default'\n  } = data;\n  const makeImage = item => {\n    const {\n      attachedimage\n    } = item;\n    return __jsx(\"img\", {\n      className: \"cards-tile-image\",\n      src: attachedimage ? getScaleUrl(flattenToAppURL(attachedimage), image_scale || 'preview') : DefaultImageSVG,\n      alt: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    });\n  };\n  const makeTextBody = item => __jsx(React.Fragment, null, __jsx(\"h3\", {\n    className: \"tile-listing-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, item.title ? item.title : item.id), item.text && __jsx(\"p\", {\n    className: \"tile-listing-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, serializeNodes(item.text)));\n  const handleNavigate = link => {\n    if (!props.editable) {\n      history.push(flattenToAppURL(link));\n    }\n  };\n  return cards && cards.length > 0 ? __jsx(\"div\", {\n    className: cx('ui fluid cards', gridSize),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, cards.map(item => __jsx(Card, {\n    onClick: () => handleNavigate(item.link),\n    key: item['@id'],\n    className: cx('navigation-card', alignmentTypes[align] || 'left', theme),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, makeImage(item), makeTextBody(item)))) : __jsx(React.Fragment, null, editable ? __jsx(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, \"No image cards\") : '');\n};\nCards.schema = () => ({\n  title: 'Image Card',\n  fieldsets: [{\n    id: 'default',\n    title: 'Default',\n    fields: ['title', 'text', 'attachedimage', 'link']\n  }],\n  properties: {\n    title: {\n      type: 'string',\n      title: 'Title'\n    },\n    text: {\n      widget: 'slate_richtext',\n      title: 'Text'\n    },\n    link: {\n      widget: 'url',\n      title: 'Link'\n    },\n    attachedimage: {\n      widget: 'attachedimage',\n      title: 'Image'\n    }\n  },\n  required: ['attachedimage']\n});\nCards.schemaExtender = schema => {\n  return _objectSpread(_objectSpread({}, schema), {}, {\n    fieldsets: [...schema.fieldsets, {\n      id: 'cards_grid',\n      title: 'Cards grid',\n      fields: ['gridSize', 'theme']\n    }],\n    properties: _objectSpread(_objectSpread({}, schema.properties), {}, {\n      gridSize: {\n        title: 'Grid Size',\n        choices: [['one', 'One'], ['two', 'Two'], ['three', 'Three'], ['four', 'Four']],\n        factory: 'Choice',\n        type: 'string'\n      },\n      theme: {\n        title: 'Theme',\n        choices: [['default', 'Default'], ['primary', 'Primary'], ['secondary', 'Secondary'], ['tertiary', 'Tertiary']]\n      }\n    })\n  });\n};\nexport default compose(withRouter, injectIntl)(Cards);","map":{"version":3,"names":["React","cx","config","DefaultImageSVG","Card","Message","serializeNodes","compose","flattenToAppURL","withRouter","injectIntl","alignmentTypes","left","right","center","full","getScaleUrl","url","size","includes","settings","apiPath","replace","Cards","props","data","editable","history","align","cards","image_scale","gridSize","theme","makeImage","item","attachedimage","title","makeTextBody","id","text","handleNavigate","link","push","length","map","schema","fieldsets","fields","properties","type","widget","required","schemaExtender","choices","factory"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-forests-theme/src/components/manage/Blocks/ImageCards/View.jsx"],"sourcesContent":["import React from 'react';\nimport cx from 'classnames';\nimport config from '@plone/volto/registry';\nimport DefaultImageSVG from '@plone/volto/components/manage/Blocks/Listing/default-image.svg';\nimport { Card, Message } from 'semantic-ui-react';\nimport { serializeNodes } from 'volto-slate/editor/render';\nimport { compose } from 'redux';\nimport { flattenToAppURL } from '@plone/volto/helpers';\nimport { withRouter } from 'react-router-dom';\nimport { injectIntl } from 'react-intl';\n\nimport './styles.less';\n\nconst alignmentTypes = {\n  left: 'left',\n  right: 'right',\n  center: 'centered',\n  full: 'left',\n};\n\nexport const getScaleUrl = (url, size) =>\n  (url || '').includes(config.settings.apiPath)\n    ? `${flattenToAppURL(url.replace('/api', ''))}/@@images/image/${size}`\n    : `${url.replace('/api', '')}/@@images/image/${size}`;\n\nconst Cards = (props) => {\n  const { data, editable, history } = props;\n  const {\n    align,\n    cards,\n    image_scale,\n    gridSize = 'one',\n    theme = 'default',\n  } = data;\n\n  const makeImage = (item) => {\n    const { attachedimage } = item;\n    return (\n      <img\n        className=\"cards-tile-image\"\n        src={\n          attachedimage\n            ? getScaleUrl(\n                flattenToAppURL(attachedimage),\n                image_scale || 'preview',\n              )\n            : DefaultImageSVG\n        }\n        alt={item.title}\n      />\n    );\n  };\n\n  const makeTextBody = (item) => (\n    <>\n      <h3 className=\"tile-listing-title\">\n        {item.title ? item.title : item.id}\n      </h3>\n      {item.text && (\n        <p className=\"tile-listing-description\">{serializeNodes(item.text)}</p>\n      )}\n    </>\n  );\n\n  const handleNavigate = (link) => {\n    if (!props.editable) {\n      history.push(flattenToAppURL(link));\n    }\n  };\n  return cards && cards.length > 0 ? (\n    <div className={cx('ui fluid cards', gridSize)}>\n      {cards.map((item) => (\n        <Card\n          onClick={() => handleNavigate(item.link)}\n          key={item['@id']}\n          className={cx(\n            'navigation-card',\n            alignmentTypes[align] || 'left',\n            theme,\n          )}\n        >\n          {makeImage(item)}\n          {makeTextBody(item)}\n        </Card>\n      ))}\n    </div>\n  ) : (\n    <>{editable ? <Message>No image cards</Message> : ''}</>\n  );\n};\n\nCards.schema = () => ({\n  title: 'Image Card',\n  fieldsets: [\n    {\n      id: 'default',\n      title: 'Default',\n      fields: ['title', 'text', 'attachedimage', 'link'],\n    },\n  ],\n\n  properties: {\n    title: {\n      type: 'string',\n      title: 'Title',\n    },\n    text: {\n      widget: 'slate_richtext',\n      title: 'Text',\n    },\n    link: {\n      widget: 'url',\n      title: 'Link',\n    },\n    attachedimage: {\n      widget: 'attachedimage',\n      title: 'Image',\n    },\n  },\n\n  required: ['attachedimage'],\n});\n\nCards.schemaExtender = (schema) => {\n  return {\n    ...schema,\n    fieldsets: [\n      ...schema.fieldsets,\n      {\n        id: 'cards_grid',\n        title: 'Cards grid',\n        fields: ['gridSize', 'theme'],\n      },\n    ],\n    properties: {\n      ...schema.properties,\n      gridSize: {\n        title: 'Grid Size',\n        choices: [\n          ['one', 'One'],\n          ['two', 'Two'],\n          ['three', 'Three'],\n          ['four', 'Four'],\n        ],\n        factory: 'Choice',\n        type: 'string',\n      },\n      theme: {\n        title: 'Theme',\n        choices: [\n          ['default', 'Default'],\n          ['primary', 'Primary'],\n          ['secondary', 'Secondary'],\n          ['tertiary', 'Tertiary'],\n        ],\n      },\n    },\n  };\n};\n\nexport default compose(withRouter, injectIntl)(Cards);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}