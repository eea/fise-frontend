{"ast":null,"code":"const _excluded = [\"href\"];\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { createInstance } from '@datapunt/matomo-tracker-react';\nimport config from '@plone/volto/registry';\n\n/**\n * NOTE: this file exposes just a part of the Matomo React API. If you wish to\n * extend this file or to understand it better, this link may be helpful:\n * https://github.com/Amsterdam/matomo-tracker/tree/master/packages/react\n */\n\nconst _matomo = {};\nconst doWithMatomo = fn => {\n  if (__SERVER__) return;\n  if (!_matomo.instance) {\n    var _window$env, _window$env2, _window$env3, _window$env4, _window$env5;\n    const siteId = ((_window$env = window.env) === null || _window$env === void 0 ? void 0 : _window$env.RAZZLE_MATOMO_SITE_ID) || config.settings.matomoSiteId;\n    const urlBase = ((_window$env2 = window.env) === null || _window$env2 === void 0 ? void 0 : _window$env2.RAZZLE_MATOMO_URL) || config.settings.matomoUrlBase || 'https://matomo.eea.europa.eu/';\n    const userId = ((_window$env3 = window.env) === null || _window$env3 === void 0 ? void 0 : _window$env3.RAZZLE_MATOMO_USER_ID) || config.settings.matomoUserId;\n    const trackerUrl = ((_window$env4 = window.env) === null || _window$env4 === void 0 ? void 0 : _window$env4.RAZZLE_MATOMO_TRAKER_URL) || config.settings.matomoTrackerUrl || `${urlBase}matomo.php`;\n    const srcUrl = ((_window$env5 = window.env) === null || _window$env5 === void 0 ? void 0 : _window$env5.RAZZLE_MATOMO_SRC_URL) || config.settings.matomoSrcUrl || `${urlBase}matomo.js`;\n    if (siteId) {\n      /**\n       * NOTE: check this link to see all the available options\n       * https://www.npmjs.com/package/@datapunt/matomo-tracker-react\n       */\n      _matomo.instance = createInstance(_objectSpread({\n        urlBase,\n        siteId,\n        userId,\n        trackerUrl,\n        srcUrl\n      }, config.settings.matomo || {}));\n    } else {\n      /* eslint-disable-next-line */\n      console.warn('Matomo SiteID is not defined, page actions will not be tracked');\n    }\n  }\n  if (_matomo.instance) fn(_matomo.instance);\n};\nexport const trackPageView = _ref => {\n  let {\n      href\n    } = _ref,\n    options = _objectWithoutProperties(_ref, _excluded);\n  doWithMatomo(m => {\n    m.trackPageView(_objectSpread({\n      href\n    }, options));\n  });\n};\nexport const trackEvent = options => {\n  doWithMatomo(m => {\n    m.trackEvent(options);\n  });\n};\nexport const trackSiteSearch = options => {\n  doWithMatomo(m => {\n    m.trackSiteSearch(options);\n  });\n};\nexport const trackLink = options => {\n  doWithMatomo(m => {\n    m.trackLink(options);\n  });\n};\nexport const pushInstruction = (name, ...args) => {\n  doWithMatomo(m => {\n    m.pushInstruction(name, ...args);\n  });\n};","map":{"version":3,"names":["createInstance","config","_matomo","doWithMatomo","fn","__SERVER__","instance","siteId","window","env","RAZZLE_MATOMO_SITE_ID","settings","matomoSiteId","urlBase","RAZZLE_MATOMO_URL","matomoUrlBase","userId","RAZZLE_MATOMO_USER_ID","matomoUserId","trackerUrl","RAZZLE_MATOMO_TRAKER_URL","matomoTrackerUrl","srcUrl","RAZZLE_MATOMO_SRC_URL","matomoSrcUrl","matomo","console","warn","trackPageView","href","options","m","trackEvent","trackSiteSearch","trackLink","pushInstruction","name","args"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-matomo/src/utils.js"],"sourcesContent":["import { createInstance } from '@datapunt/matomo-tracker-react';\nimport config from '@plone/volto/registry';\n\n/**\n * NOTE: this file exposes just a part of the Matomo React API. If you wish to\n * extend this file or to understand it better, this link may be helpful:\n * https://github.com/Amsterdam/matomo-tracker/tree/master/packages/react\n */\n\nconst _matomo = {};\n\nconst doWithMatomo = (fn) => {\n  if (__SERVER__) return;\n  if (!_matomo.instance) {\n    const siteId =\n      window.env?.RAZZLE_MATOMO_SITE_ID || config.settings.matomoSiteId;\n\n    const urlBase =\n      window.env?.RAZZLE_MATOMO_URL ||\n      config.settings.matomoUrlBase ||\n      'https://matomo.eea.europa.eu/';\n\n    const userId =\n      window.env?.RAZZLE_MATOMO_USER_ID || config.settings.matomoUserId;\n\n    const trackerUrl =\n      window.env?.RAZZLE_MATOMO_TRAKER_URL ||\n      config.settings.matomoTrackerUrl ||\n      `${urlBase}matomo.php`;\n\n    const srcUrl =\n      window.env?.RAZZLE_MATOMO_SRC_URL ||\n      config.settings.matomoSrcUrl ||\n      `${urlBase}matomo.js`;\n\n    if (siteId) {\n      /**\n       * NOTE: check this link to see all the available options\n       * https://www.npmjs.com/package/@datapunt/matomo-tracker-react\n       */\n      _matomo.instance = createInstance({\n        urlBase,\n        siteId,\n        userId,\n        trackerUrl,\n        srcUrl,\n        // Add your own configuration\n        ...(config.settings.matomo || {}),\n      });\n    } else {\n      /* eslint-disable-next-line */\n      console.warn(\n        'Matomo SiteID is not defined, page actions will not be tracked',\n      );\n    }\n  }\n\n  if (_matomo.instance) fn(_matomo.instance);\n};\n\nexport const trackPageView = ({ href, ...options }) => {\n  doWithMatomo((m) => {\n    m.trackPageView({\n      href,\n      ...options,\n    });\n  });\n};\n\nexport const trackEvent = (options) => {\n  doWithMatomo((m) => {\n    m.trackEvent(options);\n  });\n};\n\nexport const trackSiteSearch = (options) => {\n  doWithMatomo((m) => {\n    m.trackSiteSearch(options);\n  });\n};\n\nexport const trackLink = (options) => {\n  doWithMatomo((m) => {\n    m.trackLink(options);\n  });\n};\n\nexport const pushInstruction = (name, ...args) => {\n  doWithMatomo((m) => {\n    m.pushInstruction(name, ...args);\n  });\n};\n"],"mappings":";;;;;;AAAA,SAASA,cAAc,QAAQ,gCAAgC;AAC/D,OAAOC,MAAM,MAAM,uBAAuB;;AAE1C;AACA;AACA;AACA;AACA;;AAEA,MAAMC,OAAO,GAAG,CAAC,CAAC;AAElB,MAAMC,YAAY,GAAIC,EAAE,IAAK;EAC3B,IAAIC,UAAU,EAAE;EAChB,IAAI,CAACH,OAAO,CAACI,QAAQ,EAAE;IAAA;IACrB,MAAMC,MAAM,GACV,gBAAAC,MAAM,CAACC,GAAG,gDAAV,YAAYC,qBAAqB,KAAIT,MAAM,CAACU,QAAQ,CAACC,YAAY;IAEnE,MAAMC,OAAO,GACX,iBAAAL,MAAM,CAACC,GAAG,iDAAV,aAAYK,iBAAiB,KAC7Bb,MAAM,CAACU,QAAQ,CAACI,aAAa,IAC7B,+BAA+B;IAEjC,MAAMC,MAAM,GACV,iBAAAR,MAAM,CAACC,GAAG,iDAAV,aAAYQ,qBAAqB,KAAIhB,MAAM,CAACU,QAAQ,CAACO,YAAY;IAEnE,MAAMC,UAAU,GACd,iBAAAX,MAAM,CAACC,GAAG,iDAAV,aAAYW,wBAAwB,KACpCnB,MAAM,CAACU,QAAQ,CAACU,gBAAgB,IAC/B,GAAER,OAAQ,YAAW;IAExB,MAAMS,MAAM,GACV,iBAAAd,MAAM,CAACC,GAAG,iDAAV,aAAYc,qBAAqB,KACjCtB,MAAM,CAACU,QAAQ,CAACa,YAAY,IAC3B,GAAEX,OAAQ,WAAU;IAEvB,IAAIN,MAAM,EAAE;MACV;AACN;AACA;AACA;MACML,OAAO,CAACI,QAAQ,GAAGN,cAAc;QAC/Ba,OAAO;QACPN,MAAM;QACNS,MAAM;QACNG,UAAU;QACVG;MAAM,GAEFrB,MAAM,CAACU,QAAQ,CAACc,MAAM,IAAI,CAAC,CAAC,EAChC;IACJ,CAAC,MAAM;MACL;MACAC,OAAO,CAACC,IAAI,CACV,gEAAgE,CACjE;IACH;EACF;EAEA,IAAIzB,OAAO,CAACI,QAAQ,EAAEF,EAAE,CAACF,OAAO,CAACI,QAAQ,CAAC;AAC5C,CAAC;AAED,OAAO,MAAMsB,aAAa,GAAG,QAA0B;EAAA,IAAzB;MAAEC;IAAiB,CAAC;IAATC,OAAO;EAC9C3B,YAAY,CAAE4B,CAAC,IAAK;IAClBA,CAAC,CAACH,aAAa;MACbC;IAAI,GACDC,OAAO,EACV;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAME,UAAU,GAAIF,OAAO,IAAK;EACrC3B,YAAY,CAAE4B,CAAC,IAAK;IAClBA,CAAC,CAACC,UAAU,CAACF,OAAO,CAAC;EACvB,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMG,eAAe,GAAIH,OAAO,IAAK;EAC1C3B,YAAY,CAAE4B,CAAC,IAAK;IAClBA,CAAC,CAACE,eAAe,CAACH,OAAO,CAAC;EAC5B,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMI,SAAS,GAAIJ,OAAO,IAAK;EACpC3B,YAAY,CAAE4B,CAAC,IAAK;IAClBA,CAAC,CAACG,SAAS,CAACJ,OAAO,CAAC;EACtB,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMK,eAAe,GAAG,CAACC,IAAI,EAAE,GAAGC,IAAI,KAAK;EAChDlC,YAAY,CAAE4B,CAAC,IAAK;IAClBA,CAAC,CAACI,eAAe,CAACC,IAAI,EAAE,GAAGC,IAAI,CAAC;EAClC,CAAC,CAAC;AACJ,CAAC"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}