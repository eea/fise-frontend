{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/components/SortOn.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Button } from 'semantic-ui-react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport cx from 'classnames';\nimport { compose } from 'redux';\nimport { Icon } from '@plone/volto/components';\nimport { Option, DropdownIndicator } from '@plone/volto/components/manage/Widgets/SelectStyling';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { selectTheme, sortOnSelectStyles } from './SelectStyling';\nimport upSVG from '@plone/volto/icons/sort-up.svg';\nimport downSVG from '@plone/volto/icons/sort-down.svg';\nconst messages = defineMessages({\n  noSelection: {\n    \"id\": \"No selection\",\n    \"defaultMessage\": \"No selection\"\n  },\n  sortOn: {\n    \"id\": \"Sort on\",\n    \"defaultMessage\": \"Sort on\"\n  },\n  ascending: {\n    \"id\": \"Ascending\",\n    \"defaultMessage\": \"Ascending\"\n  },\n  descending: {\n    \"id\": \"Descending\",\n    \"defaultMessage\": \"Descending\"\n  }\n});\nconst SortOn = props => {\n  var _data$query, _sortable_indexes$act;\n  const {\n    data = {},\n    reactSelect,\n    sortOn = null,\n    sortOrder = null,\n    setSortOn,\n    setSortOrder,\n    isEditMode,\n    querystring = {},\n    intl\n  } = props;\n  const {\n    sortable_indexes\n  } = querystring;\n  const Select = reactSelect.default;\n  const activeSortOn = sortOn || (data === null || data === void 0 ? void 0 : (_data$query = data.query) === null || _data$query === void 0 ? void 0 : _data$query.sort_on) || '';\n  const {\n    sortOnOptions = []\n  } = data;\n  const value = {\n    value: activeSortOn || intl.formatMessage(messages.noSelection),\n    label: activeSortOn && sortable_indexes ? (_sortable_indexes$act = sortable_indexes[activeSortOn]) === null || _sortable_indexes$act === void 0 ? void 0 : _sortable_indexes$act.title : activeSortOn || intl.formatMessage(messages.noSelection)\n  };\n  return __jsx(\"div\", {\n    className: \"search-sort-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"search-sort-on\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, data.sortOnLabel && __jsx(\"span\", {\n    className: \"sort-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, data.sortOnLabel), __jsx(Select, {\n    id: \"select-search-sort-on\",\n    name: \"select-searchblock-sort-on\",\n    className: \"search-react-select-container\",\n    classNamePrefix: \"react-select\",\n    placeholder: intl.formatMessage(messages.sortOn),\n    styles: sortOnSelectStyles,\n    theme: selectTheme,\n    components: {\n      DropdownIndicator,\n      Option\n    },\n    options: [...sortOnOptions.map(k => {\n      var _sortable_indexes$k;\n      return {\n        value: k,\n        label: ((_sortable_indexes$k = sortable_indexes[k]) === null || _sortable_indexes$k === void 0 ? void 0 : _sortable_indexes$k.title) || k\n      };\n    })],\n    value: value,\n    onChange: data => {\n      !isEditMode && setSortOn(data.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), __jsx(Button, {\n    icon: true,\n    basic: true,\n    compact: true,\n    title: intl.formatMessage(messages.ascending),\n    className: cx({\n      active: sortOrder === 'ascending'\n    }),\n    onClick: () => {\n      !isEditMode && setSortOrder('ascending');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    name: upSVG,\n    size: \"25px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  })), __jsx(Button, {\n    icon: true,\n    basic: true,\n    compact: true,\n    title: intl.formatMessage(messages.descending),\n    className: cx({\n      active: sortOrder === 'descending'\n    }),\n    onClick: () => {\n      !isEditMode && setSortOrder('descending');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    name: downSVG,\n    size: \"25px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  })));\n};\nexport default compose(injectIntl, injectLazyLibs(['reactSelect']))(SortOn);","map":{"version":3,"names":["React","Button","defineMessages","injectIntl","cx","compose","Icon","Option","DropdownIndicator","injectLazyLibs","selectTheme","sortOnSelectStyles","upSVG","downSVG","messages","noSelection","sortOn","ascending","descending","SortOn","props","data","reactSelect","sortOrder","setSortOn","setSortOrder","isEditMode","querystring","intl","sortable_indexes","Select","default","activeSortOn","query","sort_on","sortOnOptions","value","formatMessage","label","title","sortOnLabel","map","k","active"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@plone/volto/src/components/manage/Blocks/Search/components/SortOn.jsx"],"sourcesContent":["import React from 'react';\nimport { Button } from 'semantic-ui-react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport cx from 'classnames';\nimport { compose } from 'redux';\nimport { Icon } from '@plone/volto/components';\nimport {\n  Option,\n  DropdownIndicator,\n} from '@plone/volto/components/manage/Widgets/SelectStyling';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { selectTheme, sortOnSelectStyles } from './SelectStyling';\n\nimport upSVG from '@plone/volto/icons/sort-up.svg';\nimport downSVG from '@plone/volto/icons/sort-down.svg';\n\nconst messages = defineMessages({\n  noSelection: {\n    id: 'No selection',\n    defaultMessage: 'No selection',\n  },\n  sortOn: {\n    id: 'Sort on',\n    defaultMessage: 'Sort on',\n  },\n  ascending: {\n    id: 'Ascending',\n    defaultMessage: 'Ascending',\n  },\n  descending: {\n    id: 'Descending',\n    defaultMessage: 'Descending',\n  },\n});\n\nconst SortOn = (props) => {\n  const {\n    data = {},\n    reactSelect,\n    sortOn = null,\n    sortOrder = null,\n    setSortOn,\n    setSortOrder,\n    isEditMode,\n    querystring = {},\n    intl,\n  } = props;\n  const { sortable_indexes } = querystring;\n  const Select = reactSelect.default;\n\n  const activeSortOn = sortOn || data?.query?.sort_on || '';\n\n  const { sortOnOptions = [] } = data;\n  const value = {\n    value: activeSortOn || intl.formatMessage(messages.noSelection),\n    label:\n      activeSortOn && sortable_indexes\n        ? sortable_indexes[activeSortOn]?.title\n        : activeSortOn || intl.formatMessage(messages.noSelection),\n  };\n\n  return (\n    <div className=\"search-sort-wrapper\">\n      <div className=\"search-sort-on\">\n        {data.sortOnLabel && (\n          <span className=\"sort-label\">{data.sortOnLabel}</span>\n        )}\n        <Select\n          id=\"select-search-sort-on\"\n          name=\"select-searchblock-sort-on\"\n          className=\"search-react-select-container\"\n          classNamePrefix=\"react-select\"\n          placeholder={intl.formatMessage(messages.sortOn)}\n          styles={sortOnSelectStyles}\n          theme={selectTheme}\n          components={{ DropdownIndicator, Option }}\n          options={[\n            ...sortOnOptions.map((k) => ({\n              value: k,\n              label: sortable_indexes[k]?.title || k,\n            })),\n          ]}\n          value={value}\n          onChange={(data) => {\n            !isEditMode && setSortOn(data.value);\n          }}\n        />\n      </div>\n      <Button\n        icon\n        basic\n        compact\n        title={intl.formatMessage(messages.ascending)}\n        className={cx({\n          active: sortOrder === 'ascending',\n        })}\n        onClick={() => {\n          !isEditMode && setSortOrder('ascending');\n        }}\n      >\n        <Icon name={upSVG} size=\"25px\" />\n      </Button>\n      <Button\n        icon\n        basic\n        compact\n        title={intl.formatMessage(messages.descending)}\n        className={cx({\n          active: sortOrder === 'descending',\n        })}\n        onClick={() => {\n          !isEditMode && setSortOrder('descending');\n        }}\n      >\n        <Icon name={downSVG} size=\"25px\" />\n      </Button>\n    </div>\n  );\n};\n\nexport default compose(injectIntl, injectLazyLibs(['reactSelect']))(SortOn);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"No selection","defaultMessage":"No selection"},{"id":"Sort on","defaultMessage":"Sort on"},{"id":"Ascending","defaultMessage":"Ascending"},{"id":"Descending","defaultMessage":"Descending"}]}},"sourceType":"module","externalDependencies":[]}