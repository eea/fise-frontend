{"ast":null,"code":"import _slicedToArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/home/tooler/code/work/forests-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from 'react';\nimport { getBaseUrl, flattenToAppURL } from '@plone/volto/helpers';\nimport qs from 'querystring';\nexport function getBasePath(url) {\n  return flattenToAppURL(getBaseUrl(url));\n}\nexport function getConnectorPath(provider_url, hashValue) {\n  return \"\".concat(provider_url).concat(hashValue ? \"#\".concat(hashValue) : '#_default');\n}\nexport function getProviderUrl(url) {\n  if (!url) return '';\n  return flattenToAppURL(url).replace('@@download/file', '').replace(/\\/*$/, '');\n}\nexport function getForm(_ref) {\n  var _location$search;\n  var _ref$data = _ref.data,\n    data = _ref$data === void 0 ? {} : _ref$data,\n    location = _ref.location,\n    pagination = _ref.pagination,\n    _ref$extraQuery = _ref.extraQuery,\n    extraQuery = _ref$extraQuery === void 0 ? {} : _ref$extraQuery,\n    extraConditions = _ref.extraConditions;\n  var params = _objectSpread(_objectSpread(_objectSpread({}, qs.parse(location === null || location === void 0 ? void 0 : (_location$search = location.search) === null || _location$search === void 0 ? void 0 : _location$search.replace('?', '')) || {}), data.form || {}), extraQuery);\n  var allowedParams = data.allowedParams;\n  var allowedParamsObj = null;\n  if (Object.keys(allowedParams || {}).length) {\n    allowedParamsObj = {};\n    allowedParams.forEach(function (param) {\n      if (params[param]) {\n        allowedParamsObj[param] = params[param];\n      }\n    });\n  }\n  return _objectSpread(_objectSpread(_objectSpread({}, allowedParamsObj || params), extraConditions ? {\n    extra_conditions: extraConditions\n  } : {}), pagination !== null && pagination !== void 0 && pagination.enabled ? {\n    p: pagination.activePage,\n    nrOfHits: pagination.itemsPerPage\n  } : {});\n}\nexport function getDataQuery(_ref2) {\n  var _data$has_data_query_, _connected_data_param, _connected_data_param2;\n  var connected_data_parameters = _ref2.connected_data_parameters,\n    _ref2$content = _ref2.content,\n    content = _ref2$content === void 0 ? {} : _ref2$content,\n    _ref2$data = _ref2.data,\n    data = _ref2$data === void 0 ? {} : _ref2$data,\n    location = _ref2.location,\n    params = _ref2.params,\n    provider_url = _ref2.provider_url;\n  var byContextPath = [];\n  var byRouteParameters = [];\n  var path = flattenToAppURL(content === null || content === void 0 ? void 0 : content['@id']) || location.pathname.replace('/edit', '');\n  var has_data_query_by_provider = (_data$has_data_query_ = data.has_data_query_by_provider) !== null && _data$has_data_query_ !== void 0 ? _data$has_data_query_ : true;\n  var byProviderPath = has_data_query_by_provider ? (connected_data_parameters === null || connected_data_parameters === void 0 ? void 0 : (_connected_data_param = connected_data_parameters.byProviderPath) === null || _connected_data_param === void 0 ? void 0 : _connected_data_param[provider_url]) || {} : {};\n  ((connected_data_parameters === null || connected_data_parameters === void 0 ? void 0 : (_connected_data_param2 = connected_data_parameters.byContextPath) === null || _connected_data_param2 === void 0 ? void 0 : _connected_data_param2[path]) || []).forEach(function (data_query) {\n    if (!params[data_query.i]) {\n      byContextPath.push(data_query);\n    } else {\n      byRouteParameters.push(_objectSpread(_objectSpread({}, data_query), {}, {\n        v: [params[data_query.i]]\n      }));\n    }\n  });\n  var filters = Object.keys(byProviderPath).map(function (key) {\n    return byProviderPath[key];\n  }) || [];\n  // if (pagination.enabled) {\n  //   return [...(data?.data_query || []), ...byContextPath, ...filters];\n  // }\n  return [].concat(_toConsumableArray((data === null || data === void 0 ? void 0 : data.data_query) || []), byContextPath, byRouteParameters, _toConsumableArray(filters));\n}\n\n/*\n * refreshes chart data using data from provider\n * this is similar to mixProviderData from ConnectedChart, but it doesn't apply\n * transformation\n */\nexport function updateChartDataFromProvider(chartData, providerData) {\n  if (!providerData) return chartData;\n  var providerDataColumns = Object.keys(providerData);\n  var res = chartData.map(function (trace) {\n    var newTrace = _objectSpread({}, trace || {});\n    Object.keys(trace).forEach(function (tk) {\n      var originalColumn = tk.replace(/src$/, '');\n      if (tk.endsWith('src') && Object.keys(trace).includes(originalColumn) && typeof trace[tk] === 'string' && providerDataColumns.includes(trace[tk])) {\n        var values = providerData[trace[tk]];\n        newTrace[originalColumn] = values;\n      }\n    });\n    newTrace.transforms = (trace.transforms || []).map(function (transform) {\n      return _objectSpread(_objectSpread({}, transform), {}, {\n        target: providerData[transform.targetsrc]\n      });\n    });\n    return newTrace;\n  });\n  return res;\n}\n\n/**\n * mixProviderData.\n *\n * Mixes provider data with saved chart data, optionally filtered by connected\n * data parameters. To be used in a plotly chart\n *\n * @param {} chartData\n * @param {} providerData\n * @param {} parameters\n */\nexport function mixProviderData(chartData, providerData, parameters, connectedDataTemplateString) {\n  var providerDataColumns = Object.keys(providerData);\n  var res = (chartData || []).map(function (trace) {\n    Object.keys(trace).forEach(function (tk) {\n      var originalColumn = tk.replace(/src$/, '');\n      if (tk.endsWith('src') && Object.keys(trace).includes(originalColumn) && typeof trace[tk] === 'string' && providerDataColumns.includes(trace[tk])) {\n        var values = providerData[trace[tk]];\n        trace[originalColumn] = values;\n        if (!(parameters && parameters.length)) return;\n        var filter = parameters.find(function (f) {\n          // finds any available filter that matches the data\n          var index = f.i;\n          index = index.toLowerCase().replace('taxonomy_', '');\n          return Object.keys(providerData || {}).map(function (k) {\n            return k.toLowerCase();\n          }).includes(index);\n        });\n        if (!filter) return providerData;\n        var filterName = filter.i,\n          _filter$v = _slicedToArray(filter.v, 1),\n          filterValue = _filter$v[0];\n        filterName = filterName.replace('taxonomy_', '');\n        var real_index = providerDataColumns.find(function (n) {\n          return n.toLowerCase() === filterName;\n        }) || filterName;\n\n        // tweak transformation filters using data parameters\n        (trace.transforms || []).forEach(function (transform) {\n          if (transform.targetsrc === real_index && filterValue) {\n            if (!connectedDataTemplateString) {\n              transform.value = filterValue;\n              transform.target = providerData[transform.targetsrc];\n            } else {\n              var transformValue = transform.value;\n              var tValueIsArray = Array.isArray(transformValue);\n              transformValue = tValueIsArray ? transformValue.join() : transformValue;\n              connectedDataTemplateString.split(',').forEach(function (templString) {\n                transformValue = transformValue.replace(templString, filterValue);\n              });\n              transform.value = tValueIsArray ? transformValue.split(',') : transformValue;\n              transform.target = providerData[transform.targetsrc];\n            }\n          }\n        });\n      }\n    });\n    return trace;\n  });\n  return res;\n}\n\n/* Connected data parameters */\n\nexport function getConnectedDataParametersForContext(connected_data_parameters, url) {\n  var path = getBasePath(url || '');\n  var _connected_data_param3 = connected_data_parameters.byContextPath,\n    byContextPath = _connected_data_param3 === void 0 ? {} : _connected_data_param3;\n  return byContextPath[path] || null;\n}\nexport function getConnectedDataParametersForProvider(connected_data_parameters, provider_url) {\n  var path = getBasePath(provider_url || '');\n  var _connected_data_param4 = connected_data_parameters.byProviderPath,\n    byProviderPath = _connected_data_param4 === void 0 ? {} : _connected_data_param4;\n  var res = Object.keys(byProviderPath[path] || {}).map(function (filter) {\n    return byProviderPath[path][filter];\n  });\n  return res;\n}\n\n// hook when component is in visible viewport, rootMargin is how much of the element should be visible before loading up\n// Example\"-300px\" for In this case it would only be considered onScreen if more ... 300px is visible\nexport function useOnScreen(ref) {\n  _s();\n  var rootMargin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0px';\n  // State and setter for storing whether element is visible\n  var _useState = useState(false),\n    isIntersecting = _useState[0],\n    setIntersecting = _useState[1];\n  var _useState2 = useState(0),\n    entryCount = _useState2[0],\n    setEntryCount = _useState2[1];\n  useEffect(function () {\n    var observer = new IntersectionObserver(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 1),\n        entry = _ref4[0];\n      // Update our state when observer callback fires\n      setIntersecting(entry.isIntersecting);\n    }, {\n      rootMargin: rootMargin\n    });\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    var curRef = ref.current;\n    return function () {\n      observer.unobserve(ref.current ? ref.current : curRef);\n    };\n  }, []); // Empty array ensures that effect is only run on mount and unmount\n  useEffect(function () {\n    if (isIntersecting) {\n      setEntryCount(entryCount + 1);\n    }\n  }, [isIntersecting]);\n  return {\n    entryCount: entryCount,\n    isIntersecting: isIntersecting\n  };\n}\n\n// export function mergeSchema(schema, schemaExtend, ...args) {\n//   const fieldsets = {};\n//   const fieldsetsOrder = [];\n//   const _schema =\n//     (typeof schema === 'function' ? schema(...args) : schema) || null;\n//   const _schemaExtend =\n//     (typeof schemaExtend === 'function'\n//       ? schemaExtend(...args)\n//       : schemaExtend) || null;\n//   if (!_schema || (_schema && !_schemaExtend)) return null;\n\n//   [...(_schema.fieldsets || []), ...(_schemaExtend.fieldsets || [])].forEach(\n//     (fieldset) => {\n//       if (!fieldsetsOrder.includes(fieldset.id)) {\n//         fieldsetsOrder.push(fieldset.id);\n//       }\n//       if (!fieldsets[fieldset.id]) {\n//         fieldsets[fieldset.id] = {};\n//       }\n//       fieldsets[fieldset.id] = {\n//         id: fieldset.id,\n//         title: fieldset.title,\n//         fields: [\n//           ...new Set([\n//             ...(fieldsets[fieldset.id].fields || []),\n//             ...(fieldset.fields || []),\n//           ]),\n//         ],\n//       };\n//     },\n//   );\n\n//   return {\n//     title: _schemaExtend.title || _schema.title,\n//     fieldsets,\n//     properties: {\n//       ...(_schema.properties || {}),\n//       ...(_schemaExtend.properties || {}),\n//     },\n//     required: [...(_schema.required || []), ...(_schemaExtend.required || [])],\n//   };\n// }\n_s(useOnScreen, \"TP899YgngjpUbeS3lcImcd07T0Q=\");\nexport var getFilteredURL = function getFilteredURL(url) {\n  var connected_data_parameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (!(connected_data_parameters !== null && connected_data_parameters !== void 0 && connected_data_parameters.length)) return url;\n  var decodedURL = decodeURIComponent(url);\n  var queries = decodedURL.match(/(<<)(.*?)*>>/g); //safari: don't use lookbehind\n  if (!(queries !== null && queries !== void 0 && queries.length)) return url;\n  var filteredQueries = queries.map(function (query) {\n    return query.replace('<<', '').replace('>>', '');\n  });\n  var keys = connected_data_parameters.map(function (param) {\n    return param.i;\n  });\n  for (var poz in filteredQueries) {\n    var key = filteredQueries[poz];\n    var paramPoz = keys.indexOf(key);\n    if (paramPoz > -1) {\n      decodedURL = decodedURL.replace(\"<<\".concat(key, \">>\"), connected_data_parameters[paramPoz].v[0]);\n      continue;\n    }\n  }\n  return decodedURL;\n};","map":{"version":3,"names":["useEffect","useState","getBaseUrl","flattenToAppURL","qs","getBasePath","url","getConnectorPath","provider_url","hashValue","getProviderUrl","replace","getForm","data","location","pagination","extraQuery","extraConditions","params","parse","search","form","allowedParams","allowedParamsObj","Object","keys","length","forEach","param","extra_conditions","enabled","p","activePage","nrOfHits","itemsPerPage","getDataQuery","connected_data_parameters","content","byContextPath","byRouteParameters","path","pathname","has_data_query_by_provider","byProviderPath","data_query","i","push","v","filters","map","key","updateChartDataFromProvider","chartData","providerData","providerDataColumns","res","trace","newTrace","tk","originalColumn","endsWith","includes","values","transforms","transform","target","targetsrc","mixProviderData","parameters","connectedDataTemplateString","filter","find","f","index","toLowerCase","k","filterName","filterValue","real_index","n","value","transformValue","tValueIsArray","Array","isArray","join","split","templString","getConnectedDataParametersForContext","getConnectedDataParametersForProvider","useOnScreen","ref","rootMargin","isIntersecting","setIntersecting","entryCount","setEntryCount","observer","IntersectionObserver","entry","current","observe","curRef","unobserve","getFilteredURL","decodedURL","decodeURIComponent","queries","match","filteredQueries","query","poz","paramPoz","indexOf"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-datablocks/src/helpers.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from 'react';\nimport { getBaseUrl, flattenToAppURL } from '@plone/volto/helpers';\nimport qs from 'querystring';\n\nexport function getBasePath(url) {\n  return flattenToAppURL(getBaseUrl(url));\n}\n\nexport function getConnectorPath(provider_url, hashValue) {\n  return `${provider_url}${hashValue ? `#${hashValue}` : '#_default'}`;\n}\n\nexport function getProviderUrl(url) {\n  if (!url) return '';\n  return flattenToAppURL(url)\n    .replace('@@download/file', '')\n    .replace(/\\/*$/, '');\n}\n\nexport function getForm({\n  data = {},\n  location,\n  pagination,\n  extraQuery = {},\n  extraConditions,\n}) {\n  const params = {\n    ...(qs.parse(location?.search?.replace('?', '')) || {}),\n    ...(data.form || {}),\n    ...extraQuery,\n  };\n  const allowedParams = data.allowedParams;\n  let allowedParamsObj = null;\n  if (Object.keys(allowedParams || {}).length) {\n    allowedParamsObj = {};\n    allowedParams.forEach((param) => {\n      if (params[param]) {\n        allowedParamsObj[param] = params[param];\n      }\n    });\n  }\n\n  return {\n    ...(allowedParamsObj || params),\n    ...(extraConditions ? { extra_conditions: extraConditions } : {}),\n    ...(pagination?.enabled\n      ? { p: pagination.activePage, nrOfHits: pagination.itemsPerPage }\n      : {}),\n  };\n}\n\nexport function getDataQuery({\n  connected_data_parameters,\n  content = {},\n  data = {},\n  location,\n  params,\n  provider_url,\n}) {\n  let byContextPath = [];\n  let byRouteParameters = [];\n  const path =\n    flattenToAppURL(content?.['@id']) || location.pathname.replace('/edit', '');\n  const has_data_query_by_provider = data.has_data_query_by_provider ?? true;\n  const byProviderPath = has_data_query_by_provider\n    ? connected_data_parameters?.byProviderPath?.[provider_url] || {}\n    : {};\n\n  (connected_data_parameters?.byContextPath?.[path] || []).forEach(\n    (data_query) => {\n      if (!params[data_query.i]) {\n        byContextPath.push(data_query);\n      } else {\n        byRouteParameters.push({ ...data_query, v: [params[data_query.i]] });\n      }\n    },\n  );\n\n  const filters =\n    Object.keys(byProviderPath).map((key) => byProviderPath[key]) || [];\n  // if (pagination.enabled) {\n  //   return [...(data?.data_query || []), ...byContextPath, ...filters];\n  // }\n  return [\n    ...(data?.data_query || []),\n    ...byContextPath,\n    ...byRouteParameters,\n    ...filters,\n  ];\n}\n\n/*\n * refreshes chart data using data from provider\n * this is similar to mixProviderData from ConnectedChart, but it doesn't apply\n * transformation\n */\nexport function updateChartDataFromProvider(chartData, providerData) {\n  if (!providerData) return chartData;\n\n  const providerDataColumns = Object.keys(providerData);\n\n  const res = chartData.map((trace) => {\n    const newTrace = { ...(trace || {}) };\n    Object.keys(trace).forEach((tk) => {\n      const originalColumn = tk.replace(/src$/, '');\n      if (\n        tk.endsWith('src') &&\n        Object.keys(trace).includes(originalColumn) &&\n        typeof trace[tk] === 'string' &&\n        providerDataColumns.includes(trace[tk])\n      ) {\n        let values = providerData[trace[tk]];\n\n        newTrace[originalColumn] = values;\n      }\n    });\n    newTrace.transforms = (trace.transforms || []).map((transform) => ({\n      ...transform,\n      target: providerData[transform.targetsrc],\n    }));\n    return newTrace;\n  });\n  return res;\n}\n\n/**\n * mixProviderData.\n *\n * Mixes provider data with saved chart data, optionally filtered by connected\n * data parameters. To be used in a plotly chart\n *\n * @param {} chartData\n * @param {} providerData\n * @param {} parameters\n */\nexport function mixProviderData(\n  chartData,\n  providerData,\n  parameters,\n  connectedDataTemplateString,\n) {\n  const providerDataColumns = Object.keys(providerData);\n  const res = (chartData || []).map((trace) => {\n    Object.keys(trace).forEach((tk) => {\n      const originalColumn = tk.replace(/src$/, '');\n      if (\n        tk.endsWith('src') &&\n        Object.keys(trace).includes(originalColumn) &&\n        typeof trace[tk] === 'string' &&\n        providerDataColumns.includes(trace[tk])\n      ) {\n        let values = providerData[trace[tk]];\n\n        trace[originalColumn] = values;\n\n        if (!(parameters && parameters.length)) return;\n\n        const filter = parameters.find((f) => {\n          // finds any available filter that matches the data\n          let { i: index } = f;\n          index = index.toLowerCase().replace('taxonomy_', '');\n          return Object.keys(providerData || {})\n            .map((k) => k.toLowerCase())\n            .includes(index);\n        });\n        if (!filter) return providerData;\n\n        let {\n          i: filterName,\n          v: [filterValue],\n        } = filter;\n\n        filterName = filterName.replace('taxonomy_', '');\n\n        const real_index =\n          providerDataColumns.find((n) => n.toLowerCase() === filterName) ||\n          filterName;\n\n        // tweak transformation filters using data parameters\n        (trace.transforms || []).forEach((transform) => {\n          if (transform.targetsrc === real_index && filterValue) {\n            if (!connectedDataTemplateString) {\n              transform.value = filterValue;\n              transform.target = providerData[transform.targetsrc];\n            } else {\n              let transformValue = transform.value;\n              const tValueIsArray = Array.isArray(transformValue);\n              transformValue = tValueIsArray\n                ? transformValue.join()\n                : transformValue;\n\n              connectedDataTemplateString.split(',').forEach((templString) => {\n                transformValue = transformValue.replace(\n                  templString,\n                  filterValue,\n                );\n              });\n\n              transform.value = tValueIsArray\n                ? transformValue.split(',')\n                : transformValue;\n              transform.target = providerData[transform.targetsrc];\n            }\n          }\n        });\n      }\n    });\n\n    return trace;\n  });\n  return res;\n}\n\n/* Connected data parameters */\n\nexport function getConnectedDataParametersForContext(\n  connected_data_parameters,\n  url,\n) {\n  let path = getBasePath(url || '');\n\n  const { byContextPath = {} } = connected_data_parameters;\n\n  return byContextPath[path] || null;\n}\n\nexport function getConnectedDataParametersForProvider(\n  connected_data_parameters,\n  provider_url,\n) {\n  let path = getBasePath(provider_url || '');\n\n  const { byProviderPath = {} } = connected_data_parameters;\n  const res = Object.keys(byProviderPath[path] || {}).map(\n    (filter) => byProviderPath[path][filter],\n  );\n\n  return res;\n}\n\n// hook when component is in visible viewport, rootMargin is how much of the element should be visible before loading up\n// Example\"-300px\" for In this case it would only be considered onScreen if more ... 300px is visible\nexport function useOnScreen(ref, rootMargin = '0px') {\n  // State and setter for storing whether element is visible\n  const [isIntersecting, setIntersecting] = useState(false);\n  const [entryCount, setEntryCount] = useState(0);\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        // Update our state when observer callback fires\n        setIntersecting(entry.isIntersecting);\n      },\n      {\n        rootMargin,\n      },\n    );\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    var curRef = ref.current;\n    return () => {\n      observer.unobserve(ref.current ? ref.current : curRef);\n    };\n  }, []); // Empty array ensures that effect is only run on mount and unmount\n  useEffect(() => {\n    if (isIntersecting) {\n      setEntryCount(entryCount + 1);\n    }\n  }, [isIntersecting]);\n  return { entryCount, isIntersecting };\n}\n\n// export function mergeSchema(schema, schemaExtend, ...args) {\n//   const fieldsets = {};\n//   const fieldsetsOrder = [];\n//   const _schema =\n//     (typeof schema === 'function' ? schema(...args) : schema) || null;\n//   const _schemaExtend =\n//     (typeof schemaExtend === 'function'\n//       ? schemaExtend(...args)\n//       : schemaExtend) || null;\n//   if (!_schema || (_schema && !_schemaExtend)) return null;\n\n//   [...(_schema.fieldsets || []), ...(_schemaExtend.fieldsets || [])].forEach(\n//     (fieldset) => {\n//       if (!fieldsetsOrder.includes(fieldset.id)) {\n//         fieldsetsOrder.push(fieldset.id);\n//       }\n//       if (!fieldsets[fieldset.id]) {\n//         fieldsets[fieldset.id] = {};\n//       }\n//       fieldsets[fieldset.id] = {\n//         id: fieldset.id,\n//         title: fieldset.title,\n//         fields: [\n//           ...new Set([\n//             ...(fieldsets[fieldset.id].fields || []),\n//             ...(fieldset.fields || []),\n//           ]),\n//         ],\n//       };\n//     },\n//   );\n\n//   return {\n//     title: _schemaExtend.title || _schema.title,\n//     fieldsets,\n//     properties: {\n//       ...(_schema.properties || {}),\n//       ...(_schemaExtend.properties || {}),\n//     },\n//     required: [...(_schema.required || []), ...(_schemaExtend.required || [])],\n//   };\n// }\n\nexport const getFilteredURL = (url, connected_data_parameters = []) => {\n  if (!connected_data_parameters?.length) return url;\n  let decodedURL = decodeURIComponent(url);\n  const queries = decodedURL.match(/(<<)(.*?)*>>/g); //safari: don't use lookbehind\n  if (!queries?.length) return url;\n\n  const filteredQueries = queries.map((query) =>\n    query.replace('<<', '').replace('>>', ''),\n  );\n\n  const keys = connected_data_parameters.map((param) => param.i);\n  for (let poz in filteredQueries) {\n    const key = filteredQueries[poz];\n    const paramPoz = keys.indexOf(key);\n    if (paramPoz > -1) {\n      decodedURL = decodedURL.replace(\n        `<<${key}>>`,\n        connected_data_parameters[paramPoz].v[0],\n      );\n\n      continue;\n    }\n  }\n  return decodedURL;\n};\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}