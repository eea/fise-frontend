{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport CardsCarousel from './templates/CardsCarousel';\nimport CardsGallery from './templates/CardsGallery';\nimport NewsList from './templates/NewsList';\nimport Summary from './templates/Summary';\nimport { DefaultCardLayout, ImageCardLayout, LeftImageCardLayout, RightImageCardLayout } from './CardTemplates';\nimport { DefaultItemLayout } from './ItemTemplates';\nimport { SearchItemLayout } from './SearchItemTemplate';\nimport { BasicListingBlockStylesSchema } from './schema';\nimport { CardStylingSchemaEnhancer } from './schema';\nconst applyConfig = config => {\n  // moment date locale. See https://momentjs.com/ - Multiple Locale Support\n  config.settings.dateLocale = config.settings.dateLocale || 'en';\n  const {\n    listing\n  } = config.blocks.blocksConfig;\n  const blacklist = ['summary'];\n  const {\n    schemaEnhancer\n  } = listing;\n  listing.stylesSchema = BasicListingBlockStylesSchema;\n  listing.schemaEnhancer = props => {\n    // NOTE: this is a schema finalizer\n    const schema = schemaEnhancer ? schemaEnhancer(props) : props.schema;\n\n    // move querystring to its own fieldset;\n    schema.fieldsets[0].fields = schema.fieldsets[0].fields.filter(f => f !== 'querystring');\n    schema.fieldsets.splice(1, 0, {\n      id: 'querystring',\n      title: 'Query',\n      fields: ['querystring']\n    });\n    return schema;\n  };\n  listing.variations = [...listing.variations.filter(({\n    id\n  }) => blacklist.indexOf(id) === -1), {\n    id: 'summary',\n    isDefault: false,\n    title: 'Item listing',\n    template: Summary,\n    schemaEnhancer: Summary.schemaEnhancer,\n    stylesSchema: Summary.styleSchemaEnhancer\n  }, {\n    id: 'cardsCarousel',\n    isDefault: false,\n    title: 'Cards carousel',\n    template: CardsCarousel,\n    schemaEnhancer: CardsCarousel.schemaEnhancer,\n    stylesSchema: CardsCarousel.styleSchemaEnhancer\n  }, {\n    id: 'customCardsGalleryVariationId',\n    isDefault: false,\n    title: 'Cards gallery',\n    template: CardsGallery,\n    schemaEnhancer: CardsGallery.schemaEnhancer,\n    stylesSchema: CardStylingSchemaEnhancer\n  }, {\n    id: 'customNewsListVariationId',\n    isDefault: false,\n    title: 'News List',\n    template: NewsList,\n    schemaEnhancer: NewsList.schemaEnhancer\n  }];\n  listing.extensions = _objectSpread(_objectSpread({}, listing.extensions), {}, {\n    itemTemplates: [{\n      id: 'item',\n      isDefault: true,\n      title: 'Basic Item',\n      view: DefaultItemLayout\n    }, {\n      id: 'searchItem',\n      isDefault: false,\n      title: 'Search Item',\n      view: SearchItemLayout,\n      stylesSchema: SearchItemLayout.styleSchemaEnhancer\n    }],\n    cardTemplates: [{\n      id: 'card',\n      isDefault: true,\n      title: 'Card (default)',\n      view: DefaultCardLayout\n    }, {\n      id: 'imageCard',\n      title: 'Image Card',\n      view: ImageCardLayout\n    }, {\n      id: 'imageOnLeft',\n      title: 'Image on left',\n      view: LeftImageCardLayout\n    }, {\n      id: 'imageOnRight',\n      title: 'Image on right',\n      view: RightImageCardLayout\n    }]\n  });\n\n  // Theming\n  // This bug needs to be fixed first: https://github.com/plone/volto/issues/3675\n  // listing.enableStyling = true;\n\n  return config;\n};\nexport default applyConfig;","map":{"version":3,"names":["CardsCarousel","CardsGallery","NewsList","Summary","DefaultCardLayout","ImageCardLayout","LeftImageCardLayout","RightImageCardLayout","DefaultItemLayout","SearchItemLayout","BasicListingBlockStylesSchema","CardStylingSchemaEnhancer","applyConfig","config","settings","dateLocale","listing","blocks","blocksConfig","blacklist","schemaEnhancer","stylesSchema","props","schema","fieldsets","fields","filter","f","splice","id","title","variations","indexOf","isDefault","template","styleSchemaEnhancer","extensions","itemTemplates","view","cardTemplates"],"sources":["/home/tooler/code/work/forests-frontend/node_modules/@eeacms/volto-listing-block/src/blocks/Listing/index.js"],"sourcesContent":["import CardsCarousel from './templates/CardsCarousel';\nimport CardsGallery from './templates/CardsGallery';\nimport NewsList from './templates/NewsList';\nimport Summary from './templates/Summary';\n\nimport {\n  DefaultCardLayout,\n  ImageCardLayout,\n  LeftImageCardLayout,\n  RightImageCardLayout,\n} from './CardTemplates';\n\nimport { DefaultItemLayout } from './ItemTemplates';\nimport { SearchItemLayout } from './SearchItemTemplate';\n\nimport { BasicListingBlockStylesSchema } from './schema';\n\nimport { CardStylingSchemaEnhancer } from './schema';\n\nconst applyConfig = (config) => {\n  // moment date locale. See https://momentjs.com/ - Multiple Locale Support\n  config.settings.dateLocale = config.settings.dateLocale || 'en';\n  const { listing } = config.blocks.blocksConfig;\n\n  const blacklist = ['summary'];\n\n  const { schemaEnhancer } = listing;\n\n  listing.stylesSchema = BasicListingBlockStylesSchema;\n\n  listing.schemaEnhancer = (props) => {\n    // NOTE: this is a schema finalizer\n    const schema = schemaEnhancer ? schemaEnhancer(props) : props.schema;\n\n    // move querystring to its own fieldset;\n    schema.fieldsets[0].fields = schema.fieldsets[0].fields.filter(\n      (f) => f !== 'querystring',\n    );\n    schema.fieldsets.splice(1, 0, {\n      id: 'querystring',\n      title: 'Query',\n      fields: ['querystring'],\n    });\n\n    return schema;\n  };\n\n  listing.variations = [\n    ...listing.variations.filter(({ id }) => blacklist.indexOf(id) === -1),\n    {\n      id: 'summary',\n      isDefault: false,\n      title: 'Item listing',\n      template: Summary,\n      schemaEnhancer: Summary.schemaEnhancer,\n      stylesSchema: Summary.styleSchemaEnhancer,\n    },\n    {\n      id: 'cardsCarousel',\n      isDefault: false,\n      title: 'Cards carousel',\n      template: CardsCarousel,\n      schemaEnhancer: CardsCarousel.schemaEnhancer,\n      stylesSchema: CardsCarousel.styleSchemaEnhancer,\n    },\n    {\n      id: 'customCardsGalleryVariationId',\n      isDefault: false,\n      title: 'Cards gallery',\n      template: CardsGallery,\n      schemaEnhancer: CardsGallery.schemaEnhancer,\n      stylesSchema: CardStylingSchemaEnhancer,\n    },\n    {\n      id: 'customNewsListVariationId',\n      isDefault: false,\n      title: 'News List',\n      template: NewsList,\n      schemaEnhancer: NewsList.schemaEnhancer,\n    },\n  ];\n\n  listing.extensions = {\n    ...listing.extensions,\n    itemTemplates: [\n      {\n        id: 'item',\n        isDefault: true,\n        title: 'Basic Item',\n        view: DefaultItemLayout,\n      },\n      {\n        id: 'searchItem',\n        isDefault: false,\n        title: 'Search Item',\n        view: SearchItemLayout,\n        stylesSchema: SearchItemLayout.styleSchemaEnhancer,\n      },\n    ],\n    cardTemplates: [\n      {\n        id: 'card',\n        isDefault: true,\n        title: 'Card (default)',\n        view: DefaultCardLayout,\n      },\n      {\n        id: 'imageCard',\n        title: 'Image Card',\n        view: ImageCardLayout,\n      },\n      {\n        id: 'imageOnLeft',\n        title: 'Image on left',\n        view: LeftImageCardLayout,\n      },\n      {\n        id: 'imageOnRight',\n        title: 'Image on right',\n        view: RightImageCardLayout,\n      },\n    ],\n  };\n\n  // Theming\n  // This bug needs to be fixed first: https://github.com/plone/volto/issues/3675\n  // listing.enableStyling = true;\n\n  return config;\n};\n\nexport default applyConfig;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}