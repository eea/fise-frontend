{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-listing-block/src/blocks/Listing/layout-templates/Listing.jsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment'; // TODO: this needs to be lazyloaded!!!\n\nimport { ConditionalLink } from '@plone/volto/components';\nimport UniversalCard from '@eeacms/volto-listing-block/components/UniversalCard/UniversalCard';\nimport { flattenToAppURL } from '@plone/volto/helpers';\nimport { isInternalURL } from '@plone/volto/helpers/Url/Url';\nimport config from '@plone/volto/registry';\nconst Listing = props => {\n  var _linkHref$;\n  const {\n    block,\n    items,\n    linkTitle,\n    linkHref,\n    isEditMode\n  } = props;\n  let href = (linkHref === null || linkHref === void 0 ? void 0 : (_linkHref$ = linkHref[0]) === null || _linkHref$ === void 0 ? void 0 : _linkHref$['@id']) || '';\n  moment.locale(config.settings.dateLocale);\n  const link = isInternalURL(href) ? __jsx(ConditionalLink, {\n    to: flattenToAppURL(href),\n    condition: !isEditMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, linkTitle || href) : href ? __jsx(\"a\", {\n    href: href,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, linkTitle || href) : null;\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, items && items.length > 0 ? items.map((item, index) => __jsx(UniversalCard, _extends({}, props, {\n    key: `item-${block}-${index}`,\n    item: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }))) : __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, \"There are no items to show in this view.\")), link && __jsx(\"div\", {\n    className: \"footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 16\n    }\n  }, link));\n};\nListing.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.any).isRequired,\n  linkMore: PropTypes.any,\n  isEditMode: PropTypes.bool\n};\nListing.schemaEnhancer = UniversalCard.schemaEnhancer;\nexport default Listing;","map":{"version":3,"names":["React","PropTypes","moment","ConditionalLink","UniversalCard","flattenToAppURL","isInternalURL","config","Listing","props","block","items","linkTitle","linkHref","isEditMode","href","locale","settings","dateLocale","link","length","map","item","index","propTypes","arrayOf","any","isRequired","linkMore","bool","schemaEnhancer"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-listing-block/src/blocks/Listing/layout-templates/Listing.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment'; // TODO: this needs to be lazyloaded!!!\n\nimport { ConditionalLink } from '@plone/volto/components';\nimport UniversalCard from '@eeacms/volto-listing-block/components/UniversalCard/UniversalCard';\nimport { flattenToAppURL } from '@plone/volto/helpers';\nimport { isInternalURL } from '@plone/volto/helpers/Url/Url';\nimport config from '@plone/volto/registry';\n\nconst Listing = (props) => {\n  const { block, items, linkTitle, linkHref, isEditMode } = props;\n  let href = linkHref?.[0]?.['@id'] || '';\n\n  moment.locale(config.settings.dateLocale);\n  const link = isInternalURL(href) ? (\n    <ConditionalLink to={flattenToAppURL(href)} condition={!isEditMode}>\n      {linkTitle || href}\n    </ConditionalLink>\n  ) : href ? (\n    <a href={href}>{linkTitle || href}</a>\n  ) : null;\n\n  return (\n    <>\n      <div className=\"items\">\n        {items && items.length > 0 ? (\n          items.map((item, index) => (\n            <UniversalCard\n              {...props}\n              key={`item-${block}-${index}`}\n              item={item}\n            />\n          ))\n        ) : (\n          <p>There are no items to show in this view.</p>\n        )}\n      </div>\n\n      {link && <div className=\"footer\">{link}</div>}\n    </>\n  );\n};\n\nListing.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.any).isRequired,\n  linkMore: PropTypes.any,\n  isEditMode: PropTypes.bool,\n};\n\nListing.schemaEnhancer = UniversalCard.schemaEnhancer;\n\nexport default Listing;\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,MAAM,MAAM,QAAQ,CAAC,CAAC;;AAE7B,SAASC,eAAe,QAAQ,yBAAyB;AACzD,OAAOC,aAAa,MAAM,oEAAoE;AAC9F,SAASC,eAAe,QAAQ,sBAAsB;AACtD,SAASC,aAAa,QAAQ,8BAA8B;AAC5D,OAAOC,MAAM,MAAM,uBAAuB;AAE1C,MAAMC,OAAO,GAAIC,KAAK,IAAK;EAAA;EACzB,MAAM;IAAEC,KAAK;IAAEC,KAAK;IAAEC,SAAS;IAAEC,QAAQ;IAAEC;EAAW,CAAC,GAAGL,KAAK;EAC/D,IAAIM,IAAI,GAAG,CAAAF,QAAQ,aAARA,QAAQ,qCAARA,QAAQ,CAAG,CAAC,CAAC,+CAAb,WAAgB,KAAK,CAAC,KAAI,EAAE;EAEvCX,MAAM,CAACc,MAAM,CAACT,MAAM,CAACU,QAAQ,CAACC,UAAU,CAAC;EACzC,MAAMC,IAAI,GAAGb,aAAa,CAACS,IAAI,CAAC,GAC9B,MAAC,eAAe;IAAC,EAAE,EAAEV,eAAe,CAACU,IAAI,CAAE;IAAC,SAAS,EAAE,CAACD,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAChEF,SAAS,IAAIG,IAAI,CACF,GAChBA,IAAI,GACN;IAAG,IAAI,EAAEA,IAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAEH,SAAS,IAAIG,IAAI,CAAK,GACpC,IAAI;EAER,OACE,4BACE;IAAK,SAAS,EAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACnBJ,KAAK,IAAIA,KAAK,CAACS,MAAM,GAAG,CAAC,GACxBT,KAAK,CAACU,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KACpB,MAAC,aAAa,eACRd,KAAK;IACT,GAAG,EAAG,QAAOC,KAAM,IAAGa,KAAM,EAAE;IAC9B,IAAI,EAAED,IAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEd,CAAC,GAEF;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8CACD,CACG,EAELH,IAAI,IAAI;IAAK,SAAS,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAEA,IAAI,CAAO,CAC5C;AAEP,CAAC;AAEDX,OAAO,CAACgB,SAAS,GAAG;EAClBb,KAAK,EAAEV,SAAS,CAACwB,OAAO,CAACxB,SAAS,CAACyB,GAAG,CAAC,CAACC,UAAU;EAClDC,QAAQ,EAAE3B,SAAS,CAACyB,GAAG;EACvBZ,UAAU,EAAEb,SAAS,CAAC4B;AACxB,CAAC;AAEDrB,OAAO,CAACsB,cAAc,GAAG1B,aAAa,CAAC0B,cAAc;AAErD,eAAetB,OAAO"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}