{"ast":null,"code":"var _jsxFileName = \"/home/tooler/code/work/forests-frontend/src/develop/volto-slate/src/editor/plugins/Link/render.jsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from 'react';\nimport { UniversalLink } from '@plone/volto/components';\nimport { withHashLink } from 'volto-slate/hooks';\nimport './styles.less';\nexport const LinkElement = withHashLink(({\n  attributes,\n  children,\n  element,\n  mode,\n  setHashLink\n}) => {\n  var _link$internal, _link$internal$intern, _link$internal$intern2, _link$external, _link$hash, _link$hash$internal_h, _link$hash$internal_h2, _link$external2;\n  // TODO: handle title on internal links\n  let url = element.url;\n  const {\n    link\n  } = element.data || {};\n  const internal_link = link === null || link === void 0 ? void 0 : (_link$internal = link.internal) === null || _link$internal === void 0 ? void 0 : (_link$internal$intern = _link$internal.internal_link) === null || _link$internal$intern === void 0 ? void 0 : (_link$internal$intern2 = _link$internal$intern[0]) === null || _link$internal$intern2 === void 0 ? void 0 : _link$internal$intern2['@id'];\n  const external_link = link === null || link === void 0 ? void 0 : (_link$external = link.external) === null || _link$external === void 0 ? void 0 : _link$external.external_link;\n  const email = link === null || link === void 0 ? void 0 : link.email;\n  const internal_hash = link === null || link === void 0 ? void 0 : (_link$hash = link.hash) === null || _link$hash === void 0 ? void 0 : (_link$hash$internal_h = _link$hash.internal_hash) === null || _link$hash$internal_h === void 0 ? void 0 : (_link$hash$internal_h2 = _link$hash$internal_h[0]) === null || _link$hash$internal_h2 === void 0 ? void 0 : _link$hash$internal_h2['id'];\n  const href = internal_hash ? `#${internal_hash}` : email ? `mailto:${email.email_address}${email.email_subject ? `?subject=${email.email_subject}` : ''}` : external_link || internal_link || url;\n  const {\n    title\n  } = (element === null || element === void 0 ? void 0 : element.data) || {};\n  return mode === 'view' ? __jsx(React.Fragment, null, internal_hash ? __jsx(\"a\", {\n    href: `#${internal_hash}`,\n    title: title,\n    onClick: event => {\n      event.preventDefault();\n      setHashLink(internal_hash, link.hash.internal_hash[0]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, children) : __jsx(UniversalLink, {\n    href: href || '#',\n    openLinkInNewTab: (link === null || link === void 0 ? void 0 : (_link$external2 = link.external) === null || _link$external2 === void 0 ? void 0 : _link$external2.target) === '_blank',\n    title: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, children)) : __jsx(\"span\", _extends({}, attributes, {\n    className: \"slate-editor-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), children);\n});","map":{"version":3,"names":["React","UniversalLink","withHashLink","LinkElement","attributes","children","element","mode","setHashLink","url","link","data","internal_link","internal","external_link","external","email","internal_hash","hash","href","email_address","email_subject","title","event","preventDefault","target"],"sources":["/home/tooler/code/work/forests-frontend/src/develop/volto-slate/src/editor/plugins/Link/render.jsx"],"sourcesContent":["import React from 'react';\nimport { UniversalLink } from '@plone/volto/components';\nimport { withHashLink } from 'volto-slate/hooks';\nimport './styles.less';\n\nexport const LinkElement = withHashLink(\n  ({ attributes, children, element, mode, setHashLink }) => {\n    // TODO: handle title on internal links\n    let url = element.url;\n    const { link } = element.data || {};\n\n    const internal_link = link?.internal?.internal_link?.[0]?.['@id'];\n    const external_link = link?.external?.external_link;\n    const email = link?.email;\n    const internal_hash = link?.hash?.internal_hash?.[0]?.['id'];\n\n    const href = internal_hash\n      ? `#${internal_hash}`\n      : email\n      ? `mailto:${email.email_address}${\n          email.email_subject ? `?subject=${email.email_subject}` : ''\n        }`\n      : external_link || internal_link || url;\n\n    const { title } = element?.data || {};\n\n    return mode === 'view' ? (\n      <>\n        {internal_hash ? (\n          <a\n            href={`#${internal_hash}`}\n            title={title}\n            onClick={(event) => {\n              event.preventDefault();\n              setHashLink(internal_hash, link.hash.internal_hash[0]);\n            }}\n          >\n            {children}\n          </a>\n        ) : (\n          <UniversalLink\n            href={href || '#'}\n            openLinkInNewTab={link?.external?.target === '_blank'}\n            title={title}\n          >\n            {children}\n          </UniversalLink>\n        )}\n      </>\n    ) : (\n      <span {...attributes} className=\"slate-editor-link\">\n        {children}\n      </span>\n    );\n  },\n);\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,yBAAyB;AACvD,SAASC,YAAY,QAAQ,mBAAmB;AAChD,OAAO,eAAe;AAEtB,OAAO,MAAMC,WAAW,GAAGD,YAAY,CACrC,CAAC;EAAEE,UAAU;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,IAAI;EAAEC;AAAY,CAAC,KAAK;EAAA;EACxD;EACA,IAAIC,GAAG,GAAGH,OAAO,CAACG,GAAG;EACrB,MAAM;IAAEC;EAAK,CAAC,GAAGJ,OAAO,CAACK,IAAI,IAAI,CAAC,CAAC;EAEnC,MAAMC,aAAa,GAAGF,IAAI,aAAJA,IAAI,yCAAJA,IAAI,CAAEG,QAAQ,4EAAd,eAAgBD,aAAa,oFAA7B,sBAAgC,CAAC,CAAC,2DAAlC,uBAAqC,KAAK,CAAC;EACjE,MAAME,aAAa,GAAGJ,IAAI,aAAJA,IAAI,yCAAJA,IAAI,CAAEK,QAAQ,mDAAd,eAAgBD,aAAa;EACnD,MAAME,KAAK,GAAGN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,KAAK;EACzB,MAAMC,aAAa,GAAGP,IAAI,aAAJA,IAAI,qCAAJA,IAAI,CAAEQ,IAAI,wEAAV,WAAYD,aAAa,oFAAzB,sBAA4B,CAAC,CAAC,2DAA9B,uBAAiC,IAAI,CAAC;EAE5D,MAAME,IAAI,GAAGF,aAAa,GACrB,IAAGA,aAAc,EAAC,GACnBD,KAAK,GACJ,UAASA,KAAK,CAACI,aAAc,GAC5BJ,KAAK,CAACK,aAAa,GAAI,YAAWL,KAAK,CAACK,aAAc,EAAC,GAAG,EAC3D,EAAC,GACFP,aAAa,IAAIF,aAAa,IAAIH,GAAG;EAEzC,MAAM;IAAEa;EAAM,CAAC,GAAG,CAAAhB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEK,IAAI,KAAI,CAAC,CAAC;EAErC,OAAOJ,IAAI,KAAK,MAAM,GACpB,4BACGU,aAAa,GACZ;IACE,IAAI,EAAG,IAAGA,aAAc,EAAE;IAC1B,KAAK,EAAEK,KAAM;IACb,OAAO,EAAGC,KAAK,IAAK;MAClBA,KAAK,CAACC,cAAc,EAAE;MACtBhB,WAAW,CAACS,aAAa,EAAEP,IAAI,CAACQ,IAAI,CAACD,aAAa,CAAC,CAAC,CAAC,CAAC;IACxD,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEDZ,QAAQ,CACP,GAEJ,MAAC,aAAa;IACZ,IAAI,EAAEc,IAAI,IAAI,GAAI;IAClB,gBAAgB,EAAE,CAAAT,IAAI,aAAJA,IAAI,0CAAJA,IAAI,CAAEK,QAAQ,oDAAd,gBAAgBU,MAAM,MAAK,QAAS;IACtD,KAAK,EAAEH,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEZjB,QAAQ,CAEZ,CACA,GAEH,2BAAUD,UAAU;IAAE,SAAS,EAAC,mBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,IAChDC,QAAQ,CAEZ;AACH,CAAC,CACF"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}